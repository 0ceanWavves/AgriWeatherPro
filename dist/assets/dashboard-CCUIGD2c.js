var um=Object.defineProperty;var fm=(t,e,i)=>e in t?um(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var oe=(t,e,i)=>fm(t,typeof e!="symbol"?e+"":e,i);import{j as c,F as pm,a as zh,b as Dh,c as Ih,d as It,e as Pt,f as mc,g as rn,h as mm,i as gm,k as xm,l as ym,m as _m,n as vm,o as Dn,p as bm,q as gc,r as wm,s as km,t as jm,u as Nm,v as Bh,w as Sm,x as Cm,y as Pm,z as Tm,A as Lm,B as xc,C as Mm,D as Em,E as Yn,G as Do,H as Am,I as Fm}from"./auth-uUeJCO__.js";import{c as Om,a as Rm,r as D,R as Hh,L as Io,u as $h,N as zm}from"./vendor-DrPEMai6.js";var ca={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(i,s){s(e)})(Om,function(i){var s="1.9.4";function r(n){var a,d,p,g;for(d=1,p=arguments.length;d<p;d++){g=arguments[d];for(a in g)n[a]=g[a]}return n}var o=Object.create||function(){function n(){}return function(a){return n.prototype=a,new n}}();function l(n,a){var d=Array.prototype.slice;if(n.bind)return n.bind.apply(n,d.call(arguments,1));var p=d.call(arguments,2);return function(){return n.apply(a,p.length?p.concat(d.call(arguments)):arguments)}}var h=0;function u(n){return"_leaflet_id"in n||(n._leaflet_id=++h),n._leaflet_id}function f(n,a,d){var p,g,y,j;return j=function(){p=!1,g&&(y.apply(d,g),g=!1)},y=function(){p?g=arguments:(n.apply(d,arguments),setTimeout(j,a),p=!0)},y}function m(n,a,d){var p=a[1],g=a[0],y=p-g;return n===p&&d?n:((n-g)%y+y)%y+g}function x(){return!1}function _(n,a){if(a===!1)return n;var d=Math.pow(10,a===void 0?6:a);return Math.round(n*d)/d}function v(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function w(n){return v(n).split(/\s+/)}function b(n,a){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?o(n.options):{});for(var d in a)n.options[d]=a[d];return n.options}function k(n,a,d){var p=[];for(var g in n)p.push(encodeURIComponent(d?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!a||a.indexOf("?")===-1?"?":"&")+p.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function T(n,a){return n.replace(C,function(d,p){var g=a[p];if(g===void 0)throw new Error("No value provided for variable "+d);return typeof g=="function"&&(g=g(a)),g})}var M=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function z(n,a){for(var d=0;d<n.length;d++)if(n[d]===a)return d;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var W=0;function H(n){var a=+new Date,d=Math.max(0,16-(a-W));return W=a+d,window.setTimeout(n,d)}var J=window.requestAnimationFrame||B("RequestAnimationFrame")||H,ue=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Y(n,a,d){if(d&&J===H)n.call(a);else return J.call(window,l(n,a))}function te(n){n&&ue.call(window,n)}var Ie={__proto__:null,extend:r,create:o,bind:l,get lastId(){return h},stamp:u,throttle:f,wrapNum:m,falseFn:x,formatNum:_,trim:v,splitWords:w,setOptions:b,getParamString:k,template:T,isArray:M,indexOf:z,emptyImageUrl:F,requestFn:J,cancelFn:ue,requestAnimFrame:Y,cancelAnimFrame:te};function Ee(){}Ee.extend=function(n){var a=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=a.__super__=this.prototype,p=o(d);p.constructor=a,a.prototype=p;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(a[g]=this[g]);return n.statics&&r(a,n.statics),n.includes&&(ke(n.includes),r.apply(null,[p].concat(n.includes))),r(p,n),delete p.statics,delete p.includes,p.options&&(p.options=d.options?o(d.options):{},r(p.options,n.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,j=p._initHooks.length;y<j;y++)p._initHooks[y].call(this)}},a},Ee.include=function(n){var a=this.prototype.options;return r(this.prototype,n),n.options&&(this.prototype.options=a,this.mergeOptions(n.options)),this},Ee.mergeOptions=function(n){return r(this.prototype.options,n),this},Ee.addInitHook=function(n){var a=Array.prototype.slice.call(arguments,1),d=typeof n=="function"?n:function(){this[n].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ke(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=M(n)?n:[n];for(var a=0;a<n.length;a++)n[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var me={on:function(n,a,d){if(typeof n=="object")for(var p in n)this._on(p,n[p],a);else{n=w(n);for(var g=0,y=n.length;g<y;g++)this._on(n[g],a,d)}return this},off:function(n,a,d){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var p in n)this._off(p,n[p],a);else{n=w(n);for(var g=arguments.length===1,y=0,j=n.length;y<j;y++)g?this._off(n[y]):this._off(n[y],a,d)}return this},_on:function(n,a,d,p){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(n,a,d)===!1){d===this&&(d=void 0);var g={fn:a,ctx:d};p&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,a,d){var p,g,y;if(this._events&&(p=this._events[n],!!p)){if(arguments.length===1){if(this._firingCount)for(g=0,y=p.length;g<y;g++)p[g].fn=x;delete this._events[n];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var j=this._listens(n,a,d);if(j!==!1){var S=p[j];this._firingCount&&(S.fn=x,this._events[n]=p=p.slice()),p.splice(j,1)}}},fire:function(n,a,d){if(!this.listens(n,d))return this;var p=r({},a,{type:n,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var y=0,j=g.length;y<j;y++){var S=g[y],P=S.fn;S.once&&this.off(n,P,S.ctx),P.call(S.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(n,a,d,p){typeof n!="string"&&console.warn('"string" type argument expected');var g=a;typeof a!="function"&&(p=!!a,g=void 0,d=void 0);var y=this._events&&this._events[n];if(y&&y.length&&this._listens(n,g,d)!==!1)return!0;if(p){for(var j in this._eventParents)if(this._eventParents[j].listens(n,a,d,p))return!0}return!1},_listens:function(n,a,d){if(!this._events)return!1;var p=this._events[n]||[];if(!a)return!!p.length;d===this&&(d=void 0);for(var g=0,y=p.length;g<y;g++)if(p[g].fn===a&&p[g].ctx===d)return g;return!1},once:function(n,a,d){if(typeof n=="object")for(var p in n)this._on(p,n[p],a,!0);else{n=w(n);for(var g=0,y=n.length;g<y;g++)this._on(n[g],a,d,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[u(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[u(n)],this},_propagateEvent:function(n){for(var a in this._eventParents)this._eventParents[a].fire(n.type,r({layer:n.target,propagatedFrom:n.target},n),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var Re=Ee.extend(me);function G(n,a,d){this.x=d?Math.round(n):n,this.y=d?Math.round(a):a}var We=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(n){return this.clone()._add(q(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(q(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new G(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new G(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=We(this.x),this.y=We(this.y),this},distanceTo:function(n){n=q(n);var a=n.x-this.x,d=n.y-this.y;return Math.sqrt(a*a+d*d)},equals:function(n){return n=q(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=q(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function q(n,a,d){return n instanceof G?n:M(n)?new G(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new G(n.x,n.y):new G(n,a,d)}function V(n,a){if(n)for(var d=a?[n,a]:n,p=0,g=d.length;p<g;p++)this.extend(d[p])}V.prototype={extend:function(n){var a,d;if(!n)return this;if(n instanceof G||typeof n[0]=="number"||"x"in n)a=d=q(n);else if(n=xe(n),a=n.min,d=n.max,!a||!d)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=d.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(n){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var a,d;return typeof n[0]=="number"||n instanceof G?n=q(n):n=xe(n),n instanceof V?(a=n.min,d=n.max):a=d=n,a.x>=this.min.x&&d.x<=this.max.x&&a.y>=this.min.y&&d.y<=this.max.y},intersects:function(n){n=xe(n);var a=this.min,d=this.max,p=n.min,g=n.max,y=g.x>=a.x&&p.x<=d.x,j=g.y>=a.y&&p.y<=d.y;return y&&j},overlaps:function(n){n=xe(n);var a=this.min,d=this.max,p=n.min,g=n.max,y=g.x>a.x&&p.x<d.x,j=g.y>a.y&&p.y<d.y;return y&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var a=this.min,d=this.max,p=Math.abs(a.x-d.x)*n,g=Math.abs(a.y-d.y)*n;return xe(q(a.x-p,a.y-g),q(d.x+p,d.y+g))},equals:function(n){return n?(n=xe(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function xe(n,a){return!n||n instanceof V?n:new V(n,a)}function Ae(n,a){if(n)for(var d=a?[n,a]:n,p=0,g=d.length;p<g;p++)this.extend(d[p])}Ae.prototype={extend:function(n){var a=this._southWest,d=this._northEast,p,g;if(n instanceof he)p=n,g=n;else if(n instanceof Ae){if(p=n._southWest,g=n._northEast,!p||!g)return this}else return n?this.extend(Q(n)||ge(n)):this;return!a&&!d?(this._southWest=new he(p.lat,p.lng),this._northEast=new he(g.lat,g.lng)):(a.lat=Math.min(p.lat,a.lat),a.lng=Math.min(p.lng,a.lng),d.lat=Math.max(g.lat,d.lat),d.lng=Math.max(g.lng,d.lng)),this},pad:function(n){var a=this._southWest,d=this._northEast,p=Math.abs(a.lat-d.lat)*n,g=Math.abs(a.lng-d.lng)*n;return new Ae(new he(a.lat-p,a.lng-g),new he(d.lat+p,d.lng+g))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof he||"lat"in n?n=Q(n):n=ge(n);var a=this._southWest,d=this._northEast,p,g;return n instanceof Ae?(p=n.getSouthWest(),g=n.getNorthEast()):p=g=n,p.lat>=a.lat&&g.lat<=d.lat&&p.lng>=a.lng&&g.lng<=d.lng},intersects:function(n){n=ge(n);var a=this._southWest,d=this._northEast,p=n.getSouthWest(),g=n.getNorthEast(),y=g.lat>=a.lat&&p.lat<=d.lat,j=g.lng>=a.lng&&p.lng<=d.lng;return y&&j},overlaps:function(n){n=ge(n);var a=this._southWest,d=this._northEast,p=n.getSouthWest(),g=n.getNorthEast(),y=g.lat>a.lat&&p.lat<d.lat,j=g.lng>a.lng&&p.lng<d.lng;return y&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,a){return n?(n=ge(n),this._southWest.equals(n.getSouthWest(),a)&&this._northEast.equals(n.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(n,a){return n instanceof Ae?n:new Ae(n,a)}function he(n,a,d){if(isNaN(n)||isNaN(a))throw new Error("Invalid LatLng object: ("+n+", "+a+")");this.lat=+n,this.lng=+a,d!==void 0&&(this.alt=+d)}he.prototype={equals:function(n,a){if(!n)return!1;n=Q(n);var d=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return d<=(a===void 0?1e-9:a)},toString:function(n){return"LatLng("+_(this.lat,n)+", "+_(this.lng,n)+")"},distanceTo:function(n){return Mt.distance(this,Q(n))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(n){var a=180*n/40075017,d=a/Math.cos(Math.PI/180*this.lat);return ge([this.lat-a,this.lng-d],[this.lat+a,this.lng+d])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function Q(n,a,d){return n instanceof he?n:M(n)&&typeof n[0]!="object"?n.length===3?new he(n[0],n[1],n[2]):n.length===2?new he(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new he(n.lat,"lng"in n?n.lng:n.lon,n.alt):a===void 0?null:new he(n,a,d)}var jt={latLngToPoint:function(n,a){var d=this.projection.project(n),p=this.scale(a);return this.transformation._transform(d,p)},pointToLatLng:function(n,a){var d=this.scale(a),p=this.transformation.untransform(n,d);return this.projection.unproject(p)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var a=this.projection.bounds,d=this.scale(n),p=this.transformation.transform(a.min,d),g=this.transformation.transform(a.max,d);return new V(p,g)},infinite:!1,wrapLatLng:function(n){var a=this.wrapLng?m(n.lng,this.wrapLng,!0):n.lng,d=this.wrapLat?m(n.lat,this.wrapLat,!0):n.lat,p=n.alt;return new he(d,a,p)},wrapLatLngBounds:function(n){var a=n.getCenter(),d=this.wrapLatLng(a),p=a.lat-d.lat,g=a.lng-d.lng;if(p===0&&g===0)return n;var y=n.getSouthWest(),j=n.getNorthEast(),S=new he(y.lat-p,y.lng-g),P=new he(j.lat-p,j.lng-g);return new Ae(S,P)}},Mt=r({},jt,{wrapLng:[-180,180],R:6371e3,distance:function(n,a){var d=Math.PI/180,p=n.lat*d,g=a.lat*d,y=Math.sin((a.lat-n.lat)*d/2),j=Math.sin((a.lng-n.lng)*d/2),S=y*y+Math.cos(p)*Math.cos(g)*j*j,P=2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S));return this.R*P}}),Ui=6378137,Et={R:Ui,MAX_LATITUDE:85.0511287798,project:function(n){var a=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,n.lat),-d),g=Math.sin(p*a);return new G(this.R*n.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var a=180/Math.PI;return new he((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*a,n.x*a/this.R)},bounds:function(){var n=Ui*Math.PI;return new V([-n,-n],[n,n])}()};function qt(n,a,d,p){if(M(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=a,this._c=d,this._d=p}qt.prototype={transform:function(n,a){return this._transform(n.clone(),a)},_transform:function(n,a){return a=a||1,n.x=a*(this._a*n.x+this._b),n.y=a*(this._c*n.y+this._d),n},untransform:function(n,a){return a=a||1,new G((n.x/a-this._b)/this._a,(n.y/a-this._d)/this._c)}};function Nt(n,a,d,p){return new qt(n,a,d,p)}var gn=r({},Mt,{code:"EPSG:3857",projection:Et,transformation:function(){var n=.5/(Math.PI*Et.R);return Nt(n,.5,-n,.5)}()}),xn=r({},gn,{code:"EPSG:900913"});function ai(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Vi(n,a){var d="",p,g,y,j,S,P;for(p=0,y=n.length;p<y;p++){for(S=n[p],g=0,j=S.length;g<j;g++)P=S[g],d+=(g?"L":"M")+P.x+" "+P.y;d+=a?Z.svg?"z":"x":""}return d||"M0 0"}var Zi=document.documentElement.style,_i="ActiveXObject"in window,xs=_i&&!document.addEventListener,ys="msLaunchUri"in navigator&&!("documentMode"in document),Yt=At("webkit"),ro=At("android"),_s=At("android 2")||At("android 3"),oo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ao=ro&&At("Google")&&oo<537&&!("AudioNode"in window),yn=!!window.opera,vs=!ys&&At("chrome"),bs=At("gecko")&&!Yt&&!yn&&!_i,lo=!vs&&At("safari"),N=At("phantom"),A="OTransition"in Zi,R=navigator.platform.indexOf("Win")===0,K=_i&&"transition"in Zi,ee="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_s,be="MozPerspective"in Zi,ve=!window.L_DISABLE_3D&&(K||ee||be)&&!A&&!N,it=typeof orientation<"u"||At("mobile"),de=it&&Yt,Gt=it&&ee,qi=!window.PointerEvent&&window.MSPointerEvent,Xe=!!(window.PointerEvent||qi),co="ontouchstart"in window||!!window.TouchEvent,_n=!window.L_NO_TOUCH&&(co||Xe),ws=it&&yn,Qf=it&&bs,ep=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tp=function(){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",x,a),window.removeEventListener("testPassiveEventSupport",x,a)}catch{}return n}(),ip=function(){return!!document.createElement("canvas").getContext}(),ho=!!(document.createElementNS&&ai("svg").createSVGRect),np=!!ho&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),sp=!ho&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var a=n.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),rp=navigator.platform.indexOf("Mac")===0,op=navigator.platform.indexOf("Linux")===0;function At(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Z={ie:_i,ielt9:xs,edge:ys,webkit:Yt,android:ro,android23:_s,androidStock:ao,opera:yn,chrome:vs,gecko:bs,safari:lo,phantom:N,opera12:A,win:R,ie3d:K,webkit3d:ee,gecko3d:be,any3d:ve,mobile:it,mobileWebkit:de,mobileWebkit3d:Gt,msPointer:qi,pointer:Xe,touch:_n,touchNative:co,mobileOpera:ws,mobileGecko:Qf,retina:ep,passiveEvents:tp,canvas:ip,svg:ho,vml:sp,inlineSvg:np,mac:rp,linux:op},vl=Z.msPointer?"MSPointerDown":"pointerdown",bl=Z.msPointer?"MSPointerMove":"pointermove",wl=Z.msPointer?"MSPointerUp":"pointerup",kl=Z.msPointer?"MSPointerCancel":"pointercancel",uo={touchstart:vl,touchmove:bl,touchend:wl,touchcancel:kl},jl={touchstart:up,touchmove:ks,touchend:ks,touchcancel:ks},Yi={},Nl=!1;function ap(n,a,d){return a==="touchstart"&&hp(),jl[a]?(d=jl[a].bind(this,d),n.addEventListener(uo[a],d,!1),d):(console.warn("wrong event specified:",a),x)}function lp(n,a,d){if(!uo[a]){console.warn("wrong event specified:",a);return}n.removeEventListener(uo[a],d,!1)}function cp(n){Yi[n.pointerId]=n}function dp(n){Yi[n.pointerId]&&(Yi[n.pointerId]=n)}function Sl(n){delete Yi[n.pointerId]}function hp(){Nl||(document.addEventListener(vl,cp,!0),document.addEventListener(bl,dp,!0),document.addEventListener(wl,Sl,!0),document.addEventListener(kl,Sl,!0),Nl=!0)}function ks(n,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var d in Yi)a.touches.push(Yi[d]);a.changedTouches=[a],n(a)}}function up(n,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ue(a),ks(n,a)}function fp(n){var a={},d,p;for(p in n)d=n[p],a[p]=d&&d.bind?d.bind(n):d;return n=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var pp=200;function mp(n,a){n.addEventListener("dblclick",a);var d=0,p;function g(y){if(y.detail!==1){p=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var j=Ml(y);if(!(j.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!j.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var S=Date.now();S-d<=pp?(p++,p===2&&a(fp(y))):p=1,d=S}}}return n.addEventListener("click",g),{dblclick:a,simDblclick:g}}function gp(n,a){n.removeEventListener("dblclick",a.dblclick),n.removeEventListener("click",a.simDblclick)}var fo=Ss(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vn=Ss(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Cl=vn==="webkitTransition"||vn==="OTransition"?vn+"End":"transitionend";function Pl(n){return typeof n=="string"?document.getElementById(n):n}function bn(n,a){var d=n.style[a]||n.currentStyle&&n.currentStyle[a];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(n,null);d=p?p[a]:null}return d==="auto"?null:d}function ye(n,a,d){var p=document.createElement(n);return p.className=a||"",d&&d.appendChild(p),p}function Me(n){var a=n.parentNode;a&&a.removeChild(n)}function js(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Gi(n){var a=n.parentNode;a&&a.lastChild!==n&&a.appendChild(n)}function Ki(n){var a=n.parentNode;a&&a.firstChild!==n&&a.insertBefore(n,a.firstChild)}function po(n,a){if(n.classList!==void 0)return n.classList.contains(a);var d=Ns(n);return d.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(d)}function re(n,a){if(n.classList!==void 0)for(var d=w(a),p=0,g=d.length;p<g;p++)n.classList.add(d[p]);else if(!po(n,a)){var y=Ns(n);mo(n,(y?y+" ":"")+a)}}function Fe(n,a){n.classList!==void 0?n.classList.remove(a):mo(n,v((" "+Ns(n)+" ").replace(" "+a+" "," ")))}function mo(n,a){n.className.baseVal===void 0?n.className=a:n.className.baseVal=a}function Ns(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function gt(n,a){"opacity"in n.style?n.style.opacity=a:"filter"in n.style&&xp(n,a)}function xp(n,a){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=n.filters.item(p)}catch{if(a===1)return}a=Math.round(a*100),d?(d.Enabled=a!==100,d.Opacity=a):n.style.filter+=" progid:"+p+"(opacity="+a+")"}function Ss(n){for(var a=document.documentElement.style,d=0;d<n.length;d++)if(n[d]in a)return n[d];return!1}function vi(n,a,d){var p=a||new G(0,0);n.style[fo]=(Z.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function ze(n,a){n._leaflet_pos=a,Z.any3d?vi(n,a):(n.style.left=a.x+"px",n.style.top=a.y+"px")}function bi(n){return n._leaflet_pos||new G(0,0)}var wn,kn,go;if("onselectstart"in document)wn=function(){ie(window,"selectstart",Ue)},kn=function(){je(window,"selectstart",Ue)};else{var jn=Ss(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(jn){var n=document.documentElement.style;go=n[jn],n[jn]="none"}},kn=function(){jn&&(document.documentElement.style[jn]=go,go=void 0)}}function xo(){ie(window,"dragstart",Ue)}function yo(){je(window,"dragstart",Ue)}var Cs,_o;function vo(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Ps(),Cs=n,_o=n.style.outlineStyle,n.style.outlineStyle="none",ie(window,"keydown",Ps))}function Ps(){Cs&&(Cs.style.outlineStyle=_o,Cs=void 0,_o=void 0,je(window,"keydown",Ps))}function Tl(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function bo(n){var a=n.getBoundingClientRect();return{x:a.width/n.offsetWidth||1,y:a.height/n.offsetHeight||1,boundingClientRect:a}}var yp={__proto__:null,TRANSFORM:fo,TRANSITION:vn,TRANSITION_END:Cl,get:Pl,getStyle:bn,create:ye,remove:Me,empty:js,toFront:Gi,toBack:Ki,hasClass:po,addClass:re,removeClass:Fe,setClass:mo,getClass:Ns,setOpacity:gt,testProp:Ss,setTransform:vi,setPosition:ze,getPosition:bi,get disableTextSelection(){return wn},get enableTextSelection(){return kn},disableImageDrag:xo,enableImageDrag:yo,preventOutline:vo,restoreOutline:Ps,getSizedParentNode:Tl,getScale:bo};function ie(n,a,d,p){if(a&&typeof a=="object")for(var g in a)ko(n,g,a[g],d);else{a=w(a);for(var y=0,j=a.length;y<j;y++)ko(n,a[y],d,p)}return this}var Ft="_leaflet_events";function je(n,a,d,p){if(arguments.length===1)Ll(n),delete n[Ft];else if(a&&typeof a=="object")for(var g in a)jo(n,g,a[g],d);else if(a=w(a),arguments.length===2)Ll(n,function(S){return z(a,S)!==-1});else for(var y=0,j=a.length;y<j;y++)jo(n,a[y],d,p);return this}function Ll(n,a){for(var d in n[Ft]){var p=d.split(/\d/)[0];(!a||a(p))&&jo(n,p,null,null,d)}}var wo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ko(n,a,d,p){var g=a+u(d)+(p?"_"+u(p):"");if(n[Ft]&&n[Ft][g])return this;var y=function(S){return d.call(p||n,S||window.event)},j=y;!Z.touchNative&&Z.pointer&&a.indexOf("touch")===0?y=ap(n,a,y):Z.touch&&a==="dblclick"?y=mp(n,y):"addEventListener"in n?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?n.addEventListener(wo[a]||a,y,Z.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(y=function(S){S=S||window.event,So(n,S)&&j(S)},n.addEventListener(wo[a],y,!1)):n.addEventListener(a,j,!1):n.attachEvent("on"+a,y),n[Ft]=n[Ft]||{},n[Ft][g]=y}function jo(n,a,d,p,g){g=g||a+u(d)+(p?"_"+u(p):"");var y=n[Ft]&&n[Ft][g];if(!y)return this;!Z.touchNative&&Z.pointer&&a.indexOf("touch")===0?lp(n,a,y):Z.touch&&a==="dblclick"?gp(n,y):"removeEventListener"in n?n.removeEventListener(wo[a]||a,y,!1):n.detachEvent("on"+a,y),n[Ft][g]=null}function wi(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function No(n){return ko(n,"wheel",wi),this}function Nn(n){return ie(n,"mousedown touchstart dblclick contextmenu",wi),n._leaflet_disable_click=!0,this}function Ue(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ki(n){return Ue(n),wi(n),this}function Ml(n){if(n.composedPath)return n.composedPath();for(var a=[],d=n.target;d;)a.push(d),d=d.parentNode;return a}function El(n,a){if(!a)return new G(n.clientX,n.clientY);var d=bo(a),p=d.boundingClientRect;return new G((n.clientX-p.left)/d.x-a.clientLeft,(n.clientY-p.top)/d.y-a.clientTop)}var _p=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Al(n){return Z.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/_p:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function So(n,a){var d=a.relatedTarget;if(!d)return!0;try{for(;d&&d!==n;)d=d.parentNode}catch{return!1}return d!==n}var vp={__proto__:null,on:ie,off:je,stopPropagation:wi,disableScrollPropagation:No,disableClickPropagation:Nn,preventDefault:Ue,stop:ki,getPropagationPath:Ml,getMousePosition:El,getWheelDelta:Al,isExternalTarget:So,addListener:ie,removeListener:je},Fl=Re.extend({run:function(n,a,d,p){this.stop(),this._el=n,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=bi(n),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(n){var a=+new Date-this._startTime,d=this._duration*1e3;a<d?this._runFrame(this._easeOut(a/d),n):(this._runFrame(1),this._complete())},_runFrame:function(n,a){var d=this._startPos.add(this._offset.multiplyBy(n));a&&d._round(),ze(this._el,d),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),fe=Re.extend({options:{crs:gn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,a){a=b(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Q(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vn&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ie(this._proxy,Cl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,a,d){if(a=a===void 0?this._zoom:this._limitZoom(a),n=this._limitCenter(Q(n),a,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=r({animate:d.animate},d.zoom),d.pan=r({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,a,d.zoom):this._tryAnimatedPan(n,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(n,a,d.pan&&d.pan.noMoveStart),this},setZoom:function(n,a){return this._loaded?this.setView(this.getCenter(),n,{zoom:a}):(this._zoom=n,this)},zoomIn:function(n,a){return n=n||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,a)},zoomOut:function(n,a){return n=n||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,a)},setZoomAround:function(n,a,d){var p=this.getZoomScale(a),g=this.getSize().divideBy(2),y=n instanceof G?n:this.latLngToContainerPoint(n),j=y.subtract(g).multiplyBy(1-1/p),S=this.containerPointToLatLng(g.add(j));return this.setView(S,a,{zoom:d})},_getBoundsCenterZoom:function(n,a){a=a||{},n=n.getBounds?n.getBounds():ge(n);var d=q(a.paddingTopLeft||a.padding||[0,0]),p=q(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(n,!1,d.add(p));if(g=typeof a.maxZoom=="number"?Math.min(a.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var y=p.subtract(d).divideBy(2),j=this.project(n.getSouthWest(),g),S=this.project(n.getNorthEast(),g),P=this.unproject(j.add(S).divideBy(2).add(y),g);return{center:P,zoom:g}},fitBounds:function(n,a){if(n=ge(n),!n.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(n,a);return this.setView(d.center,d.zoom,a)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,a){return this.setView(n,this._zoom,{pan:a})},panBy:function(n,a){if(n=q(n).round(),a=a||{},!n.x&&!n.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){re(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,d,a.duration||.25,a.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,a,d){if(d=d||{},d.animate===!1||!Z.any3d)return this.setView(n,a,d);this._stop();var p=this.project(this.getCenter()),g=this.project(n),y=this.getSize(),j=this._zoom;n=Q(n),a=a===void 0?j:a;var S=Math.max(y.x,y.y),P=S*this.getZoomScale(j,a),O=g.distanceTo(p)||1,$=1.42,X=$*$;function le(De){var Bs=De?-1:1,lm=De?P:S,cm=P*P-S*S+Bs*X*X*O*O,dm=2*lm*X*O,zo=cm/dm,pc=Math.sqrt(zo*zo+1)-zo,hm=pc<1e-9?-18:Math.log(pc);return hm}function Je(De){return(Math.exp(De)-Math.exp(-De))/2}function Be(De){return(Math.exp(De)+Math.exp(-De))/2}function yt(De){return Je(De)/Be(De)}var nt=le(0);function nn(De){return S*(Be(nt)/Be(nt+$*De))}function sm(De){return S*(Be(nt)*yt(nt+$*De)-Je(nt))/X}function rm(De){return 1-Math.pow(1-De,1.5)}var om=Date.now(),uc=(le(1)-nt)/$,am=d.duration?1e3*d.duration:1e3*uc*.8;function fc(){var De=(Date.now()-om)/am,Bs=rm(De)*uc;De<=1?(this._flyToFrame=Y(fc,this),this._move(this.unproject(p.add(g.subtract(p).multiplyBy(sm(Bs)/O)),j),this.getScaleZoom(S/nn(Bs),j),{flyTo:!0})):this._move(n,a)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),fc.call(this),this},flyToBounds:function(n,a){var d=this._getBoundsCenterZoom(n,a);return this.flyTo(d.center,d.zoom,a)},setMaxBounds:function(n){return n=ge(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var a=this.options.minZoom;return this.options.minZoom=n,this._loaded&&a!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var a=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&a!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,a){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,ge(n));return d.equals(p)||this.panTo(p,a),this._enforcingBounds=!1,this},panInside:function(n,a){a=a||{};var d=q(a.paddingTopLeft||a.padding||[0,0]),p=q(a.paddingBottomRight||a.padding||[0,0]),g=this.project(this.getCenter()),y=this.project(n),j=this.getPixelBounds(),S=xe([j.min.add(d),j.max.subtract(p)]),P=S.getSize();if(!S.contains(y)){this._enforcingBounds=!0;var O=y.subtract(S.getCenter()),$=S.extend(y).getSize().subtract(P);g.x+=O.x<0?-$.x:$.x,g.y+=O.y<0?-$.y:$.y,this.panTo(this.unproject(g),a),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=r({animate:!1,pan:!0},n===!0?{animate:!0}:n);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=a.divideBy(2).round(),g=d.divideBy(2).round(),y=p.subtract(g);return!y.x&&!y.y?this:(n.animate&&n.pan?this.panBy(y):(n.pan&&this._rawPanBy(y),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=r({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),d=l(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,d,n):navigator.geolocation.getCurrentPosition(a,d,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var a=n.code,d=n.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var a=n.coords.latitude,d=n.coords.longitude,p=new he(a,d),g=p.toBounds(n.coords.accuracy*2),y=this._locateOptions;if(y.setView){var j=this.getBoundsZoom(g);this.setView(p,y.maxZoom?Math.min(j,y.maxZoom):j)}var S={latlng:p,bounds:g,timestamp:n.timestamp};for(var P in n.coords)typeof n.coords[P]=="number"&&(S[P]=n.coords[P]);this.fire("locationfound",S)}},addHandler:function(n,a){if(!a)return this;var d=this[n]=new a(this);return this._handlers.push(d),this.options[n]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Me(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,a){var d="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),p=ye("div",d,a||this._mapPane);return n&&(this._panes[n]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),a=this.unproject(n.getBottomLeft()),d=this.unproject(n.getTopRight());return new Ae(a,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,a,d){n=ge(n),d=q(d||[0,0]);var p=this.getZoom()||0,g=this.getMinZoom(),y=this.getMaxZoom(),j=n.getNorthWest(),S=n.getSouthEast(),P=this.getSize().subtract(d),O=xe(this.project(S,p),this.project(j,p)).getSize(),$=Z.any3d?this.options.zoomSnap:1,X=P.x/O.x,le=P.y/O.y,Je=a?Math.max(X,le):Math.min(X,le);return p=this.getScaleZoom(Je,p),$&&(p=Math.round(p/($/100))*($/100),p=a?Math.ceil(p/$)*$:Math.floor(p/$)*$),Math.max(g,Math.min(y,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,a){var d=this._getTopLeftPoint(n,a);return new V(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,a){var d=this.options.crs;return a=a===void 0?this._zoom:a,d.scale(n)/d.scale(a)},getScaleZoom:function(n,a){var d=this.options.crs;a=a===void 0?this._zoom:a;var p=d.zoom(n*d.scale(a));return isNaN(p)?1/0:p},project:function(n,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Q(n),a)},unproject:function(n,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(q(n),a)},layerPointToLatLng:function(n){var a=q(n).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(n){var a=this.project(Q(n))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(Q(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ge(n))},distance:function(n,a){return this.options.crs.distance(Q(n),Q(a))},containerPointToLayerPoint:function(n){return q(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return q(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var a=this.containerPointToLayerPoint(q(n));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Q(n)))},mouseEventToContainerPoint:function(n){return El(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var a=this._container=Pl(n);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ie(a,"scroll",this._onScroll,this),this._containerId=u(a)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,re(n,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=bn(n,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ze(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(re(n.markerPane,"leaflet-zoom-hide"),re(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,a,d){ze(this._mapPane,new G(0,0));var p=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var g=this._zoom!==a;this._moveStart(g,d)._move(n,a)._moveEnd(g),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(n,a){return n&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(n,a,d,p){a===void 0&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),p?d&&d.pinch&&this.fire("zoom",d):((g||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){ze(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[u(this._container)]=this;var a=n?je:ie;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,a){for(var d=[],p,g=a==="mouseout"||a==="mouseover",y=n.target||n.srcElement,j=!1;y;){if(p=this._targets[u(y)],p&&(a==="click"||a==="preclick")&&this._draggableMoved(p)){j=!0;break}if(p&&p.listens(a,!0)&&(g&&!So(y,n)||(d.push(p),g))||y===this._container)break;y=y.parentNode}return!d.length&&!j&&!g&&this.listens(a,!0)&&(d=[this]),d},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var a=n.target||n.srcElement;if(!(!this._loaded||a._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(a))){var d=n.type;d==="mousedown"&&vo(a),this._fireDOMEvent(n,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,a,d){if(n.type==="click"){var p=r({},n);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var g=this._findEventTargets(n,a);if(d){for(var y=[],j=0;j<d.length;j++)d[j].listens(a,!0)&&y.push(d[j]);g=y.concat(g)}if(g.length){a==="contextmenu"&&Ue(n);var S=g[0],P={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var O=S.getLatLng&&(!S._radius||S._radius<=10);P.containerPoint=O?this.latLngToContainerPoint(S.getLatLng()):this.mouseEventToContainerPoint(n),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=O?S.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(j=0;j<g.length;j++)if(g[j].fire(a,P,!0),P.originalEvent._stopped||g[j].options.bubblingMouseEvents===!1&&z(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,a=this._handlers.length;n<a;n++)this._handlers[n].disable()},whenReady:function(n,a){return this._loaded?n.call(a||this,{target:this}):this.on("load",n,a),this},_getMapPanePos:function(){return bi(this._mapPane)||new G(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,a){var d=n&&a!==void 0?this._getNewPixelOrigin(n,a):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,a){var d=this.getSize()._divideBy(2);return this.project(n,a)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,a,d){var p=this._getNewPixelOrigin(d,a);return this.project(n,a)._subtract(p)},_latLngBoundsToNewLayerBounds:function(n,a,d){var p=this._getNewPixelOrigin(d,a);return xe([this.project(n.getSouthWest(),a)._subtract(p),this.project(n.getNorthWest(),a)._subtract(p),this.project(n.getSouthEast(),a)._subtract(p),this.project(n.getNorthEast(),a)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,a,d){if(!d)return n;var p=this.project(n,a),g=this.getSize().divideBy(2),y=new V(p.subtract(g),p.add(g)),j=this._getBoundsOffset(y,d,a);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?n:this.unproject(p.add(j),a)},_limitOffset:function(n,a){if(!a)return n;var d=this.getPixelBounds(),p=new V(d.min.add(n),d.max.add(n));return n.add(this._getBoundsOffset(p,a))},_getBoundsOffset:function(n,a,d){var p=xe(this.project(a.getNorthEast(),d),this.project(a.getSouthWest(),d)),g=p.min.subtract(n.min),y=p.max.subtract(n.max),j=this._rebound(g.x,-y.x),S=this._rebound(g.y,-y.y);return new G(j,S)},_rebound:function(n,a){return n+a>0?Math.round(n-a)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(a))},_limitZoom:function(n){var a=this.getMinZoom(),d=this.getMaxZoom(),p=Z.any3d?this.options.zoomSnap:1;return p&&(n=Math.round(n/p)*p),Math.max(a,Math.min(d,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,a){var d=this._getCenterOffset(n)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,a),!0)},_createAnimProxy:function(){var n=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(a){var d=fo,p=this._proxy.style[d];vi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),a=this.getZoom();vi(this._proxy,this.project(n,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,a,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(a),g=this._getCenterOffset(n)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(g)?!1:(Y(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(n,a,!0)},this),!0)},_animateZoom:function(n,a,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=a,re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:a,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function bp(n,a){return new fe(n,a)}var St=Ee.extend({options:{position:"topright"},initialize:function(n){b(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var a=this._map;return a&&a.removeControl(this),this.options.position=n,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var a=this._container=this.onAdd(n),d=this.getPosition(),p=n._controlCorners[d];return re(a,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(a,p.firstChild):p.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Sn=function(n){return new St(n)};fe.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},a="leaflet-",d=this._controlContainer=ye("div",a+"control-container",this._container);function p(g,y){var j=a+g+" "+a+y;n[g+y]=ye("div",j,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Me(this._controlCorners[n]);Me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ol=St.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,a,d,p){return d<p?-1:p<d?1:0}},initialize:function(n,a,d){b(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in n)this._addLayer(n[p],p);for(p in a)this._addLayer(a[p],p,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return St.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,a){return this._addLayer(n,a),this._map?this._update():this},addOverlay:function(n,a){return this._addLayer(n,a,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var a=this._getLayer(u(n));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",a=this._container=ye("div",n),d=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Nn(a),No(a);var p=this._section=ye("section",n+"-list");d&&(this._map.on("click",this.collapse,this),ie(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=ye("a",n+"-toggle",a);g.href="#",g.title="Layers",g.setAttribute("role","button"),ie(g,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){Ue(y),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ye("div",n+"-base",p),this._separator=ye("div",n+"-separator",p),this._overlaysList=ye("div",n+"-overlays",p),a.appendChild(p)},_getLayer:function(n){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&u(this._layers[a].layer)===n)return this._layers[a]},_addLayer:function(n,a,d){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:a,overlay:d}),this.options.sortLayers&&this._layers.sort(l(function(p,g){return this.options.sortFunction(p.layer,g.layer,p.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;js(this._baseLayersList),js(this._overlaysList),this._layerControlInputs=[];var n,a,d,p,g=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),a=a||p.overlay,n=n||!p.overlay,g+=p.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=a&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var a=this._getLayer(u(n.target)),d=a.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;d&&this._map.fire(d,a)},_createRadioElement:function(n,a){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(a?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(n){var a=document.createElement("label"),d=this._map.hasLayer(n.layer),p;n.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+u(this),d),this._layerControlInputs.push(p),p.layerId=u(n.layer),ie(p,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var y=document.createElement("span");a.appendChild(y),y.appendChild(p),y.appendChild(g);var j=n.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,a,d,p=[],g=[];this._handlingClick=!0;for(var y=n.length-1;y>=0;y--)a=n[y],d=this._getLayer(a.layerId).layer,a.checked?p.push(d):a.checked||g.push(d);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])&&this._map.removeLayer(g[y]);for(y=0;y<p.length;y++)this._map.hasLayer(p[y])||this._map.addLayer(p[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,a,d,p=this._map.getZoom(),g=n.length-1;g>=0;g--)a=n[g],d=this._getLayer(a.layerId).layer,a.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ie(n,"click",Ue),this.expand();var a=this;setTimeout(function(){je(n,"click",Ue),a._preventClick=!1})}}),wp=function(n,a,d){return new Ol(n,a,d)},Co=St.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var a="leaflet-control-zoom",d=ye("div",a+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,a+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,a+"-out",d,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,a,d,p,g){var y=ye("a",d,p);return y.innerHTML=n,y.href="#",y.title=a,y.setAttribute("role","button"),y.setAttribute("aria-label",a),Nn(y),ie(y,"click",ki),ie(y,"click",g,this),ie(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var n=this._map,a="leaflet-disabled";Fe(this._zoomInButton,a),Fe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(re(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(re(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});fe.mergeOptions({zoomControl:!0}),fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Co,this.addControl(this.zoomControl))});var kp=function(n){return new Co(n)},Rl=St.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var a="leaflet-control-scale",d=ye("div",a),p=this.options;return this._addScales(p,a+"-line",d),n.on(p.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),d},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,a,d){n.metric&&(this._mScale=ye("div",a,d)),n.imperial&&(this._iScale=ye("div",a,d))},_update:function(){var n=this._map,a=n.getSize().y/2,d=n.distance(n.containerPointToLatLng([0,a]),n.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(d)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var a=this._getRoundNum(n),d=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,d,a/n)},_updateImperial:function(n){var a=n*3.2808399,d,p,g;a>5280?(d=a/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(n,a,d){n.style.width=Math.round(this.options.maxWidth*d)+"px",n.innerHTML=a},_getRoundNum:function(n){var a=Math.pow(10,(Math.floor(n)+"").length-1),d=n/a;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,a*d}}),jp=function(n){return new Rl(n)},Np='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Po=St.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?Np+" ":"")+"Leaflet</a>"},initialize:function(n){b(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),Nn(this._container);for(var a in n._layers)n._layers[a].getAttribution&&this.addAttribution(n._layers[a].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var a in this._attributions)this._attributions[a]&&n.push(a);var d=[];this.options.prefix&&d.push(this.options.prefix),n.length&&d.push(n.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});fe.mergeOptions({attributionControl:!0}),fe.addInitHook(function(){this.options.attributionControl&&new Po().addTo(this)});var Sp=function(n){return new Po(n)};St.Layers=Ol,St.Zoom=Co,St.Scale=Rl,St.Attribution=Po,Sn.layers=wp,Sn.zoom=kp,Sn.scale=jp,Sn.attribution=Sp;var Ot=Ee.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ot.addTo=function(n,a){return n.addHandler(a,this),this};var Cp={Events:me},zl=Z.touch?"touchstart mousedown":"mousedown",li=Re.extend({options:{clickTolerance:3},initialize:function(n,a,d,p){b(this,p),this._element=n,this._dragStartTarget=a||n,this._preventOutline=d},enable:function(){this._enabled||(ie(this._dragStartTarget,zl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(!0),je(this._dragStartTarget,zl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!po(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(li._dragging=this,this._preventOutline&&vo(this._element),xo(),wn(),!this._moving)){this.fire("down");var a=n.touches?n.touches[0]:n,d=Tl(this._element);this._startPoint=new G(a.clientX,a.clientY),this._startPos=bi(this._element),this._parentScale=bo(d);var p=n.type==="mousedown";ie(document,p?"mousemove":"touchmove",this._onMove,this),ie(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var a=n.touches&&n.touches.length===1?n.touches[0]:n,d=new G(a.clientX,a.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Ue(n),this._moved||(this.fire("dragstart"),this._moved=!0,re(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),ze(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Fe(document.body,"leaflet-dragging"),this._lastTarget&&(Fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),je(document,"mousemove touchmove",this._onMove,this),je(document,"mouseup touchend touchcancel",this._onUp,this),yo(),kn();var a=this._moved&&this._moving;this._moving=!1,li._dragging=!1,a&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Dl(n,a,d){var p,g=[1,4,2,8],y,j,S,P,O,$,X,le;for(y=0,$=n.length;y<$;y++)n[y]._code=ji(n[y],a);for(S=0;S<4;S++){for(X=g[S],p=[],y=0,$=n.length,j=$-1;y<$;j=y++)P=n[y],O=n[j],P._code&X?O._code&X||(le=Ts(O,P,X,a,d),le._code=ji(le,a),p.push(le)):(O._code&X&&(le=Ts(O,P,X,a,d),le._code=ji(le,a),p.push(le)),p.push(P));n=p}return n}function Il(n,a){var d,p,g,y,j,S,P,O,$;if(!n||n.length===0)throw new Error("latlngs not passed");xt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var X=Q([0,0]),le=ge(n),Je=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());Je<1700&&(X=To(n));var Be=n.length,yt=[];for(d=0;d<Be;d++){var nt=Q(n[d]);yt.push(a.project(Q([nt.lat-X.lat,nt.lng-X.lng])))}for(S=P=O=0,d=0,p=Be-1;d<Be;p=d++)g=yt[d],y=yt[p],j=g.y*y.x-y.y*g.x,P+=(g.x+y.x)*j,O+=(g.y+y.y)*j,S+=j*3;S===0?$=yt[0]:$=[P/S,O/S];var nn=a.unproject(q($));return Q([nn.lat+X.lat,nn.lng+X.lng])}function To(n){for(var a=0,d=0,p=0,g=0;g<n.length;g++){var y=Q(n[g]);a+=y.lat,d+=y.lng,p++}return Q([a/p,d/p])}var Pp={__proto__:null,clipPolygon:Dl,polygonCenter:Il,centroid:To};function Bl(n,a){if(!a||!n.length)return n.slice();var d=a*a;return n=Mp(n,d),n=Lp(n,d),n}function Hl(n,a,d){return Math.sqrt(Cn(n,a,d,!0))}function Tp(n,a,d){return Cn(n,a,d)}function Lp(n,a){var d=n.length,p=typeof Uint8Array<"u"?Uint8Array:Array,g=new p(d);g[0]=g[d-1]=1,Lo(n,g,a,0,d-1);var y,j=[];for(y=0;y<d;y++)g[y]&&j.push(n[y]);return j}function Lo(n,a,d,p,g){var y=0,j,S,P;for(S=p+1;S<=g-1;S++)P=Cn(n[S],n[p],n[g],!0),P>y&&(j=S,y=P);y>d&&(a[j]=1,Lo(n,a,d,p,j),Lo(n,a,d,j,g))}function Mp(n,a){for(var d=[n[0]],p=1,g=0,y=n.length;p<y;p++)Ep(n[p],n[g])>a&&(d.push(n[p]),g=p);return g<y-1&&d.push(n[y-1]),d}var $l;function Wl(n,a,d,p,g){var y=p?$l:ji(n,d),j=ji(a,d),S,P,O;for($l=j;;){if(!(y|j))return[n,a];if(y&j)return!1;S=y||j,P=Ts(n,a,S,d,g),O=ji(P,d),S===y?(n=P,y=O):(a=P,j=O)}}function Ts(n,a,d,p,g){var y=a.x-n.x,j=a.y-n.y,S=p.min,P=p.max,O,$;return d&8?(O=n.x+y*(P.y-n.y)/j,$=P.y):d&4?(O=n.x+y*(S.y-n.y)/j,$=S.y):d&2?(O=P.x,$=n.y+j*(P.x-n.x)/y):d&1&&(O=S.x,$=n.y+j*(S.x-n.x)/y),new G(O,$,g)}function ji(n,a){var d=0;return n.x<a.min.x?d|=1:n.x>a.max.x&&(d|=2),n.y<a.min.y?d|=4:n.y>a.max.y&&(d|=8),d}function Ep(n,a){var d=a.x-n.x,p=a.y-n.y;return d*d+p*p}function Cn(n,a,d,p){var g=a.x,y=a.y,j=d.x-g,S=d.y-y,P=j*j+S*S,O;return P>0&&(O=((n.x-g)*j+(n.y-y)*S)/P,O>1?(g=d.x,y=d.y):O>0&&(g+=j*O,y+=S*O)),j=n.x-g,S=n.y-y,p?j*j+S*S:new G(g,y)}function xt(n){return!M(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ul(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xt(n)}function Vl(n,a){var d,p,g,y,j,S,P,O;if(!n||n.length===0)throw new Error("latlngs not passed");xt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var $=Q([0,0]),X=ge(n),le=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());le<1700&&($=To(n));var Je=n.length,Be=[];for(d=0;d<Je;d++){var yt=Q(n[d]);Be.push(a.project(Q([yt.lat-$.lat,yt.lng-$.lng])))}for(d=0,p=0;d<Je-1;d++)p+=Be[d].distanceTo(Be[d+1])/2;if(p===0)O=Be[0];else for(d=0,y=0;d<Je-1;d++)if(j=Be[d],S=Be[d+1],g=j.distanceTo(S),y+=g,y>p){P=(y-p)/g,O=[S.x-P*(S.x-j.x),S.y-P*(S.y-j.y)];break}var nt=a.unproject(q(O));return Q([nt.lat+$.lat,nt.lng+$.lng])}var Ap={__proto__:null,simplify:Bl,pointToSegmentDistance:Hl,closestPointOnSegment:Tp,clipSegment:Wl,_getEdgeIntersection:Ts,_getBitCode:ji,_sqClosestPointOnSegment:Cn,isFlat:xt,_flat:Ul,polylineCenter:Vl},Mo={project:function(n){return new G(n.lng,n.lat)},unproject:function(n){return new he(n.y,n.x)},bounds:new V([-180,-90],[180,90])},Eo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var a=Math.PI/180,d=this.R,p=n.lat*a,g=this.R_MINOR/d,y=Math.sqrt(1-g*g),j=y*Math.sin(p),S=Math.tan(Math.PI/4-p/2)/Math.pow((1-j)/(1+j),y/2);return p=-d*Math.log(Math.max(S,1e-10)),new G(n.lng*a*d,p)},unproject:function(n){for(var a=180/Math.PI,d=this.R,p=this.R_MINOR/d,g=Math.sqrt(1-p*p),y=Math.exp(-n.y/d),j=Math.PI/2-2*Math.atan(y),S=0,P=.1,O;S<15&&Math.abs(P)>1e-7;S++)O=g*Math.sin(j),O=Math.pow((1-O)/(1+O),g/2),P=Math.PI/2-2*Math.atan(y*O)-j,j+=P;return new he(j*a,n.x*a/d)}},Fp={__proto__:null,LonLat:Mo,Mercator:Eo,SphericalMercator:Et},Op=r({},Mt,{code:"EPSG:3395",projection:Eo,transformation:function(){var n=.5/(Math.PI*Eo.R);return Nt(n,.5,-n,.5)}()}),Zl=r({},Mt,{code:"EPSG:4326",projection:Mo,transformation:Nt(1/180,1,-1/180,.5)}),Rp=r({},jt,{projection:Mo,transformation:Nt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,a){var d=a.lng-n.lng,p=a.lat-n.lat;return Math.sqrt(d*d+p*p)},infinite:!0});jt.Earth=Mt,jt.EPSG3395=Op,jt.EPSG3857=gn,jt.EPSG900913=xn,jt.EPSG4326=Zl,jt.Simple=Rp;var Ct=Re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[u(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[u(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var a=n.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var d=this.getEvents();a.on(d,this),this.once("remove",function(){a.off(d,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});fe.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var a=u(n);return this._layers[a]?this:(this._layers[a]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var a=u(n);return this._layers[a]?(this._loaded&&n.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return u(n)in this._layers},eachLayer:function(n,a){for(var d in this._layers)n.call(a,this._layers[d]);return this},_addLayers:function(n){n=n?M(n)?n:[n]:[];for(var a=0,d=n.length;a<d;a++)this.addLayer(n[a])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[u(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var a=u(n);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,a=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var g=this._zoomBoundLayers[p].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),a=g.maxZoom===void 0?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=n===1/0?void 0:n,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xi=Ct.extend({initialize:function(n,a){b(this,a),this._layers={};var d,p;if(n)for(d=0,p=n.length;d<p;d++)this.addLayer(n[d])},addLayer:function(n){var a=this.getLayerId(n);return this._layers[a]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var a=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(n){var a=typeof n=="number"?n:this.getLayerId(n);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var a=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[n]&&p[n].apply(p,a);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,a){for(var d in this._layers)n.call(a,this._layers[d]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return u(n)}}),zp=function(n,a){return new Xi(n,a)},Kt=Xi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Xi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Xi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Ae;for(var a in this._layers){var d=this._layers[a];n.extend(d.getBounds?d.getBounds():d.getLatLng())}return n}}),Dp=function(n,a){return new Kt(n,a)},Ji=Ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){b(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,a){var d=this._getIconUrl(n);if(!d){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(p,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(n,a){var d=this.options,p=d[a+"Size"];typeof p=="number"&&(p=[p,p]);var g=q(p),y=q(a==="shadow"&&d.shadowAnchor||d.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+a+" "+(d.className||""),y&&(n.style.marginLeft=-y.x+"px",n.style.marginTop=-y.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,a){return a=a||document.createElement("img"),a.src=n,a},_getIconUrl:function(n){return Z.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Ip(n){return new Ji(n)}var Pn=Ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Pn.imagePath!="string"&&(Pn.imagePath=this._detectIconPath()),(this.options.imagePath||Pn.imagePath)+Ji.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var a=function(d,p,g){var y=p.exec(d);return y&&y[g]};return n=a(n,/^url\((['"])?(.+)\1\)$/,2),n&&a(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ye("div","leaflet-default-icon-path",document.body),a=bn(n,"background-image")||bn(n,"backgroundImage");if(document.body.removeChild(n),a=this._stripUrl(a),a)return a;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),ql=Ot.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new li(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),re(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var a=this._marker,d=a._map,p=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,y=bi(a._icon),j=d.getPixelBounds(),S=d.getPixelOrigin(),P=xe(j.min._subtract(S).add(g),j.max._subtract(S).subtract(g));if(!P.contains(y)){var O=q((Math.max(P.max.x,y.x)-P.max.x)/(j.max.x-P.max.x)-(Math.min(P.min.x,y.x)-P.min.x)/(j.min.x-P.min.x),(Math.max(P.max.y,y.y)-P.max.y)/(j.max.y-P.max.y)-(Math.min(P.min.y,y.y)-P.min.y)/(j.min.y-P.min.y)).multiplyBy(p);d.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),ze(a._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Y(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,n)))},_onDrag:function(n){var a=this._marker,d=a._shadow,p=bi(a._icon),g=a._map.layerPointToLatLng(p);d&&ze(d,p),a._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,a.fire("move",n).fire("drag",n)},_onDragEnd:function(n){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Ls=Ct.extend({options:{icon:new Pn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,a){b(this,a),this._latlng=Q(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var a=this._latlng;return this._latlng=Q(n),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=n.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,n.title&&(d.title=n.title),d.tagName==="IMG"&&(d.alt=n.alt||"")),re(d,a),n.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ie(d,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),y=!1;g!==this._shadow&&(this._removeShadow(),y=!0),g&&(re(g,a),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&y&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(this._icon,"focus",this._panOnFocus,this),Me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Me(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&ze(this._icon,n),this._shadow&&ze(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ql)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ql(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&gt(this._icon,n),this._shadow&&gt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var a=this.options.icon.options,d=a.iconSize?q(a.iconSize):q(0,0),p=a.iconAnchor?q(a.iconAnchor):q(0,0);n.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bp(n,a){return new Ls(n,a)}var ci=Ct.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return b(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ms=ci.extend({options:{fill:!0,radius:10},initialize:function(n,a){b(this,a),this._latlng=Q(n),this._radius=this.options.radius},setLatLng:function(n){var a=this._latlng;return this._latlng=Q(n),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var a=n&&n.radius||this._radius;return ci.prototype.setStyle.call(this,n),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,a=this._radiusY||n,d=this._clickTolerance(),p=[n+d,a+d];this._pxBounds=new V(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Hp(n,a){return new Ms(n,a)}var Ao=Ms.extend({initialize:function(n,a,d){if(typeof a=="number"&&(a=r({},d,{radius:a})),b(this,a),this._latlng=Q(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:ci.prototype.setStyle,_project:function(){var n=this._latlng.lng,a=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===Mt.distance){var g=Math.PI/180,y=this._mRadius/Mt.R/g,j=d.project([a+y,n]),S=d.project([a-y,n]),P=j.add(S).divideBy(2),O=d.unproject(P).lat,$=Math.acos((Math.cos(y*g)-Math.sin(a*g)*Math.sin(O*g))/(Math.cos(a*g)*Math.cos(O*g)))/g;(isNaN($)||$===0)&&($=y/Math.cos(Math.PI/180*a)),this._point=P.subtract(d.getPixelOrigin()),this._radius=isNaN($)?0:P.x-d.project([O,n-$]).x,this._radiusY=P.y-j.y}else{var X=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(X).x}this._updateBounds()}});function $p(n,a,d){return new Ao(n,a,d)}var Xt=ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,a){b(this,a),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var a=1/0,d=null,p=Cn,g,y,j=0,S=this._parts.length;j<S;j++)for(var P=this._parts[j],O=1,$=P.length;O<$;O++){g=P[O-1],y=P[O];var X=p(n,g,y,!0);X<a&&(a=X,d=p(n,g,y))}return d&&(d.distance=Math.sqrt(a)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,a){return a=a||this._defaultShape(),n=Q(n),a.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Ae,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var a=[],d=xt(n),p=0,g=n.length;p<g;p++)d?(a[p]=Q(n[p]),this._bounds.extend(a[p])):a[p]=this._convertLatLngs(n[p]);return a},_project:function(){var n=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),a=new G(n,n);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(n,a,d){var p=n[0]instanceof he,g=n.length,y,j;if(p){for(j=[],y=0;y<g;y++)j[y]=this._map.latLngToLayerPoint(n[y]),d.extend(j[y]);a.push(j)}else for(y=0;y<g;y++)this._projectLatlngs(n[y],a,d)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,d,p,g,y,j,S,P;for(d=0,g=0,y=this._rings.length;d<y;d++)for(P=this._rings[d],p=0,j=P.length;p<j-1;p++)S=Wl(P[p],P[p+1],n,p,!0),S&&(a[g]=a[g]||[],a[g].push(S[0]),(S[1]!==P[p+1]||p===j-2)&&(a[g].push(S[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,a=this.options.smoothFactor,d=0,p=n.length;d<p;d++)n[d]=Bl(n[d],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,a){var d,p,g,y,j,S,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(d=0,y=this._parts.length;d<y;d++)for(S=this._parts[d],p=0,j=S.length,g=j-1;p<j;g=p++)if(!(!a&&p===0)&&Hl(n,S[g],S[p])<=P)return!0;return!1}});function Wp(n,a){return new Xt(n,a)}Xt._flat=Ul;var Qi=Xt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Il(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var a=Xt.prototype._convertLatLngs.call(this,n),d=a.length;return d>=2&&a[0]instanceof he&&a[0].equals(a[d-1])&&a.pop(),a},_setLatLngs:function(n){Xt.prototype._setLatLngs.call(this,n),xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,a=this.options.weight,d=new G(a,a);if(n=new V(n.min.subtract(d),n.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,g=this._rings.length,y;p<g;p++)y=Dl(this._rings[p],n,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var a=!1,d,p,g,y,j,S,P,O;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(y=0,P=this._parts.length;y<P;y++)for(d=this._parts[y],j=0,O=d.length,S=O-1;j<O;S=j++)p=d[j],g=d[S],p.y>n.y!=g.y>n.y&&n.x<(g.x-p.x)*(n.y-p.y)/(g.y-p.y)+p.x&&(a=!a);return a||Xt.prototype._containsPoint.call(this,n,!0)}});function Up(n,a){return new Qi(n,a)}var Jt=Kt.extend({initialize:function(n,a){b(this,a),this._layers={},n&&this.addData(n)},addData:function(n){var a=M(n)?n:n.features,d,p,g;if(a){for(d=0,p=a.length;d<p;d++)g=a[d],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var y=this.options;if(y.filter&&!y.filter(n))return this;var j=Es(n,y);return j?(j.feature=Os(n),j.defaultOptions=j.options,this.resetStyle(j),y.onEachFeature&&y.onEachFeature(n,j),this.addLayer(j)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=r({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(a){this._setLayerStyle(a,n)},this)},_setLayerStyle:function(n,a){n.setStyle&&(typeof a=="function"&&(a=a(n.feature)),n.setStyle(a))}});function Es(n,a){var d=n.type==="Feature"?n.geometry:n,p=d?d.coordinates:null,g=[],y=a&&a.pointToLayer,j=a&&a.coordsToLatLng||Fo,S,P,O,$;if(!p&&!d)return null;switch(d.type){case"Point":return S=j(p),Yl(y,n,S,a);case"MultiPoint":for(O=0,$=p.length;O<$;O++)S=j(p[O]),g.push(Yl(y,n,S,a));return new Kt(g);case"LineString":case"MultiLineString":return P=As(p,d.type==="LineString"?0:1,j),new Xt(P,a);case"Polygon":case"MultiPolygon":return P=As(p,d.type==="Polygon"?1:2,j),new Qi(P,a);case"GeometryCollection":for(O=0,$=d.geometries.length;O<$;O++){var X=Es({geometry:d.geometries[O],type:"Feature",properties:n.properties},a);X&&g.push(X)}return new Kt(g);case"FeatureCollection":for(O=0,$=d.features.length;O<$;O++){var le=Es(d.features[O],a);le&&g.push(le)}return new Kt(g);default:throw new Error("Invalid GeoJSON object.")}}function Yl(n,a,d,p){return n?n(a,d):new Ls(d,p&&p.markersInheritOptions&&p)}function Fo(n){return new he(n[1],n[0],n[2])}function As(n,a,d){for(var p=[],g=0,y=n.length,j;g<y;g++)j=a?As(n[g],a-1,d):(d||Fo)(n[g]),p.push(j);return p}function Oo(n,a){return n=Q(n),n.alt!==void 0?[_(n.lng,a),_(n.lat,a),_(n.alt,a)]:[_(n.lng,a),_(n.lat,a)]}function Fs(n,a,d,p){for(var g=[],y=0,j=n.length;y<j;y++)g.push(a?Fs(n[y],xt(n[y])?0:a-1,d,p):Oo(n[y],p));return!a&&d&&g.length>0&&g.push(g[0].slice()),g}function en(n,a){return n.feature?r({},n.feature,{geometry:a}):Os(a)}function Os(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ro={toGeoJSON:function(n){return en(this,{type:"Point",coordinates:Oo(this.getLatLng(),n)})}};Ls.include(Ro),Ao.include(Ro),Ms.include(Ro),Xt.include({toGeoJSON:function(n){var a=!xt(this._latlngs),d=Fs(this._latlngs,a?1:0,!1,n);return en(this,{type:(a?"Multi":"")+"LineString",coordinates:d})}}),Qi.include({toGeoJSON:function(n){var a=!xt(this._latlngs),d=a&&!xt(this._latlngs[0]),p=Fs(this._latlngs,d?2:a?1:0,!0,n);return a||(p=[p]),en(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),Xi.include({toMultiPoint:function(n){var a=[];return this.eachLayer(function(d){a.push(d.toGeoJSON(n).geometry.coordinates)}),en(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(n){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(n);var d=a==="GeometryCollection",p=[];return this.eachLayer(function(g){if(g.toGeoJSON){var y=g.toGeoJSON(n);if(d)p.push(y.geometry);else{var j=Os(y);j.type==="FeatureCollection"?p.push.apply(p,j.features):p.push(j)}}}),d?en(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Gl(n,a){return new Jt(n,a)}var Vp=Gl,Rs=Ct.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,a,d){this._url=n,this._bounds=ge(a),b(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Gi(this._image),this},bringToBack:function(){return this._map&&Ki(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ge(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",a=this._image=n?this._url:ye("img");if(re(a,"leaflet-image-layer"),this._zoomAnimated&&re(a,"leaflet-zoom-animated"),this.options.className&&re(a,this.options.className),a.onselectstart=x,a.onmousemove=x,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(n){var a=this._map.getZoomScale(n.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;vi(this._image,d,a)},_reset:function(){var n=this._image,a=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=a.getSize();ze(n,a.min),n.style.width=d.x+"px",n.style.height=d.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Zp=function(n,a,d){return new Rs(n,a,d)},Kl=Rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",a=this._image=n?this._url:ye("video");if(re(a,"leaflet-image-layer"),this._zoomAnimated&&re(a,"leaflet-zoom-animated"),this.options.className&&re(a,this.options.className),a.onselectstart=x,a.onmousemove=x,a.onloadeddata=l(this.fire,this,"load"),n){for(var d=a.getElementsByTagName("source"),p=[],g=0;g<d.length;g++)p.push(d[g].src);this._url=d.length>0?p:[a.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var j=ye("source");j.src=this._url[y],a.appendChild(j)}}});function qp(n,a,d){return new Kl(n,a,d)}var Xl=Rs.extend({_initImage:function(){var n=this._image=this._url;re(n,"leaflet-image-layer"),this._zoomAnimated&&re(n,"leaflet-zoom-animated"),this.options.className&&re(n,this.options.className),n.onselectstart=x,n.onmousemove=x}});function Yp(n,a,d){return new Xl(n,a,d)}var Rt=Ct.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,a){n&&(n instanceof he||M(n))?(this._latlng=Q(n),b(this,a)):(b(this,n),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(l(Me,void 0,this._container),200)):Me(this._container),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=Q(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gi(this._container),this},bringToBack:function(){return this._map&&Ki(this._container),this},_prepareOpen:function(n){var a=this._source;if(!a._map)return!1;if(a instanceof Kt){a=null;var d=this._source._layers;for(var p in d)if(d[p]._map){a=d[p];break}if(!a)return!1;this._source=a}if(!n)if(a.getCenter)n=a.getCenter();else if(a.getLatLng)n=a.getLatLng();else if(a.getBounds)n=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")n.innerHTML=a;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),a=q(this.options.offset),d=this._getAnchor();this._zoomAnimated?ze(this._container,n.add(d)):a=a.add(n).add(d);var p=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=p+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});fe.include({_initOverlay:function(n,a,d,p){var g=a;return g instanceof n||(g=new n(p).setContent(a)),d&&g.setLatLng(d),g}}),Ct.include({_initOverlay:function(n,a,d,p){var g=d;return g instanceof n?(b(g,p),g._source=this):(g=a&&!p?a:new n(p,this),g.setContent(d)),g}});var zs=Rt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Rt.prototype.openOn.call(this,n)},onAdd:function(n){Rt.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ci||this._source.on("preclick",wi))},onRemove:function(n){Rt.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ci||this._source.off("preclick",wi))},getEvents:function(){var n=Rt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",a=this._container=ye("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ye("div",n+"-content-wrapper",a);if(this._contentNode=ye("div",n+"-content",d),Nn(a),No(this._contentNode),ie(a,"contextmenu",wi),this._tipContainer=ye("div",n+"-tip-container",a),this._tip=ye("div",n+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ye("a",n+"-close-button",a);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ie(p,"click",function(g){Ue(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,a=n.style;a.width="",a.whiteSpace="nowrap";var d=n.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),a.width=d+1+"px",a.whiteSpace="",a.height="";var p=n.offsetHeight,g=this.options.maxHeight,y="leaflet-popup-scrolled";g&&p>g?(a.height=g+"px",re(n,y)):Fe(n,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),d=this._getAnchor();ze(this._container,a.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,a=parseInt(bn(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+a,p=this._containerWidth,g=new G(this._containerLeft,-d-this._containerBottom);g._add(bi(this._container));var y=n.layerPointToContainerPoint(g),j=q(this.options.autoPanPadding),S=q(this.options.autoPanPaddingTopLeft||j),P=q(this.options.autoPanPaddingBottomRight||j),O=n.getSize(),$=0,X=0;y.x+p+P.x>O.x&&($=y.x+p-O.x+P.x),y.x-$-S.x<0&&($=y.x-S.x),y.y+d+P.y>O.y&&(X=y.y+d-O.y+P.y),y.y-X-S.y<0&&(X=y.y-S.y),($||X)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([$,X]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gp=function(n,a){return new zs(n,a)};fe.mergeOptions({closePopupOnClick:!0}),fe.include({openPopup:function(n,a,d){return this._initOverlay(zs,n,a,d).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Ct.include({bindPopup:function(n,a){return this._popup=this._initOverlay(zs,this._popup,n,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Kt||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ki(n);var a=n.layer||n.target;if(this._popup._source===a&&!(a instanceof ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=a,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Ds=Rt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Rt.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Rt.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Rt.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",a=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var a,d,p=this._map,g=this._container,y=p.latLngToContainerPoint(p.getCenter()),j=p.layerPointToContainerPoint(n),S=this.options.direction,P=g.offsetWidth,O=g.offsetHeight,$=q(this.options.offset),X=this._getAnchor();S==="top"?(a=P/2,d=O):S==="bottom"?(a=P/2,d=0):S==="center"?(a=P/2,d=O/2):S==="right"?(a=0,d=O/2):S==="left"?(a=P,d=O/2):j.x<y.x?(S="right",a=0,d=O/2):(S="left",a=P+($.x+X.x)*2,d=O/2),n=n.subtract(q(a,d,!0)).add($).add(X),Fe(g,"leaflet-tooltip-right"),Fe(g,"leaflet-tooltip-left"),Fe(g,"leaflet-tooltip-top"),Fe(g,"leaflet-tooltip-bottom"),re(g,"leaflet-tooltip-"+S),ze(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&gt(this._container,n)},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(a)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Kp=function(n,a){return new Ds(n,a)};fe.include({openTooltip:function(n,a,d){return this._initOverlay(Ds,n,a,d).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Ct.include({bindTooltip:function(n,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ds,this._tooltip,n,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var a=n?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[a](d),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Kt||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var a=typeof n.getElement=="function"&&n.getElement();a&&(ie(a,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ie(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var a=typeof n.getElement=="function"&&n.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var a=n.latlng,d,p;this._tooltip.options.sticky&&n.originalEvent&&(d=this._map.mouseEventToContainerPoint(n.originalEvent),p=this._map.containerPointToLayerPoint(d),a=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(a)}});var Jl=Ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var a=n&&n.tagName==="DIV"?n:document.createElement("div"),d=this.options;if(d.html instanceof Element?(js(a),a.appendChild(d.html)):a.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=q(d.bgPos);a.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Xp(n){return new Jl(n)}Ji.Default=Pn;var Tn=Ct.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){b(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Me(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof G?n:new G(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var a=this.getPane().children,d=-n(-1/0,1/0),p=0,g=a.length,y;p<g;p++)y=a[p].style.zIndex,a[p]!==this._container&&y&&(d=n(d,+y));isFinite(d)&&(this.options.zIndex=d+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){gt(this._container,this.options.opacity);var n=+new Date,a=!1,d=!1;for(var p in this._tiles){var g=this._tiles[p];if(!(!g.current||!g.loaded)){var y=Math.min(1,(n-g.loaded)/200);gt(g.el,y),y<1?a=!0:(g.active?d=!0:this._onOpaqueTile(g),g.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),a&&(te(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,a=this.options.maxZoom;if(n!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===n?(this._levels[d].el.style.zIndex=a-Math.abs(n-d),this._onUpdateLevel(d)):(Me(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[n],g=this._map;return p||(p=this._levels[n]={},p.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=a,p.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),p.zoom=n,this._setZoomTransform(p,g.getCenter(),g.getZoom()),x(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var n,a,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)a=this._tiles[n],a.retain=a.current;for(n in this._tiles)if(a=this._tiles[n],a.current&&!a.active){var p=a.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var a in this._tiles)this._tiles[a].coords.z===n&&this._removeTile(a)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Me(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,a,d,p){var g=Math.floor(n/2),y=Math.floor(a/2),j=d-1,S=new G(+g,+y);S.z=+j;var P=this._tileCoordsToKey(S),O=this._tiles[P];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),j>p?this._retainParent(g,y,j,p):!1)},_retainChildren:function(n,a,d,p){for(var g=2*n;g<2*n+2;g++)for(var y=2*a;y<2*a+2;y++){var j=new G(g,y);j.z=d+1;var S=this._tileCoordsToKey(j),P=this._tiles[S];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);d+1<p&&this._retainChildren(g,y,d+1,p)}},_resetView:function(n){var a=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var a=this.options;return a.minNativeZoom!==void 0&&n<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<n?a.maxNativeZoom:n},_setView:function(n,a,d,p){var g=Math.round(a);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var y=this.options.updateWhenZooming&&g!==this._tileZoom;(!p||y)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(n,a)},_setZoomTransforms:function(n,a){for(var d in this._levels)this._setZoomTransform(this._levels[d],n,a)},_setZoomTransform:function(n,a,d){var p=this._map.getZoomScale(d,n.zoom),g=n.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(a,d)).round();Z.any3d?vi(n.el,g,p):ze(n.el,g)},_resetGrid:function(){var n=this._map,a=n.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,a.wrapLng[0]],p).x/d.x),Math.ceil(n.project([0,a.wrapLng[1]],p).x/d.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([a.wrapLat[0],0],p).y/d.x),Math.ceil(n.project([a.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var a=this._map,d=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),p=a.getZoomScale(d,this._tileZoom),g=a.project(n,this._tileZoom).floor(),y=a.getSize().divideBy(p*2);return new V(g.subtract(y),g.add(y))},_update:function(n){var a=this._map;if(a){var d=this._clampZoom(a.getZoom());if(n===void 0&&(n=a.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(p),y=g.getCenter(),j=[],S=this.options.keepBuffer,P=new V(g.getBottomLeft().subtract([S,-S]),g.getTopRight().add([S,-S]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var $=this._tiles[O].coords;($.z!==this._tileZoom||!P.contains(new G($.x,$.y)))&&(this._tiles[O].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(n,d);return}for(var X=g.min.y;X<=g.max.y;X++)for(var le=g.min.x;le<=g.max.x;le++){var Je=new G(le,X);if(Je.z=this._tileZoom,!!this._isValidTile(Je)){var Be=this._tiles[this._tileCoordsToKey(Je)];Be?Be.current=!0:j.push(Je)}}if(j.sort(function(nt,nn){return nt.distanceTo(y)-nn.distanceTo(y)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yt=document.createDocumentFragment();for(le=0;le<j.length;le++)this._addTile(j[le],yt);this._level.el.appendChild(yt)}}}},_isValidTile:function(n){var a=this._map.options.crs;if(!a.infinite){var d=this._globalTileRange;if(!a.wrapLng&&(n.x<d.min.x||n.x>d.max.x)||!a.wrapLat&&(n.y<d.min.y||n.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(n);return ge(this.options.bounds).overlaps(p)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var a=this._map,d=this.getTileSize(),p=n.scaleBy(d),g=p.add(d),y=a.unproject(p,n.z),j=a.unproject(g,n.z);return[y,j]},_tileCoordsToBounds:function(n){var a=this._tileCoordsToNwSe(n),d=new Ae(a[0],a[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var a=n.split(":"),d=new G(+a[0],+a[1]);return d.z=+a[2],d},_removeTile:function(n){var a=this._tiles[n];a&&(Me(a.el),delete this._tiles[n],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){re(n,"leaflet-tile");var a=this.getTileSize();n.style.width=a.x+"px",n.style.height=a.y+"px",n.onselectstart=x,n.onmousemove=x,Z.ielt9&&this.options.opacity<1&&gt(n,this.options.opacity)},_addTile:function(n,a){var d=this._getTilePos(n),p=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),l(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&Y(l(this._tileReady,this,n,null,g)),ze(g,d),this._tiles[p]={el:g,coords:n,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,a,d){a&&this.fire("tileerror",{error:a,tile:d,coords:n});var p=this._tileCoordsToKey(n);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(gt(d.el,0),te(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),a||(re(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var a=new G(this._wrapX?m(n.x,this._wrapX):n.x,this._wrapY?m(n.y,this._wrapY):n.y);return a.z=n.z,a},_pxBoundsToTileRange:function(n){var a=this.getTileSize();return new V(n.min.unscaleBy(a).floor(),n.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Jp(n){return new Tn(n)}var tn=Tn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,a){this._url=n,a=b(this,a),a.detectRetina&&Z.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,a){return this._url===n&&a===void 0&&(a=!0),this._url=n,a||this.redraw(),this},createTile:function(n,a){var d=document.createElement("img");return ie(d,"load",l(this._tileOnLoad,this,a,d)),ie(d,"error",l(this._tileOnError,this,a,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(n),d},getTileUrl:function(n){var a={r:Z.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-n.y;this.options.tms&&(a.y=d),a["-y"]=d}return T(this._url,r(a,this.options))},_tileOnLoad:function(n,a){Z.ielt9?setTimeout(l(n,this,null,a),0):n(null,a)},_tileOnError:function(n,a,d){var p=this.options.errorTileUrl;p&&a.getAttribute("src")!==p&&(a.src=p),n(d,a)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,a=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(n=a-n),n+p},_getSubdomain:function(n){var a=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var n,a;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(a=this._tiles[n].el,a.onload=x,a.onerror=x,!a.complete)){a.src=F;var d=this._tiles[n].coords;Me(a),delete this._tiles[n],this.fire("tileabort",{tile:a,coords:d})}},_removeTile:function(n){var a=this._tiles[n];if(a)return a.el.setAttribute("src",F),Tn.prototype._removeTile.call(this,n)},_tileReady:function(n,a,d){if(!(!this._map||d&&d.getAttribute("src")===F))return Tn.prototype._tileReady.call(this,n,a,d)}});function Ql(n,a){return new tn(n,a)}var ec=tn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,a){this._url=n;var d=r({},this.defaultWmsParams);for(var p in a)p in this.options||(d[p]=a[p]);a=b(this,a);var g=a.detectRetina&&Z.retina?2:1,y=this.getTileSize();d.width=y.x*g,d.height=y.y*g,this.wmsParams=d},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,tn.prototype.onAdd.call(this,n)},getTileUrl:function(n){var a=this._tileCoordsToNwSe(n),d=this._crs,p=xe(d.project(a[0]),d.project(a[1])),g=p.min,y=p.max,j=(this._wmsVersion>=1.3&&this._crs===Zl?[g.y,g.x,y.y,y.x]:[g.x,g.y,y.x,y.y]).join(","),S=tn.prototype.getTileUrl.call(this,n);return S+k(this.wmsParams,S,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(n,a){return r(this.wmsParams,n),a||this.redraw(),this}});function Qp(n,a){return new ec(n,a)}tn.WMS=ec,Ql.wms=Qp;var Qt=Ct.extend({options:{padding:.1},initialize:function(n){b(this,n),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,a){var d=this._map.getZoomScale(a,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),y=p.multiplyBy(-d).add(g).subtract(this._map._getNewPixelOrigin(n,a));Z.any3d?vi(this._container,y,d):ze(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,a=this._map.getSize(),d=this._map.containerPointToLayerPoint(a.multiplyBy(-n)).round();this._bounds=new V(d,d.add(a.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tc=Qt.extend({options:{tolerance:0},getEvents:function(){var n=Qt.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ie(n,"mousemove",this._onMouseMove,this),ie(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ie(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,Me(this._container),je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var a in this._layers)n=this._layers[a],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var n=this._bounds,a=this._container,d=n.getSize(),p=Z.retina?2:1;ze(a,n.min),a.width=p*d.x,a.height=p*d.y,a.style.width=d.x+"px",a.style.height=d.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Qt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[u(n)]=n;var a=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var a=n._order,d=a.next,p=a.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete n._order,delete this._layers[u(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var a=n.options.dashArray.split(/[, ]+/),d=[],p,g;for(g=0;g<a.length;g++){if(p=Number(a[g]),isNaN(p))return;d.push(p)}n.options._dashArray=d}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var a=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(n._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(n._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var a=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,a=this._redrawBounds;if(this._ctx.save(),a){var d=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)n=p.layer,(!a||n._pxBounds&&n._pxBounds.intersects(a))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,a){if(this._drawing){var d,p,g,y,j=n._parts,S=j.length,P=this._ctx;if(S){for(P.beginPath(),d=0;d<S;d++){for(p=0,g=j[d].length;p<g;p++)y=j[d][p],P[p?"lineTo":"moveTo"](y.x,y.y);a&&P.closePath()}this._fillStroke(P,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var a=n._point,d=this._ctx,p=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||p)/p;g!==1&&(d.save(),d.scale(1,g)),d.beginPath(),d.arc(a.x,a.y/g,p,0,Math.PI*2,!1),g!==1&&d.restore(),this._fillStroke(d,n)}},_fillStroke:function(n,a){var d=a.options;d.fill&&(n.globalAlpha=d.fillOpacity,n.fillStyle=d.fillColor||d.color,n.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(n.setLineDash&&n.setLineDash(a.options&&a.options._dashArray||[]),n.globalAlpha=d.opacity,n.lineWidth=d.weight,n.strokeStyle=d.color,n.lineCap=d.lineCap,n.lineJoin=d.lineJoin,n.stroke())},_onClick:function(n){for(var a=this._map.mouseEventToLayerPoint(n),d,p,g=this._drawFirst;g;g=g.next)d=g.layer,d.options.interactive&&d._containsPoint(a)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,a)}},_handleMouseOut:function(n){var a=this._hoveredLayer;a&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([a],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,a){if(!this._mouseHoverThrottled){for(var d,p,g=this._drawFirst;g;g=g.next)d=g.layer,d.options.interactive&&d._containsPoint(a)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(n),p&&(re(this._container,"leaflet-interactive"),this._fireEvent([p],n,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,a,d){this._map._fireDOMEvent(a,d||a.type,n)},_bringToFront:function(n){var a=n._order;if(a){var d=a.next,p=a.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(n)}},_bringToBack:function(n){var a=n._order;if(a){var d=a.next,p=a.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(n)}}});function ic(n){return Z.canvas?new tc(n):null}var Ln=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),em={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qt.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var a=n._container=Ln("shape");re(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",n._path=Ln("path"),a.appendChild(n._path),this._updateStyle(n),this._layers[u(n)]=n},_addPath:function(n){var a=n._container;this._container.appendChild(a),n.options.interactive&&n.addInteractiveTarget(a)},_removePath:function(n){var a=n._container;Me(a),n.removeInteractiveTarget(a),delete this._layers[u(n)]},_updateStyle:function(n){var a=n._stroke,d=n._fill,p=n.options,g=n._container;g.stroked=!!p.stroke,g.filled=!!p.fill,p.stroke?(a||(a=n._stroke=Ln("stroke")),g.appendChild(a),a.weight=p.weight+"px",a.color=p.color,a.opacity=p.opacity,p.dashArray?a.dashStyle=M(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=p.lineCap.replace("butt","flat"),a.joinstyle=p.lineJoin):a&&(g.removeChild(a),n._stroke=null),p.fill?(d||(d=n._fill=Ln("fill")),g.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(g.removeChild(d),n._fill=null)},_updateCircle:function(n){var a=n._point.round(),d=Math.round(n._radius),p=Math.round(n._radiusY||d);this._setPath(n,n._empty()?"M0 0":"AL "+a.x+","+a.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(n,a){n._path.v=a},_bringToFront:function(n){Gi(n._container)},_bringToBack:function(n){Ki(n._container)}},Is=Z.vml?Ln:ai,Mn=Qt.extend({_initContainer:function(){this._container=Is("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Is("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Me(this._container),je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var n=this._bounds,a=n.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,d.setAttribute("width",a.x),d.setAttribute("height",a.y)),ze(d,n.min),d.setAttribute("viewBox",[n.min.x,n.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(n){var a=n._path=Is("path");n.options.className&&re(a,n.options.className),n.options.interactive&&re(a,"leaflet-interactive"),this._updateStyle(n),this._layers[u(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Me(n._path),n.removeInteractiveTarget(n._path),delete this._layers[u(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var a=n._path,d=n.options;a&&(d.stroke?(a.setAttribute("stroke",d.color),a.setAttribute("stroke-opacity",d.opacity),a.setAttribute("stroke-width",d.weight),a.setAttribute("stroke-linecap",d.lineCap),a.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?a.setAttribute("stroke-dasharray",d.dashArray):a.removeAttribute("stroke-dasharray"),d.dashOffset?a.setAttribute("stroke-dashoffset",d.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),d.fill?(a.setAttribute("fill",d.fillColor||d.color),a.setAttribute("fill-opacity",d.fillOpacity),a.setAttribute("fill-rule",d.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(n,a){this._setPath(n,Vi(n._parts,a))},_updateCircle:function(n){var a=n._point,d=Math.max(Math.round(n._radius),1),p=Math.max(Math.round(n._radiusY),1)||d,g="a"+d+","+p+" 0 1,0 ",y=n._empty()?"M0 0":"M"+(a.x-d)+","+a.y+g+d*2+",0 "+g+-d*2+",0 ";this._setPath(n,y)},_setPath:function(n,a){n._path.setAttribute("d",a)},_bringToFront:function(n){Gi(n._path)},_bringToBack:function(n){Ki(n._path)}});Z.vml&&Mn.include(em);function nc(n){return Z.svg||Z.vml?new Mn(n):null}fe.include({getRenderer:function(n){var a=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var a=this._paneRenderers[n];return a===void 0&&(a=this._createRenderer({pane:n}),this._paneRenderers[n]=a),a},_createRenderer:function(n){return this.options.preferCanvas&&ic(n)||nc(n)}});var sc=Qi.extend({initialize:function(n,a){Qi.prototype.initialize.call(this,this._boundsToLatLngs(n),a)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ge(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function tm(n,a){return new sc(n,a)}Mn.create=Is,Mn.pointsToPath=Vi,Jt.geometryToLayer=Es,Jt.coordsToLatLng=Fo,Jt.coordsToLatLngs=As,Jt.latLngToCoords=Oo,Jt.latLngsToCoords=Fs,Jt.getFeature=en,Jt.asFeature=Os,fe.mergeOptions({boxZoom:!0});var rc=Ot.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ie(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),xo(),this._startPoint=this._map.mouseEventToContainerPoint(n),ie(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var a=new V(this._point,this._startPoint),d=a.getSize();ze(this._box,a.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Me(this._box),Fe(this._container,"leaflet-crosshair")),kn(),yo(),je(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});fe.addInitHook("addHandler","boxZoom",rc),fe.mergeOptions({doubleClickZoom:!0});var oc=Ot.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var a=this._map,d=a.getZoom(),p=a.options.zoomDelta,g=n.originalEvent.shiftKey?d-p:d+p;a.options.doubleClickZoom==="center"?a.setZoom(g):a.setZoomAround(n.containerPoint,g)}});fe.addInitHook("addHandler","doubleClickZoom",oc),fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ac=Ot.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new li(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fe(this._map._container,"leaflet-grab"),Fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ge(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var a=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(a),this._prunePositions(a)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,a){return n-(n-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;n.x<a.min.x&&(n.x=this._viscousLimit(n.x,a.min.x)),n.y<a.min.y&&(n.y=this._viscousLimit(n.y,a.min.y)),n.x>a.max.x&&(n.x=this._viscousLimit(n.x,a.max.x)),n.y>a.max.y&&(n.y=this._viscousLimit(n.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,a=Math.round(n/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,g=(p-a+d)%n+a-d,y=(p+a+d)%n-a-d,j=Math.abs(g+d)<Math.abs(y+d)?g:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(n){var a=this._map,d=a.options,p=!d.inertia||n.noInertia||this._times.length<2;if(a.fire("dragend",n),p)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,j=d.easeLinearity,S=g.multiplyBy(j/y),P=S.distanceTo([0,0]),O=Math.min(d.inertiaMaxSpeed,P),$=S.multiplyBy(O/P),X=O/(d.inertiaDeceleration*j),le=$.multiplyBy(-X/2).round();!le.x&&!le.y?a.fire("moveend"):(le=a._limitOffset(le,a.options.maxBounds),Y(function(){a.panBy(le,{duration:X,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});fe.addInitHook("addHandler","dragging",ac),fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lc=Ot.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ie(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,a=document.documentElement,d=n.scrollTop||a.scrollTop,p=n.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var a=this._panKeys={},d=this.keyCodes,p,g;for(p=0,g=d.left.length;p<g;p++)a[d.left[p]]=[-1*n,0];for(p=0,g=d.right.length;p<g;p++)a[d.right[p]]=[n,0];for(p=0,g=d.down.length;p<g;p++)a[d.down[p]]=[0,n];for(p=0,g=d.up.length;p<g;p++)a[d.up[p]]=[0,-1*n]},_setZoomDelta:function(n){var a=this._zoomKeys={},d=this.keyCodes,p,g;for(p=0,g=d.zoomIn.length;p<g;p++)a[d.zoomIn[p]]=n;for(p=0,g=d.zoomOut.length;p<g;p++)a[d.zoomOut[p]]=-n},_addHooks:function(){ie(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var a=n.keyCode,d=this._map,p;if(a in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[a],n.shiftKey&&(p=q(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(q(p),d.options.maxBounds)),d.options.worldCopyJump){var g=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(g)}else d.panBy(p)}else if(a in this._zoomKeys)d.setZoom(d.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;ki(n)}}});fe.addInitHook("addHandler","keyboard",lc),fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cc=Ot.extend({addHooks:function(){ie(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var a=Al(n),d=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),p),ki(n)},_performZoom:function(){var n=this._map,a=n.getZoom(),d=this._map.options.zoomSnap||0;n._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,y=d?Math.ceil(g/d)*d:g,j=n._limitZoom(a+(this._delta>0?y:-y))-a;this._delta=0,this._startTime=null,j&&(n.options.scrollWheelZoom==="center"?n.setZoom(a+j):n.setZoomAround(this._lastMousePos,a+j))}});fe.addInitHook("addHandler","scrollWheelZoom",cc);var im=600;fe.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var dc=Ot.extend({addHooks:function(){ie(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var a=n.touches[0];this._startPos=this._newPos=new G(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ie(document,"touchend",Ue),ie(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),im),ie(document,"touchend touchcancel contextmenu",this._cancel,this),ie(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){je(document,"touchend",Ue),je(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)},_onMove:function(n){var a=n.touches[0];this._newPos=new G(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,a){var d=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});d._simulated=!0,a.target.dispatchEvent(d)}});fe.addInitHook("addHandler","tapHold",dc),fe.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var hc=Ot.extend({addHooks:function(){re(this._map._container,"leaflet-touch-zoom"),ie(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var a=this._map;if(!(!n.touches||n.touches.length!==2||a._animatingZoom||this._zooming)){var d=a.mouseEventToContainerPoint(n.touches[0]),p=a.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ie(document,"touchmove",this._onTouchMove,this),ie(document,"touchend touchcancel",this._onTouchEnd,this),Ue(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var a=this._map,d=a.mouseEventToContainerPoint(n.touches[0]),p=a.mouseEventToContainerPoint(n.touches[1]),g=d.distanceTo(p)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var y=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(g===1&&y.x===0&&y.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var j=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(j,this,!0),Ue(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});fe.addInitHook("addHandler","touchZoom",hc),fe.BoxZoom=rc,fe.DoubleClickZoom=oc,fe.Drag=ac,fe.Keyboard=lc,fe.ScrollWheelZoom=cc,fe.TapHold=dc,fe.TouchZoom=hc,i.Bounds=V,i.Browser=Z,i.CRS=jt,i.Canvas=tc,i.Circle=Ao,i.CircleMarker=Ms,i.Class=Ee,i.Control=St,i.DivIcon=Jl,i.DivOverlay=Rt,i.DomEvent=vp,i.DomUtil=yp,i.Draggable=li,i.Evented=Re,i.FeatureGroup=Kt,i.GeoJSON=Jt,i.GridLayer=Tn,i.Handler=Ot,i.Icon=Ji,i.ImageOverlay=Rs,i.LatLng=he,i.LatLngBounds=Ae,i.Layer=Ct,i.LayerGroup=Xi,i.LineUtil=Ap,i.Map=fe,i.Marker=Ls,i.Mixin=Cp,i.Path=ci,i.Point=G,i.PolyUtil=Pp,i.Polygon=Qi,i.Polyline=Xt,i.Popup=zs,i.PosAnimation=Fl,i.Projection=Fp,i.Rectangle=sc,i.Renderer=Qt,i.SVG=Mn,i.SVGOverlay=Xl,i.TileLayer=tn,i.Tooltip=Ds,i.Transformation=qt,i.Util=Ie,i.VideoOverlay=Kl,i.bind=l,i.bounds=xe,i.canvas=ic,i.circle=$p,i.circleMarker=Hp,i.control=Sn,i.divIcon=Xp,i.extend=r,i.featureGroup=Dp,i.geoJSON=Gl,i.geoJson=Vp,i.gridLayer=Jp,i.icon=Ip,i.imageOverlay=Zp,i.latLng=Q,i.latLngBounds=ge,i.layerGroup=zp,i.map=bp,i.marker=Bp,i.point=q,i.polygon=Up,i.polyline=Wp,i.popup=Gp,i.rectangle=tm,i.setOptions=b,i.stamp=u,i.svg=nc,i.svgOverlay=Yp,i.tileLayer=Ql,i.tooltip=Kp,i.transformation=Nt,i.version=s,i.videoOverlay=qp;var nm=window.L;i.noConflict=function(){return window.L=nm,this},window.L=i})})(ca,ca.exports);var Dm=ca.exports;const Bt=Rm(Dm);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ps(t){return t+.5|0}const pi=(t,e,i)=>Math.max(Math.min(t,i),e);function In(t){return pi(ps(t*2.55),0,255)}function xi(t){return pi(ps(t*255),0,255)}function si(t){return pi(ps(t/2.55)/100,0,1)}function yc(t){return pi(ps(t*100),0,100)}const _t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},da=[..."0123456789ABCDEF"],Im=t=>da[t&15],Bm=t=>da[(t&240)>>4]+da[t&15],Hs=t=>(t&240)>>4===(t&15),Hm=t=>Hs(t.r)&&Hs(t.g)&&Hs(t.b)&&Hs(t.a);function $m(t){var e=t.length,i;return t[0]==="#"&&(e===4||e===5?i={r:255&_t[t[1]]*17,g:255&_t[t[2]]*17,b:255&_t[t[3]]*17,a:e===5?_t[t[4]]*17:255}:(e===7||e===9)&&(i={r:_t[t[1]]<<4|_t[t[2]],g:_t[t[3]]<<4|_t[t[4]],b:_t[t[5]]<<4|_t[t[6]],a:e===9?_t[t[7]]<<4|_t[t[8]]:255})),i}const Wm=(t,e)=>t<255?e(t):"";function Um(t){var e=Hm(t)?Im:Bm;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Wm(t.a,e):void 0}const Vm=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Wh(t,e,i){const s=e*Math.min(i,1-i),r=(o,l=(o+t/30)%12)=>i-s*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function Zm(t,e,i){const s=(r,o=(r+t/60)%6)=>i-i*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function qm(t,e,i){const s=Wh(t,1,.5);let r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)s[r]*=1-e-i,s[r]+=e;return s}function Ym(t,e,i,s,r){return t===r?(e-i)/s+(e<i?6:0):e===r?(i-t)/s+2:(t-e)/s+4}function za(t){const i=t.r/255,s=t.g/255,r=t.b/255,o=Math.max(i,s,r),l=Math.min(i,s,r),h=(o+l)/2;let u,f,m;return o!==l&&(m=o-l,f=h>.5?m/(2-o-l):m/(o+l),u=Ym(i,s,r,m,o),u=u*60+.5),[u|0,f||0,h]}function Da(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(xi)}function Ia(t,e,i){return Da(Wh,t,e,i)}function Gm(t,e,i){return Da(qm,t,e,i)}function Km(t,e,i){return Da(Zm,t,e,i)}function Uh(t){return(t%360+360)%360}function Xm(t){const e=Vm.exec(t);let i=255,s;if(!e)return;e[5]!==s&&(i=e[6]?In(+e[5]):xi(+e[5]));const r=Uh(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=Gm(r,o,l):e[1]==="hsv"?s=Km(r,o,l):s=Ia(r,o,l),{r:s[0],g:s[1],b:s[2],a:i}}function Jm(t,e){var i=za(t);i[0]=Uh(i[0]+e),i=Ia(i),t.r=i[0],t.g=i[1],t.b=i[2]}function Qm(t){if(!t)return;const e=za(t),i=e[0],s=yc(e[1]),r=yc(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${r}%, ${si(t.a)})`:`hsl(${i}, ${s}%, ${r}%)`}const _c={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function eg(){const t={},e=Object.keys(vc),i=Object.keys(_c);let s,r,o,l,h;for(s=0;s<e.length;s++){for(l=h=e[s],r=0;r<i.length;r++)o=i[r],h=h.replace(o,_c[o]);o=parseInt(vc[l],16),t[h]=[o>>16&255,o>>8&255,o&255]}return t}let $s;function tg(t){$s||($s=eg(),$s.transparent=[0,0,0,0]);const e=$s[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ig=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ng(t){const e=ig.exec(t);let i=255,s,r,o;if(e){if(e[7]!==s){const l=+e[7];i=e[8]?In(l):pi(l*255,0,255)}return s=+e[1],r=+e[3],o=+e[5],s=255&(e[2]?In(s):pi(s,0,255)),r=255&(e[4]?In(r):pi(r,0,255)),o=255&(e[6]?In(o):pi(o,0,255)),{r:s,g:r,b:o,a:i}}}function sg(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${si(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Bo=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,sn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rg(t,e,i){const s=sn(si(t.r)),r=sn(si(t.g)),o=sn(si(t.b));return{r:xi(Bo(s+i*(sn(si(e.r))-s))),g:xi(Bo(r+i*(sn(si(e.g))-r))),b:xi(Bo(o+i*(sn(si(e.b))-o))),a:t.a+i*(e.a-t.a)}}function Ws(t,e,i){if(t){let s=za(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,e===0?360:1)),s=Ia(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Vh(t,e){return t&&Object.assign(e||{},t)}function bc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xi(t[3]))):(e=Vh(t,{r:0,g:0,b:0,a:1}),e.a=xi(e.a)),e}function og(t){return t.charAt(0)==="r"?ng(t):Xm(t)}class ns{constructor(e){if(e instanceof ns)return e;const i=typeof e;let s;i==="object"?s=bc(e):i==="string"&&(s=$m(e)||tg(e)||og(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Vh(this._rgb);return e&&(e.a=si(e.a)),e}set rgb(e){this._rgb=bc(e)}rgbString(){return this._valid?sg(this._rgb):void 0}hexString(){return this._valid?Um(this._rgb):void 0}hslString(){return this._valid?Qm(this._rgb):void 0}mix(e,i){if(e){const s=this.rgb,r=e.rgb;let o;const l=i===o?.5:i,h=2*l-1,u=s.a-r.a,f=((h*u===-1?h:(h+u)/(1+h*u))+1)/2;o=1-f,s.r=255&f*s.r+o*r.r+.5,s.g=255&f*s.g+o*r.g+.5,s.b=255&f*s.b+o*r.b+.5,s.a=l*s.a+(1-l)*r.a,this.rgb=s}return this}interpolate(e,i){return e&&(this._rgb=rg(this._rgb,e._rgb,i)),this}clone(){return new ns(this.rgb)}alpha(e){return this._rgb.a=xi(e),this}clearer(e){const i=this._rgb;return i.a*=1-e,this}greyscale(){const e=this._rgb,i=ps(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){const i=this._rgb;return i.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ws(this._rgb,2,e),this}darken(e){return Ws(this._rgb,2,-e),this}saturate(e){return Ws(this._rgb,1,e),this}desaturate(e){return Ws(this._rgb,1,-e),this}rotate(e){return Jm(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ei(){}const ag=(()=>{let t=0;return()=>t++})();function Ce(t){return t==null}function He(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function wt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function zt(t,e){return wt(t)?t:e}function pe(t,e){return typeof t>"u"?e:t}const lg=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Pe(t,e,i){if(t&&typeof t.call=="function")return t.apply(i,e)}function we(t,e,i,s){let r,o,l;if(He(t))for(o=t.length,r=0;r<o;r++)e.call(i,t[r],r);else if(_e(t))for(l=Object.keys(t),o=l.length,r=0;r<o;r++)e.call(i,t[l[r]],l[r])}function kr(t,e){let i,s,r,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(r=t[i],o=e[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function jr(t){if(He(t))return t.map(jr);if(_e(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let r=0;for(;r<s;++r)e[i[r]]=jr(t[i[r]]);return e}return t}function Zh(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function cg(t,e,i,s){if(!Zh(t))return;const r=e[t],o=i[t];_e(r)&&_e(o)?ss(r,o,s):e[t]=jr(o)}function ss(t,e,i){const s=He(e)?e:[e],r=s.length;if(!_e(t))return t;i=i||{};const o=i.merger||cg;let l;for(let h=0;h<r;++h){if(l=s[h],!_e(l))continue;const u=Object.keys(l);for(let f=0,m=u.length;f<m;++f)o(u[f],t,l,i)}return t}function Gn(t,e){return ss(t,e,{merger:dg})}function dg(t,e,i){if(!Zh(t))return;const s=e[t],r=i[t];_e(s)&&_e(r)?Gn(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=jr(r))}const wc={"":t=>t,x:t=>t.x,y:t=>t.y};function hg(t){const e=t.split("."),i=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function ug(t){const e=hg(t);return i=>{for(const s of e){if(s==="")break;i=i&&i[s]}return i}}function Nr(t,e){return(wc[e]||(wc[e]=ug(e)))(t)}function Ba(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Sr=t=>typeof t<"u",yi=t=>typeof t=="function",kc=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function fg(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const $e=Math.PI,Zt=2*$e,pg=Zt+$e,Cr=Number.POSITIVE_INFINITY,mg=$e/180,Tt=$e/2,Ni=$e/4,jc=$e*2/3,qh=Math.log10,ln=Math.sign;function Kn(t,e,i){return Math.abs(t-e)<i}function Nc(t){const e=Math.round(t);t=Kn(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(qh(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function gg(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s===0&&(e.push(s),e.push(t/s));return i===(i|0)&&e.push(i),e.sort((r,o)=>r-o).pop(),e}function xg(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function rs(t){return!xg(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function yg(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function _g(t,e,i){let s,r,o;for(s=0,r=t.length;s<r;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ai(t){return t*($e/180)}function vg(t){return t*(180/$e)}function Sc(t){if(!wt(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function bg(t,e){const i=e.x-t.x,s=e.y-t.y,r=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*$e&&(o+=Zt),{angle:o,distance:r}}function ha(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function wg(t,e){return(t-e+pg)%Zt-$e}function hi(t){return(t%Zt+Zt)%Zt}function Yh(t,e,i,s){const r=hi(t),o=hi(e),l=hi(i),h=hi(o-r),u=hi(l-r),f=hi(r-o),m=hi(r-l);return r===o||r===l||s&&o===l||h>u&&f<m}function vt(t,e,i){return Math.max(e,Math.min(i,t))}function kg(t){return vt(t,-32768,32767)}function Bn(t,e,i,s=1e-6){return t>=Math.min(e,i)-s&&t<=Math.max(e,i)+s}function Ha(t,e,i){i=i||(l=>t[l]<e);let s=t.length-1,r=0,o;for(;s-r>1;)o=r+s>>1,i(o)?r=o:s=o;return{lo:r,hi:s}}const Fi=(t,e,i,s)=>Ha(t,i,s?r=>{const o=t[r][e];return o<i||o===i&&t[r+1][e]===i}:r=>t[r][e]<i),jg=(t,e,i)=>Ha(t,i,s=>t[s][e]>=i);function Ng(t,e,i){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>i;)r--;return s>0||r<t.length?t.slice(s,r):t}const Gh=["push","pop","shift","splice","unshift"];function Sg(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Gh.forEach(i=>{const s="_onData"+Ba(i),r=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return t._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),l}})})}function Cc(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(Gh.forEach(o=>{delete t[o]}),delete t._chartjs)}function Cg(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Kh=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Xh(t,e){let i=[],s=!1;return function(...r){i=r,s||(s=!0,Kh.call(window,()=>{s=!1,t.apply(e,i)}))}}function Pg(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}const $a=t=>t==="start"?"left":t==="end"?"right":"center",Ye=(t,e,i)=>t==="start"?e:t==="end"?i:(e+i)/2,Tg=(t,e,i,s)=>t===(s?"left":"right")?i:t==="center"?(e+i)/2:e;function Lg(t,e,i){const s=e.length;let r=0,o=s;if(t._sorted){const{iScale:l,vScale:h,_parsed:u}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=l.axis,{min:x,max:_,minDefined:v,maxDefined:w}=l.getUserBounds();if(v){if(r=Math.min(Fi(u,m,x).lo,i?s:Fi(e,m,l.getPixelForValue(x)).lo),f){const b=u.slice(0,r+1).reverse().findIndex(k=>!Ce(k[h.axis]));r-=Math.max(0,b)}r=vt(r,0,s-1)}if(w){let b=Math.max(Fi(u,l.axis,_,!0).hi+1,i?0:Fi(e,m,l.getPixelForValue(_),!0).hi+1);if(f){const k=u.slice(b-1).findIndex(C=>!Ce(C[h.axis]));b+=Math.max(0,k)}o=vt(b,r,s)-r}else o=s-r}return{start:r,count:o}}function Mg(t){const{xScale:e,yScale:i,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=r,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,r),o}const Us=t=>t===0||t===1,Pc=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Zt/i)),Tc=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*Zt/i)+1,Xn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Tt)+1,easeOutSine:t=>Math.sin(t*Tt),easeInOutSine:t=>-.5*(Math.cos($e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Us(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Us(t)?t:Pc(t,.075,.3),easeOutElastic:t=>Us(t)?t:Tc(t,.075,.3),easeInOutElastic(t){return Us(t)?t:t<.5?.5*Pc(t*2,.1125,.45):.5+.5*Tc(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Xn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xn.easeInBounce(t*2)*.5:Xn.easeOutBounce(t*2-1)*.5+.5};function Wa(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Lc(t){return Wa(t)?t:new ns(t)}function Ho(t){return Wa(t)?t:new ns(t).saturate(.5).darken(.1).hexString()}const Eg=["x","y","borderWidth","radius","tension"],Ag=["color","borderColor","backgroundColor"];function Fg(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Ag},numbers:{type:"number",properties:Eg}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Og(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mc=new Map;function Rg(t,e){e=e||{};const i=t+JSON.stringify(e);let s=Mc.get(i);return s||(s=new Intl.NumberFormat(t,e),Mc.set(i,s)),s}function Jh(t,e,i){return Rg(e,i).format(t)}const zg={values(t){return He(t)?t:""+t},numeric(t,e,i){if(t===0)return"0";const s=this.chart.options.locale;let r,o=t;if(i.length>1){const f=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=Dg(t,i)}const l=qh(Math.abs(o)),h=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(u,this.options.ticks.format),Jh(t,s,u)}};function Dg(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var Qh={formatters:zg};function Ig(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bi=Object.create(null),ua=Object.create(null);function Jn(t,e){if(!e)return t;const i=e.split(".");for(let s=0,r=i.length;s<r;++s){const o=i[s];t=t[o]||(t[o]=Object.create(null))}return t}function $o(t,e,i){return typeof e=="string"?ss(Jn(t,e),i):ss(Jn(t,""),e)}class Bg{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Ho(r.backgroundColor),this.hoverBorderColor=(s,r)=>Ho(r.borderColor),this.hoverColor=(s,r)=>Ho(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return $o(this,e,i)}get(e){return Jn(this,e)}describe(e,i){return $o(ua,e,i)}override(e,i){return $o(Bi,e,i)}route(e,i,s,r){const o=Jn(this,e),l=Jn(this,s),h="_"+i;Object.defineProperties(o,{[h]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){const u=this[h],f=l[r];return _e(u)?Object.assign({},f,u):pe(u,f)},set(u){this[h]=u}}})}apply(e){e.forEach(i=>i(this))}}var Oe=new Bg({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Fg,Og,Ig]);function Hg(t){return!t||Ce(t.size)||Ce(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ec(t,e,i,s,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,i.push(r)),o>s&&(s=o),s}function Si(t,e,i){const s=t.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((e-r)*s)/s+r}function Ac(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function fa(t,e,i,s){eu(t,e,i,s,null)}function eu(t,e,i,s,r){let o,l,h,u,f,m,x,_;const v=e.pointStyle,w=e.rotation,b=e.radius;let k=(w||0)*mg;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(i,s),t.rotate(k),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),v){default:r?t.ellipse(i,s,r/2,b,0,0,Zt):t.arc(i,s,b,0,Zt),t.closePath();break;case"triangle":m=r?r/2:b,t.moveTo(i+Math.sin(k)*m,s-Math.cos(k)*b),k+=jc,t.lineTo(i+Math.sin(k)*m,s-Math.cos(k)*b),k+=jc,t.lineTo(i+Math.sin(k)*m,s-Math.cos(k)*b),t.closePath();break;case"rectRounded":f=b*.516,u=b-f,l=Math.cos(k+Ni)*u,x=Math.cos(k+Ni)*(r?r/2-f:u),h=Math.sin(k+Ni)*u,_=Math.sin(k+Ni)*(r?r/2-f:u),t.arc(i-x,s-h,f,k-$e,k-Tt),t.arc(i+_,s-l,f,k-Tt,k),t.arc(i+x,s+h,f,k,k+Tt),t.arc(i-_,s+l,f,k+Tt,k+$e),t.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*b,m=r?r/2:u,t.rect(i-m,s-u,2*m,2*u);break}k+=Ni;case"rectRot":x=Math.cos(k)*(r?r/2:b),l=Math.cos(k)*b,h=Math.sin(k)*b,_=Math.sin(k)*(r?r/2:b),t.moveTo(i-x,s-h),t.lineTo(i+_,s-l),t.lineTo(i+x,s+h),t.lineTo(i-_,s+l),t.closePath();break;case"crossRot":k+=Ni;case"cross":x=Math.cos(k)*(r?r/2:b),l=Math.cos(k)*b,h=Math.sin(k)*b,_=Math.sin(k)*(r?r/2:b),t.moveTo(i-x,s-h),t.lineTo(i+x,s+h),t.moveTo(i+_,s-l),t.lineTo(i-_,s+l);break;case"star":x=Math.cos(k)*(r?r/2:b),l=Math.cos(k)*b,h=Math.sin(k)*b,_=Math.sin(k)*(r?r/2:b),t.moveTo(i-x,s-h),t.lineTo(i+x,s+h),t.moveTo(i+_,s-l),t.lineTo(i-_,s+l),k+=Ni,x=Math.cos(k)*(r?r/2:b),l=Math.cos(k)*b,h=Math.sin(k)*b,_=Math.sin(k)*(r?r/2:b),t.moveTo(i-x,s-h),t.lineTo(i+x,s+h),t.moveTo(i+_,s-l),t.lineTo(i-_,s+l);break;case"line":l=r?r/2:Math.cos(k)*b,h=Math.sin(k)*b,t.moveTo(i-l,s-h),t.lineTo(i+l,s+h);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(k)*(r?r/2:b),s+Math.sin(k)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function os(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Ua(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Va(t){t.restore()}function $g(t,e,i,s,r){if(!e)return t.lineTo(i.x,i.y);if(r==="middle"){const o=(e.x+i.x)/2;t.lineTo(o,e.y),t.lineTo(o,i.y)}else r==="after"!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function Wg(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function Ug(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ce(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Vg(t,e,i,s,r){if(r.strikethrough||r.underline){const o=t.measureText(s),l=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,u=i-o.actualBoundingBoxAscent,f=i+o.actualBoundingBoxDescent,m=r.strikethrough?(u+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(l,m),t.lineTo(h,m),t.stroke()}}function Zg(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function as(t,e,i,s,r,o={}){const l=He(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let u,f;for(t.save(),t.font=r.string,Ug(t,o),u=0;u<l.length;++u)f=l[u],o.backdrop&&Zg(t,o.backdrop),h&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Ce(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(f,i,s,o.maxWidth)),t.fillText(f,i,s,o.maxWidth),Vg(t,i,s,f,o),s+=Number(r.lineHeight);t.restore()}function pa(t,e){const{x:i,y:s,w:r,h:o,radius:l}=e;t.arc(i+l.topLeft,s+l.topLeft,l.topLeft,1.5*$e,$e,!0),t.lineTo(i,s+o-l.bottomLeft),t.arc(i+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,$e,Tt,!0),t.lineTo(i+r-l.bottomRight,s+o),t.arc(i+r-l.bottomRight,s+o-l.bottomRight,l.bottomRight,Tt,0,!0),t.lineTo(i+r,s+l.topRight),t.arc(i+r-l.topRight,s+l.topRight,l.topRight,0,-Tt,!0),t.lineTo(i+l.topLeft,s)}const qg=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yg=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Gg(t,e){const i=(""+t).match(qg);if(!i||i[1]==="normal")return e*1.2;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}const Kg=t=>+t||0;function tu(t,e){const i={},s=_e(e),r=s?Object.keys(e):e,o=_e(t)?s?l=>pe(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of r)i[l]=Kg(o(l));return i}function Xg(t){return tu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Qn(t){return tu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function kt(t){const e=Xg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ke(t,e){t=t||{},e=e||Oe.font;let i=pe(t.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let s=pe(t.style,e.style);s&&!(""+s).match(Yg)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:pe(t.family,e.family),lineHeight:Gg(pe(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:pe(t.weight,e.weight),string:""};return r.string=Hg(r),r}function Vs(t,e,i,s){let r,o,l;for(r=0,o=t.length;r<o;++r)if(l=t[r],l!==void 0&&l!==void 0)return l}function Jg(t,e,i){const{min:s,max:r}=t,o=lg(e,(r-s)/2),l=(h,u)=>i&&h===0?0:h+u;return{min:l(s,-Math.abs(o)),max:l(r,o)}}function $i(t,e){return Object.assign(Object.create(t),e)}function Za(t,e=[""],i,s,r=()=>t[0]){const o=i||t;typeof s>"u"&&(s=ru("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:r,override:h=>Za([h,...t],e,o,s)};return new Proxy(l,{deleteProperty(h,u){return delete h[u],delete h._keys,delete t[0][u],!0},get(h,u){return nu(h,u,()=>ox(u,e,t,h))},getOwnPropertyDescriptor(h,u){return Reflect.getOwnPropertyDescriptor(h._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(h,u){return Oc(h).includes(u)},ownKeys(h){return Oc(h)},set(h,u,f){const m=h._storage||(h._storage=r());return h[u]=m[u]=f,delete h._keys,!0}})}function cn(t,e,i,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:iu(t,s),setContext:o=>cn(t,o,i,s),override:o=>cn(t.override(o),e,i,s)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,h){return nu(o,l,()=>ex(o,l,h))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,h){return t[l]=h,delete o[l],!0}})}function iu(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:s,isScriptable:yi(i)?i:()=>i,isIndexable:yi(s)?s:()=>s}}const Qg=(t,e)=>t?t+Ba(e):e,qa=(t,e)=>_e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function nu(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=i();return t[e]=s,s}function ex(t,e,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=t;let h=s[e];return yi(h)&&l.isScriptable(e)&&(h=tx(e,h,t,i)),He(h)&&h.length&&(h=ix(e,h,t,l.isIndexable)),qa(e,h)&&(h=cn(h,r,o&&o[e],l)),h}function tx(t,e,i,s){const{_proxy:r,_context:o,_subProxy:l,_stack:h}=i;if(h.has(t))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+t);h.add(t);let u=e(o,l||s);return h.delete(t),qa(t,u)&&(u=Ya(r._scopes,r,t,u)),u}function ix(t,e,i,s){const{_proxy:r,_context:o,_subProxy:l,_descriptors:h}=i;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(_e(e[0])){const u=e,f=r._scopes.filter(m=>m!==u);e=[];for(const m of u){const x=Ya(f,r,t,m);e.push(cn(x,o,l&&l[t],h))}}return e}function su(t,e,i){return yi(t)?t(e,i):t}const nx=(t,e)=>t===!0?e:typeof t=="string"?Nr(e,t):void 0;function sx(t,e,i,s,r){for(const o of e){const l=nx(i,o);if(l){t.add(l);const h=su(l._fallback,i,r);if(typeof h<"u"&&h!==i&&h!==s)return h}else if(l===!1&&typeof s<"u"&&i!==s)return null}return!1}function Ya(t,e,i,s){const r=e._rootScopes,o=su(e._fallback,i,s),l=[...t,...r],h=new Set;h.add(s);let u=Fc(h,l,i,o||i,s);return u===null||typeof o<"u"&&o!==i&&(u=Fc(h,l,o,u,s),u===null)?!1:Za(Array.from(h),[""],r,o,()=>rx(e,i,s))}function Fc(t,e,i,s,r){for(;i;)i=sx(t,e,i,s,r);return i}function rx(t,e,i){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return He(r)&&_e(i)?i:r||{}}function ox(t,e,i,s){let r;for(const o of e)if(r=ru(Qg(o,t),i),typeof r<"u")return qa(t,r)?Ya(i,s,t,r):r}function ru(t,e){for(const i of e){if(!i)continue;const s=i[t];if(typeof s<"u")return s}}function Oc(t){let e=t._keys;return e||(e=t._keys=ax(t._scopes)),e}function ax(t){const e=new Set;for(const i of t)for(const s of Object.keys(i).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const lx=Number.EPSILON||1e-14,dn=(t,e)=>e<t.length&&!t[e].skip&&t[e],ou=t=>t==="x"?"y":"x";function cx(t,e,i,s){const r=t.skip?e:t,o=e,l=i.skip?e:i,h=ha(o,r),u=ha(l,o);let f=h/(h+u),m=u/(h+u);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const x=s*f,_=s*m;return{previous:{x:o.x-x*(l.x-r.x),y:o.y-x*(l.y-r.y)},next:{x:o.x+_*(l.x-r.x),y:o.y+_*(l.y-r.y)}}}function dx(t,e,i){const s=t.length;let r,o,l,h,u,f=dn(t,0);for(let m=0;m<s-1;++m)if(u=f,f=dn(t,m+1),!(!u||!f)){if(Kn(e[m],0,lx)){i[m]=i[m+1]=0;continue}r=i[m]/e[m],o=i[m+1]/e[m],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(l=3/Math.sqrt(h),i[m]=r*l*e[m],i[m+1]=o*l*e[m])}}function hx(t,e,i="x"){const s=ou(i),r=t.length;let o,l,h,u=dn(t,0);for(let f=0;f<r;++f){if(l=h,h=u,u=dn(t,f+1),!h)continue;const m=h[i],x=h[s];l&&(o=(m-l[i])/3,h[`cp1${i}`]=m-o,h[`cp1${s}`]=x-o*e[f]),u&&(o=(u[i]-m)/3,h[`cp2${i}`]=m+o,h[`cp2${s}`]=x+o*e[f])}}function ux(t,e="x"){const i=ou(e),s=t.length,r=Array(s).fill(0),o=Array(s);let l,h,u,f=dn(t,0);for(l=0;l<s;++l)if(h=u,u=f,f=dn(t,l+1),!!u){if(f){const m=f[e]-u[e];r[l]=m!==0?(f[i]-u[i])/m:0}o[l]=h?f?ln(r[l-1])!==ln(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}dx(t,r,o),hx(t,o,e)}function Zs(t,e,i){return Math.max(Math.min(t,i),e)}function fx(t,e){let i,s,r,o,l,h=os(t[0],e);for(i=0,s=t.length;i<s;++i)l=o,o=h,h=i<s-1&&os(t[i+1],e),o&&(r=t[i],l&&(r.cp1x=Zs(r.cp1x,e.left,e.right),r.cp1y=Zs(r.cp1y,e.top,e.bottom)),h&&(r.cp2x=Zs(r.cp2x,e.left,e.right),r.cp2y=Zs(r.cp2y,e.top,e.bottom)))}function px(t,e,i,s,r){let o,l,h,u;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")ux(t,r);else{let f=s?t[t.length-1]:t[0];for(o=0,l=t.length;o<l;++o)h=t[o],u=cx(f,h,t[Math.min(o+1,l-(s?0:1))%l],e.tension),h.cp1x=u.previous.x,h.cp1y=u.previous.y,h.cp2x=u.next.x,h.cp2y=u.next.y,f=h}e.capBezierPoints&&fx(t,i)}function Ga(){return typeof window<"u"&&typeof document<"u"}function Ka(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Pr(t,e,i){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[i])):s=t,s}const Wr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function mx(t,e){return Wr(t).getPropertyValue(e)}const gx=["top","right","bottom","left"];function Di(t,e,i){const s={};i=i?"-"+i:"";for(let r=0;r<4;r++){const o=gx[r];s[o]=parseFloat(t[e+"-"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const xx=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function yx(t,e){const i=t.touches,s=i&&i.length?i[0]:t,{offsetX:r,offsetY:o}=s;let l=!1,h,u;if(xx(r,o,t.target))h=r,u=o;else{const f=e.getBoundingClientRect();h=s.clientX-f.left,u=s.clientY-f.top,l=!0}return{x:h,y:u,box:l}}function Pi(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:s}=e,r=Wr(i),o=r.boxSizing==="border-box",l=Di(r,"padding"),h=Di(r,"border","width"),{x:u,y:f,box:m}=yx(t,i),x=l.left+(m&&h.left),_=l.top+(m&&h.top);let{width:v,height:w}=e;return o&&(v-=l.width+h.width,w-=l.height+h.height),{x:Math.round((u-x)/v*i.width/s),y:Math.round((f-_)/w*i.height/s)}}function _x(t,e,i){let s,r;if(e===void 0||i===void 0){const o=t&&Ka(t);if(!o)e=t.clientWidth,i=t.clientHeight;else{const l=o.getBoundingClientRect(),h=Wr(o),u=Di(h,"border","width"),f=Di(h,"padding");e=l.width-f.width-u.width,i=l.height-f.height-u.height,s=Pr(h.maxWidth,o,"clientWidth"),r=Pr(h.maxHeight,o,"clientHeight")}}return{width:e,height:i,maxWidth:s||Cr,maxHeight:r||Cr}}const qs=t=>Math.round(t*10)/10;function vx(t,e,i,s){const r=Wr(t),o=Di(r,"margin"),l=Pr(r.maxWidth,t,"clientWidth")||Cr,h=Pr(r.maxHeight,t,"clientHeight")||Cr,u=_x(t,e,i);let{width:f,height:m}=u;if(r.boxSizing==="content-box"){const _=Di(r,"border","width"),v=Di(r,"padding");f-=v.width+_.width,m-=v.height+_.height}return f=Math.max(0,f-o.width),m=Math.max(0,s?f/s:m-o.height),f=qs(Math.min(f,l,u.maxWidth)),m=qs(Math.min(m,h,u.maxHeight)),f&&!m&&(m=qs(f/2)),(e!==void 0||i!==void 0)&&s&&u.height&&m>u.height&&(m=u.height,f=qs(Math.floor(m*s))),{width:f,height:m}}function Rc(t,e,i){const s=e||1,r=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(i||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||l.height!==r||l.width!==o?(t.currentDevicePixelRatio=s,l.height=r,l.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const bx=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ga()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function zc(t,e){const i=mx(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ti(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function wx(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:s==="middle"?i<.5?t.y:e.y:s==="after"?i<1?t.y:e.y:i>0?e.y:t.y}}function kx(t,e,i,s){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},l=Ti(t,r,i),h=Ti(r,o,i),u=Ti(o,e,i),f=Ti(l,h,i),m=Ti(h,u,i);return Ti(f,m,i)}const jx=function(t,e){return{x(i){return t+t+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,s){return i-s},leftForLtr(i,s){return i-s}}},Nx=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function an(t,e,i){return t?jx(e,i):Nx()}function au(t,e){let i,s;(e==="ltr"||e==="rtl")&&(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function lu(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function cu(t){return t==="angle"?{between:Yh,compare:wg,normalize:hi}:{between:Bn,compare:(e,i)=>e-i,normalize:e=>e}}function Dc({start:t,end:e,count:i,loop:s,style:r}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i===0,style:r}}function Sx(t,e,i){const{property:s,start:r,end:o}=i,{between:l,normalize:h}=cu(s),u=e.length;let{start:f,end:m,loop:x}=t,_,v;if(x){for(f+=u,m+=u,_=0,v=u;_<v&&l(h(e[f%u][s]),r,o);++_)f--,m--;f%=u,m%=u}return m<f&&(m+=u),{start:f,end:m,loop:x,style:t.style}}function Cx(t,e,i){if(!i)return[t];const{property:s,start:r,end:o}=i,l=e.length,{compare:h,between:u,normalize:f}=cu(s),{start:m,end:x,loop:_,style:v}=Sx(t,e,i),w=[];let b=!1,k=null,C,T,M;const z=()=>u(r,M,C)&&h(r,M)!==0,F=()=>h(o,C)===0||u(o,M,C),B=()=>b||z(),W=()=>!b||F();for(let H=m,J=m;H<=x;++H)T=e[H%l],!T.skip&&(C=f(T[s]),C!==M&&(b=u(C,r,o),k===null&&B()&&(k=h(C,r)===0?H:J),k!==null&&W()&&(w.push(Dc({start:k,end:H,loop:_,count:l,style:v})),k=null),J=H,M=C));return k!==null&&w.push(Dc({start:k,end:x,loop:_,count:l,style:v})),w}function Px(t,e){const i=[],s=t.segments;for(let r=0;r<s.length;r++){const o=Cx(s[r],t.points,e);o.length&&i.push(...o)}return i}function Tx(t,e,i,s){let r=0,o=e-1;if(i&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function Lx(t,e,i,s){const r=t.length,o=[];let l=e,h=t[e],u;for(u=e+1;u<=i;++u){const f=t[u%r];f.skip||f.stop?h.skip||(s=!1,o.push({start:e%r,end:(u-1)%r,loop:s}),e=l=f.stop?u:null):(l=u,h.skip&&(e=u)),h=f}return l!==null&&o.push({start:e%r,end:l%r,loop:s}),o}function Mx(t,e){const i=t.points,s=t.options.spanGaps,r=i.length;if(!r)return[];const o=!!t._loop,{start:l,end:h}=Tx(i,r,o,s);if(s===!0)return Ic(t,[{start:l,end:h,loop:o}],i,e);const u=h<l?h+r:h,f=!!t._fullLoop&&l===0&&h===r-1;return Ic(t,Lx(i,l,u,f),i,e)}function Ic(t,e,i,s){return!s||!s.setContext||!i?e:Ex(t,e,i,s)}function Ex(t,e,i,s){const r=t._chart.getContext(),o=Bc(t.options),{_datasetIndex:l,options:{spanGaps:h}}=t,u=i.length,f=[];let m=o,x=e[0].start,_=x;function v(w,b,k,C){const T=h?-1:1;if(w!==b){for(w+=u;i[w%u].skip;)w-=T;for(;i[b%u].skip;)b+=T;w%u!==b%u&&(f.push({start:w%u,end:b%u,loop:k,style:C}),m=C,x=b%u)}}for(const w of e){x=h?x:w.start;let b=i[x%u],k;for(_=x+1;_<=w.end;_++){const C=i[_%u];k=Bc(s.setContext($i(r,{type:"segment",p0:b,p1:C,p0DataIndex:(_-1)%u,p1DataIndex:_%u,datasetIndex:l}))),Ax(k,m)&&v(x,_-1,w.loop,m),b=C,m=k}x<_-1&&v(x,_-1,w.loop,m)}return f}function Bc(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ax(t,e){if(!e)return!1;const i=[],s=function(r,o){return Wa(o)?(i.includes(o)||i.push(o),i.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Fx{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,s,r){const o=i.listeners[r],l=i.duration;o.forEach(h=>h({chart:e,initial:i.initial,numSteps:l,currentStep:Math.min(s-i.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Kh.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,h=!1,u;for(;l>=0;--l)u=o[l],u._active?(u._total>s.duration&&(s.duration=u._total),u.tick(e),h=!0):(o[l]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,s,e,"progress")),o.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),i+=o.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){const i=this._charts;let s=i.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,s)),s}listen(e,i,s){this._getAnims(e).listeners[i].push(s)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){const i=this._charts.get(e);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){const i=this._charts.get(e);if(!i||!i.items.length)return;const s=i.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ii=new Fx;const Hc="transparent",Ox={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const s=Lc(t||Hc),r=s.valid&&Lc(e||Hc);return r&&r.valid?r.mix(s,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class Rx{constructor(e,i,s,r){const o=i[s];r=Vs([e.to,r,o,e.from]);const l=Vs([e.from,o,r]);this._active=!0,this._fn=e.fn||Ox[e.type||typeof l],this._easing=Xn[e.easing]||Xn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=s,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,i,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Vs([e.to,i,r,e.from]),this._from=Vs([e.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const i=e-this._start,s=this._duration,r=this._prop,o=this._from,l=this._loop,h=this._to;let u;if(this._active=o!==h&&(l||i<s),!this._active){this._target[r]=h,this._notify(!0);return}if(i<0){this._target[r]=o;return}u=i/s%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(o,h,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((i,s)=>{e.push({res:i,rej:s})})}_notify(e){const i=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][i]()}}class du{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!_e(e))return;const i=Object.keys(Oe.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!_e(o))return;const l={};for(const h of i)l[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,l)})})}_animateOptions(e,i){const s=i.options,r=Dx(e,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&zx(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,i){const s=this._properties,r=[],o=e.$animations||(e.$animations={}),l=Object.keys(i),h=Date.now();let u;for(u=l.length-1;u>=0;--u){const f=l[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,i));continue}const m=i[f];let x=o[f];const _=s.get(f);if(x)if(_&&x.active()){x.update(_,m,h);continue}else x.cancel();if(!_||!_.duration){e[f]=m;continue}o[f]=x=new Rx(_,e,f,m),r.push(x)}return r}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}const s=this._createAnimations(e,i);if(s.length)return ii.add(this._chart,s),!0}}function zx(t,e){const i=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const o=t[s[r]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function Dx(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function $c(t,e){const i=t&&t.options||{},s=i.reverse,r=i.min===void 0?e:0,o=i.max===void 0?e:0;return{start:s?o:r,end:s?r:o}}function Ix(t,e,i){if(i===!1)return!1;const s=$c(t,i),r=$c(e,i);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function Bx(t){let e,i,s,r;return _e(t)?(e=t.top,i=t.right,s=t.bottom,r=t.left):e=i=s=r=t,{top:e,right:i,bottom:s,left:r,disabled:t===!1}}function hu(t,e){const i=[],s=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=s.length;r<o;++r)i.push(s[r].index);return i}function Wc(t,e,i,s={}){const r=t.keys,o=s.mode==="single";let l,h,u,f;if(e===null)return;let m=!1;for(l=0,h=r.length;l<h;++l){if(u=+r[l],u===i){if(m=!0,s.all)continue;break}f=t.values[u],wt(f)&&(o||e===0||ln(e)===ln(f))&&(e+=f)}return!m&&!s.all?0:e}function Hx(t,e){const{iScale:i,vScale:s}=e,r=i.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(t),h=new Array(l.length);let u,f,m;for(u=0,f=l.length;u<f;++u)m=l[u],h[u]={[r]:m,[o]:t[m]};return h}function Wo(t,e){const i=t&&t.options.stacked;return i||i===void 0&&e.stack!==void 0}function $x(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function Wx(t){const{min:e,max:i,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function Ux(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function Uc(t,e,i,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const o=t[r.index];if(i&&o>0||!i&&o<0)return r.index}return null}function Vc(t,e){const{chart:i,_cachedMeta:s}=t,r=i._stacks||(i._stacks={}),{iScale:o,vScale:l,index:h}=s,u=o.axis,f=l.axis,m=$x(o,l,s),x=e.length;let _;for(let v=0;v<x;++v){const w=e[v],{[u]:b,[f]:k}=w,C=w._stacks||(w._stacks={});_=C[f]=Ux(r,m,b),_[h]=k,_._top=Uc(_,l,!0,s.type),_._bottom=Uc(_,l,!1,s.type);const T=_._visualValues||(_._visualValues={});T[h]=k}}function Uo(t,e){const i=t.scales;return Object.keys(i).filter(s=>i[s].axis===e).shift()}function Vx(t,e){return $i(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Zx(t,e,i){return $i(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function En(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const o=r._stacks;if(!o||o[s]===void 0||o[s][i]===void 0)return;delete o[s][i],o[s]._visualValues!==void 0&&o[s]._visualValues[i]!==void 0&&delete o[s]._visualValues[i]}}}const Vo=t=>t==="reset"||t==="none",Zc=(t,e)=>e?t:Object.assign({},t),qx=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:hu(i,!0),values:null};class es{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wo(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&En(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,s=this.getDataset(),r=(x,_,v,w)=>x==="x"?_:x==="r"?w:v,o=i.xAxisID=pe(s.xAxisID,Uo(e,"x")),l=i.yAxisID=pe(s.yAxisID,Uo(e,"y")),h=i.rAxisID=pe(s.rAxisID,Uo(e,"r")),u=i.indexAxis,f=i.iAxisID=r(u,o,l,h),m=i.vAxisID=r(u,l,o,h);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(f),i.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Cc(this._data,this),e._stacked&&En(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),s=this._data;if(_e(i)){const r=this._cachedMeta;this._data=Hx(i,r)}else if(s!==i){if(s){Cc(s,this);const r=this._cachedMeta;En(r),r._parsed=[]}i&&Object.isExtensible(i)&&Sg(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=i._stacked;i._stacked=Wo(i.vScale,i),i.stack!==s.stack&&(r=!0,En(i),i.stack=s.stack),this._resyncElements(e),(r||o!==i._stacked)&&(Vc(this,i._parsed),i._stacked=Wo(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:l}=s,h=o.axis;let u=e===0&&i===r.length?!0:s._sorted,f=e>0&&s._parsed[e-1],m,x,_;if(this._parsing===!1)s._parsed=r,s._sorted=!0,_=r;else{He(r[e])?_=this.parseArrayData(s,r,e,i):_e(r[e])?_=this.parseObjectData(s,r,e,i):_=this.parsePrimitiveData(s,r,e,i);const v=()=>x[h]===null||f&&x[h]<f[h];for(m=0;m<i;++m)s._parsed[m+e]=x=_[m],u&&(v()&&(u=!1),f=x);s._sorted=u}l&&Vc(this,_)}parsePrimitiveData(e,i,s,r){const{iScale:o,vScale:l}=e,h=o.axis,u=l.axis,f=o.getLabels(),m=o===l,x=new Array(r);let _,v,w;for(_=0,v=r;_<v;++_)w=_+s,x[_]={[h]:m||o.parse(f[w],w),[u]:l.parse(i[w],w)};return x}parseArrayData(e,i,s,r){const{xScale:o,yScale:l}=e,h=new Array(r);let u,f,m,x;for(u=0,f=r;u<f;++u)m=u+s,x=i[m],h[u]={x:o.parse(x[0],m),y:l.parse(x[1],m)};return h}parseObjectData(e,i,s,r){const{xScale:o,yScale:l}=e,{xAxisKey:h="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let m,x,_,v;for(m=0,x=r;m<x;++m)_=m+s,v=i[_],f[m]={x:o.parse(Nr(v,h),_),y:l.parse(Nr(v,u),_)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,s){const r=this.chart,o=this._cachedMeta,l=i[e.axis],h={keys:hu(r,!0),values:i._stacks[e.axis]._visualValues};return Wc(h,l,o.index,{mode:s})}updateRangeFromParsed(e,i,s,r){const o=s[i.axis];let l=o===null?NaN:o;const h=r&&s._stacks[i.axis];r&&h&&(r.values=h,l=Wc(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,i){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,l=r.length,h=this._getOtherScale(e),u=qx(i,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:x}=Wx(h);let _,v;function w(){v=r[_];const b=v[h.axis];return!wt(v[e.axis])||m>b||x<b}for(_=0;_<l&&!(!w()&&(this.updateRangeFromParsed(f,e,v,u),o));++_);if(o){for(_=l-1;_>=0;--_)if(!w()){this.updateRangeFromParsed(f,e,v,u);break}}return f}getAllParsedValues(e){const i=this._cachedMeta._parsed,s=[];let r,o,l;for(r=0,o=i.length;r<o;++r)l=i[r][e.axis],wt(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,s=i.iScale,r=i.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=Bx(pe(this.options.clip,Ix(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this.chart,s=this._cachedMeta,r=s.data||[],o=i.chartArea,l=[],h=this._drawStart||0,u=this._drawCount||r.length-h,f=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,o,h,u),m=h;m<h+u;++m){const x=r[m];x.hidden||(x.active&&f?l.push(x):x.draw(e,o))}for(m=0;m<l.length;++m)l[m].draw(e,o)}getStyle(e,i){const s=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,i,s){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=Zx(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Vx(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",s){const r=i==="active",o=this._cachedDataOpts,l=e+"-"+i,h=o[l],u=this.enableOptionSharing&&Sr(s);if(h)return Zc(h,u);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),x=r?[`${e}Hover`,"hover",e,""]:[e,""],_=f.getOptionScopes(this.getDataset(),m),v=Object.keys(Oe.elements[e]),w=()=>this.getContext(s,r,i),b=f.resolveNamedOptions(_,v,w,x);return b.$shared&&(b.$shared=u,o[l]=Object.freeze(Zc(b,u))),b}_resolveAnimations(e,i,s){const r=this.chart,o=this._cachedDataOpts,l=`animation-${i}`,h=o[l];if(h)return h;let u;if(r.options.animation!==!1){const m=this.chart.config,x=m.datasetAnimationScopeKeys(this._type,i),_=m.getOptionScopes(this.getDataset(),x);u=m.createResolver(_,this.getContext(e,s,i))}const f=new du(r,u&&u.animations);return u&&u._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Vo(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const s=this.resolveDataElementOptions(e,i),r=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(i,o)||o!==r;return this.updateSharedOptions(o,i,s),{sharedOptions:o,includeOptions:l}}updateElement(e,i,s,r){Vo(r)?Object.assign(e,s):this._resolveAnimations(i,r).update(e,s)}updateSharedOptions(e,i,s){e&&!Vo(i)&&this._resolveAnimations(void 0,i).update(e,s)}_setStyle(e,i,s,r){e.active=r;const o=this.getStyle(i,r);this._resolveAnimations(i,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,i,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,s=this._cachedMeta.data;for(const[h,u,f]of this._syncList)this[h](u,f);this._syncList=[];const r=s.length,o=i.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,i,s=!0){const r=this._cachedMeta,o=r.data,l=e+i;let h;const u=f=>{for(f.length+=i,h=f.length-1;h>=l;h--)f[h]=f[h-i]};for(u(o),h=e;h<l;++h)o[h]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,i),s&&this.updateElements(o,e,i,"reset")}updateElements(e,i,s,r){}_removeElements(e,i){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,i);s._stacked&&En(s,r)}s.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,s,r]=e;this[i](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}oe(es,"defaults",{}),oe(es,"datasetElementType",null),oe(es,"dataElementType",null);class or extends es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=i,l=this.chart._animationsDisabled;let{start:h,count:u}=Lg(i,r,l);this._drawStart=h,this._drawCount=u,Mg(i)&&(h=0,u=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:f},e),this.updateElements(r,h,u,e)}updateElements(e,i,s,r){const o=r==="reset",{iScale:l,vScale:h,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:x}=this._getSharedOptions(i,r),_=l.axis,v=h.axis,{spanGaps:w,segment:b}=this.options,k=rs(w)?w:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||r==="none",T=i+s,M=e.length;let z=i>0&&this.getParsed(i-1);for(let F=0;F<M;++F){const B=e[F],W=C?B:{};if(F<i||F>=T){W.skip=!0;continue}const H=this.getParsed(F),J=Ce(H[v]),ue=W[_]=l.getPixelForValue(H[_],F),Y=W[v]=o||J?h.getBasePixel():h.getPixelForValue(u?this.applyStack(h,H,u):H[v],F);W.skip=isNaN(ue)||isNaN(Y)||J,W.stop=F>0&&Math.abs(H[_]-z[_])>k,b&&(W.parsed=H,W.raw=f.data[F]),x&&(W.options=m||this.resolveDataElementOptions(F,B.active?"active":r)),C||this.updateElement(B,F,W,r),z=H}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,s=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}oe(or,"id","line"),oe(or,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),oe(or,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ci(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xa{constructor(e){oe(this,"options");this.options=e||{}}static override(e){Object.assign(Xa.prototype,e)}init(){}formats(){return Ci()}parse(){return Ci()}format(){return Ci()}add(){return Ci()}diff(){return Ci()}startOf(){return Ci()}endOf(){return Ci()}}var Yx={_date:Xa};function Gx(t,e,i,s){const{controller:r,data:o,_sorted:l}=t,h=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&l&&o.length){const f=h._reversePixels?jg:Fi;if(s){if(r._sharedOptions){const m=o[0],x=typeof m.getRange=="function"&&m.getRange(e);if(x){const _=f(o,e,i-x),v=f(o,e,i+x);return{lo:_.lo,hi:v.hi}}}}else{const m=f(o,e,i);if(u){const{vScale:x}=r._cachedMeta,{_parsed:_}=t,v=_.slice(0,m.lo+1).reverse().findIndex(b=>!Ce(b[x.axis]));m.lo-=Math.max(0,v);const w=_.slice(m.hi).findIndex(b=>!Ce(b[x.axis]));m.hi+=Math.max(0,w)}return m}}return{lo:0,hi:o.length-1}}function Ur(t,e,i,s,r){const o=t.getSortedVisibleDatasetMetas(),l=i[e];for(let h=0,u=o.length;h<u;++h){const{index:f,data:m}=o[h],{lo:x,hi:_}=Gx(o[h],e,l,r);for(let v=x;v<=_;++v){const w=m[v];w.skip||s(w,f,v)}}}function Kx(t){const e=t.indexOf("x")!==-1,i=t.indexOf("y")!==-1;return function(s,r){const o=e?Math.abs(s.x-r.x):0,l=i?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Zo(t,e,i,s,r){const o=[];return!r&&!t.isPointInArea(e)||Ur(t,i,e,function(h,u,f){!r&&!os(h,t.chartArea,0)||h.inRange(e.x,e.y,s)&&o.push({element:h,datasetIndex:u,index:f})},!0),o}function Xx(t,e,i,s){let r=[];function o(l,h,u){const{startAngle:f,endAngle:m}=l.getProps(["startAngle","endAngle"],s),{angle:x}=bg(l,{x:e.x,y:e.y});Yh(x,f,m)&&r.push({element:l,datasetIndex:h,index:u})}return Ur(t,i,e,o),r}function Jx(t,e,i,s,r,o){let l=[];const h=Kx(i);let u=Number.POSITIVE_INFINITY;function f(m,x,_){const v=m.inRange(e.x,e.y,r);if(s&&!v)return;const w=m.getCenterPoint(r);if(!(!!o||t.isPointInArea(w))&&!v)return;const k=h(e,w);k<u?(l=[{element:m,datasetIndex:x,index:_}],u=k):k===u&&l.push({element:m,datasetIndex:x,index:_})}return Ur(t,i,e,f),l}function qo(t,e,i,s,r,o){return!o&&!t.isPointInArea(e)?[]:i==="r"&&!s?Xx(t,e,i,r):Jx(t,e,i,s,r,o)}function qc(t,e,i,s,r){const o=[],l=i==="x"?"inXRange":"inYRange";let h=!1;return Ur(t,i,e,(u,f,m)=>{u[l]&&u[l](e[i],r)&&(o.push({element:u,datasetIndex:f,index:m}),h=h||u.inRange(e.x,e.y,r))}),s&&!h?[]:o}var Qx={modes:{index(t,e,i,s){const r=Pi(e,t),o=i.axis||"x",l=i.includeInvisible||!1,h=i.intersect?Zo(t,r,o,s,l):qo(t,r,o,!1,s,l),u=[];return h.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const m=h[0].index,x=f.data[m];x&&!x.skip&&u.push({element:x,datasetIndex:f.index,index:m})}),u):[]},dataset(t,e,i,s){const r=Pi(e,t),o=i.axis||"xy",l=i.includeInvisible||!1;let h=i.intersect?Zo(t,r,o,s,l):qo(t,r,o,!1,s,l);if(h.length>0){const u=h[0].datasetIndex,f=t.getDatasetMeta(u).data;h=[];for(let m=0;m<f.length;++m)h.push({element:f[m],datasetIndex:u,index:m})}return h},point(t,e,i,s){const r=Pi(e,t),o=i.axis||"xy",l=i.includeInvisible||!1;return Zo(t,r,o,s,l)},nearest(t,e,i,s){const r=Pi(e,t),o=i.axis||"xy",l=i.includeInvisible||!1;return qo(t,r,o,i.intersect,s,l)},x(t,e,i,s){const r=Pi(e,t);return qc(t,r,"x",i.intersect,s)},y(t,e,i,s){const r=Pi(e,t);return qc(t,r,"y",i.intersect,s)}}};const uu=["left","top","right","bottom"];function An(t,e){return t.filter(i=>i.pos===e)}function Yc(t,e){return t.filter(i=>uu.indexOf(i.pos)===-1&&i.box.axis===e)}function Fn(t,e){return t.sort((i,s)=>{const r=e?s:i,o=e?i:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function e0(t){const e=[];let i,s,r,o,l,h;for(i=0,s=(t||[]).length;i<s;++i)r=t[i],{position:o,options:{stack:l,stackWeight:h=1}}=r,e.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:h});return e}function t0(t){const e={};for(const i of t){const{stack:s,pos:r,stackWeight:o}=i;if(!s||!uu.includes(r))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function i0(t,e){const i=t0(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let o,l,h;for(o=0,l=t.length;o<l;++o){h=t[o];const{fullSize:u}=h.box,f=i[h.stack],m=f&&h.stackWeight/f.weight;h.horizontal?(h.width=m?m*s:u&&e.availableWidth,h.height=r):(h.width=s,h.height=m?m*r:u&&e.availableHeight)}return i}function n0(t){const e=e0(t),i=Fn(e.filter(f=>f.box.fullSize),!0),s=Fn(An(e,"left"),!0),r=Fn(An(e,"right")),o=Fn(An(e,"top"),!0),l=Fn(An(e,"bottom")),h=Yc(e,"x"),u=Yc(e,"y");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:r.concat(u).concat(l).concat(h),chartArea:An(e,"chartArea"),vertical:s.concat(r).concat(u),horizontal:o.concat(l).concat(h)}}function Gc(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function fu(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function s0(t,e,i,s){const{pos:r,box:o}=i,l=t.maxPadding;if(!_e(r)){i.size&&(t[r]-=i.size);const x=s[i.stack]||{size:0,count:1};x.size=Math.max(x.size,i.horizontal?o.height:o.width),i.size=x.size/x.count,t[r]+=i.size}o.getPadding&&fu(l,o.getPadding());const h=Math.max(0,e.outerWidth-Gc(l,t,"left","right")),u=Math.max(0,e.outerHeight-Gc(l,t,"top","bottom")),f=h!==t.w,m=u!==t.h;return t.w=h,t.h=u,i.horizontal?{same:f,other:m}:{same:m,other:f}}function r0(t){const e=t.maxPadding;function i(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function o0(t,e){const i=e.maxPadding;function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(e[l],i[l])}),o}return s(t?["left","right"]:["top","bottom"])}function Hn(t,e,i,s){const r=[];let o,l,h,u,f,m;for(o=0,l=t.length,f=0;o<l;++o){h=t[o],u=h.box,u.update(h.width||e.w,h.height||e.h,o0(h.horizontal,e));const{same:x,other:_}=s0(e,i,h,s);f|=x&&r.length,m=m||_,u.fullSize||r.push(h)}return f&&Hn(r,e,i,s)||m}function Ys(t,e,i,s,r){t.top=i,t.left=e,t.right=e+s,t.bottom=i+r,t.width=s,t.height=r}function Kc(t,e,i,s){const r=i.padding;let{x:o,y:l}=e;for(const h of t){const u=h.box,f=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/f.weight||1;if(h.horizontal){const x=e.w*m,_=f.size||u.height;Sr(f.start)&&(l=f.start),u.fullSize?Ys(u,r.left,l,i.outerWidth-r.right-r.left,_):Ys(u,e.left+f.placed,l,x,_),f.start=l,f.placed+=x,l=u.bottom}else{const x=e.h*m,_=f.size||u.width;Sr(f.start)&&(o=f.start),u.fullSize?Ys(u,o,r.top,_,i.outerHeight-r.bottom-r.top):Ys(u,o,e.top+f.placed,_,x),f.start=o,f.placed+=x,o=u.right}}e.x=o,e.y=l}var bt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;i!==-1&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const r=kt(t.options.layout.padding),o=Math.max(e-r.width,0),l=Math.max(i-r.height,0),h=n0(t.boxes),u=h.vertical,f=h.horizontal;we(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const m=u.reduce((b,k)=>k.box.options&&k.box.options.display===!1?b:b+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),_=Object.assign({},r);fu(_,kt(s));const v=Object.assign({maxPadding:_,w:o,h:l,x:r.left,y:r.top},r),w=i0(u.concat(f),x);Hn(h.fullSize,v,x,w),Hn(u,v,x,w),Hn(f,v,x,w)&&Hn(u,v,x,w),r0(v),Kc(h.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,Kc(h.rightAndBottom,v,x,w),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},we(h.chartArea,b=>{const k=b.box;Object.assign(k,t.chartArea),k.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class pu{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,s){}removeEventListener(e,i,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,s,r){return i=Math.max(0,i||e.width),s=s||e.height,{width:i,height:Math.max(0,r?Math.floor(i/r):s)}}isAttached(e){return!0}updateConfig(e){}}class a0 extends pu{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ar="$chartjs",l0={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xc=t=>t===null||t==="";function c0(t,e){const i=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[ar]={initial:{height:s,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Xc(r)){const o=zc(t,"width");o!==void 0&&(t.width=o)}if(Xc(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=zc(t,"height");o!==void 0&&(t.height=o)}return t}const mu=bx?{passive:!0}:!1;function d0(t,e,i){t&&t.addEventListener(e,i,mu)}function h0(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,mu)}function u0(t,e){const i=l0[t.type]||t.type,{x:s,y:r}=Pi(t,e);return{type:i,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Tr(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function f0(t,e,i){const s=t.canvas,r=new MutationObserver(o=>{let l=!1;for(const h of o)l=l||Tr(h.addedNodes,s),l=l&&!Tr(h.removedNodes,s);l&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function p0(t,e,i){const s=t.canvas,r=new MutationObserver(o=>{let l=!1;for(const h of o)l=l||Tr(h.removedNodes,s),l=l&&!Tr(h.addedNodes,s);l&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}const ls=new Map;let Jc=0;function gu(){const t=window.devicePixelRatio;t!==Jc&&(Jc=t,ls.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function m0(t,e){ls.size||window.addEventListener("resize",gu),ls.set(t,e)}function g0(t){ls.delete(t),ls.size||window.removeEventListener("resize",gu)}function x0(t,e,i){const s=t.canvas,r=s&&Ka(s);if(!r)return;const o=Xh((h,u)=>{const f=r.clientWidth;i(h,u),f<r.clientWidth&&i()},window),l=new ResizeObserver(h=>{const u=h[0],f=u.contentRect.width,m=u.contentRect.height;f===0&&m===0||o(f,m)});return l.observe(r),m0(t,o),l}function Yo(t,e,i){i&&i.disconnect(),e==="resize"&&g0(t)}function y0(t,e,i){const s=t.canvas,r=Xh(o=>{t.ctx!==null&&i(u0(o,t))},t);return d0(s,e,r),r}class _0 extends pu{acquireContext(e,i){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(c0(e,i),s):null}releaseContext(e){const i=e.canvas;if(!i[ar])return!1;const s=i[ar].initial;["height","width"].forEach(o=>{const l=s[o];Ce(l)?i.removeAttribute(o):i.setAttribute(o,l)});const r=s.style||{};return Object.keys(r).forEach(o=>{i.style[o]=r[o]}),i.width=i.width,delete i[ar],!0}addEventListener(e,i,s){this.removeEventListener(e,i);const r=e.$proxies||(e.$proxies={}),l={attach:f0,detach:p0,resize:x0}[i]||y0;r[i]=l(e,i,s)}removeEventListener(e,i){const s=e.$proxies||(e.$proxies={}),r=s[i];if(!r)return;({attach:Yo,detach:Yo,resize:Yo}[i]||h0)(e,i,r),s[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,s,r){return vx(e,i,s,r)}isAttached(e){const i=e&&Ka(e);return!!(i&&i.isConnected)}}function v0(t){return!Ga()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?a0:_0}var rr;let Wi=(rr=class{constructor(){oe(this,"x");oe(this,"y");oe(this,"active",!1);oe(this,"options");oe(this,"$animations")}tooltipPosition(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}hasValue(){return rs(this.x)&&rs(this.y)}getProps(e,i){const s=this.$animations;if(!i||!s)return this;const r={};return e.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}},oe(rr,"defaults",{}),oe(rr,"defaultRoutes"),rr);function b0(t,e){const i=t.options.ticks,s=w0(t),r=Math.min(i.maxTicksLimit||s,s),o=i.major.enabled?j0(e):[],l=o.length,h=o[0],u=o[l-1],f=[];if(l>r)return N0(e,f,o,l/r),f;const m=k0(o,e,r);if(l>0){let x,_;const v=l>1?Math.round((u-h)/(l-1)):null;for(Gs(e,f,m,Ce(v)?0:h-v,h),x=0,_=l-1;x<_;x++)Gs(e,f,m,o[x],o[x+1]);return Gs(e,f,m,u,Ce(v)?e.length:u+v),f}return Gs(e,f,m),f}function w0(t){const e=t.options.offset,i=t._tickSize(),s=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(s,r))}function k0(t,e,i){const s=S0(t),r=e.length/i;if(!s)return Math.max(r,1);const o=gg(s);for(let l=0,h=o.length-1;l<h;l++){const u=o[l];if(u>r)return u}return Math.max(r,1)}function j0(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}function N0(t,e,i,s){let r=0,o=i[0],l;for(s=Math.ceil(s),l=0;l<t.length;l++)l===o&&(e.push(t[l]),r++,o=i[r*s])}function Gs(t,e,i,s,r){const o=pe(s,0),l=Math.min(pe(r,t.length),t.length);let h=0,u,f,m;for(i=Math.ceil(i),r&&(u=r-s,i=u/Math.floor(u/i)),m=o;m<0;)h++,m=Math.round(o+h*i);for(f=Math.max(o,0);f<l;f++)f===m&&(e.push(t[f]),h++,m=Math.round(o+h*i))}function S0(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}const C0=t=>t==="left"?"right":t==="right"?"left":t,Qc=(t,e,i)=>e==="top"||e==="left"?t[e]+i:t[e]-i,ed=(t,e)=>Math.min(e||t,t);function td(t,e){const i=[],s=t.length/e,r=t.length;let o=0;for(;o<r;o+=s)i.push(t[Math.floor(o)]);return i}function P0(t,e,i){const s=t.ticks.length,r=Math.min(e,s-1),o=t._startPixel,l=t._endPixel,h=1e-6;let u=t.getPixelForTick(r),f;if(!(i&&(s===1?f=Math.max(u-o,l-u):e===0?f=(t.getPixelForTick(1)-u)/2:f=(u-t.getPixelForTick(r-1))/2,u+=r<e?f:-f,u<o-h||u>l+h)))return u}function T0(t,e){we(t,i=>{const s=i.gc,r=s.length/2;let o;if(r>e){for(o=0;o<r;++o)delete i.data[s[o]];s.splice(0,r)}})}function On(t){return t.drawTicks?t.tickLength:0}function id(t,e){if(!t.display)return 0;const i=Ke(t.font,e),s=kt(t.padding);return(He(t.text)?t.text.length:1)*i.lineHeight+s.height}function L0(t,e){return $i(t,{scale:e,type:"scale"})}function M0(t,e,i){return $i(t,{tick:i,index:e,type:"tick"})}function E0(t,e,i){let s=$a(t);return(i&&e!=="right"||!i&&e==="right")&&(s=C0(s)),s}function A0(t,e,i,s){const{top:r,left:o,bottom:l,right:h,chart:u}=t,{chartArea:f,scales:m}=u;let x=0,_,v,w;const b=l-r,k=h-o;if(t.isHorizontal()){if(v=Ye(s,o,h),_e(i)){const C=Object.keys(i)[0],T=i[C];w=m[C].getPixelForValue(T)+b-e}else i==="center"?w=(f.bottom+f.top)/2+b-e:w=Qc(t,i,e);_=h-o}else{if(_e(i)){const C=Object.keys(i)[0],T=i[C];v=m[C].getPixelForValue(T)-k+e}else i==="center"?v=(f.left+f.right)/2-k+e:v=Qc(t,i,e);w=Ye(s,l,r),x=i==="left"?-Tt:Tt}return{titleX:v,titleY:w,maxWidth:_,rotation:x}}class hn extends Wi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:s,_suggestedMax:r}=this;return e=zt(e,Number.POSITIVE_INFINITY),i=zt(i,Number.NEGATIVE_INFINITY),s=zt(s,Number.POSITIVE_INFINITY),r=zt(r,Number.NEGATIVE_INFINITY),{min:zt(e,s),max:zt(i,r),minDefined:wt(e),maxDefined:wt(i)}}getMinMax(e){let{min:i,max:s,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:i,max:s};const h=this.getMatchingVisibleMetas();for(let u=0,f=h.length;u<f;++u)l=h[u].controller.getMinMax(this,e),r||(i=Math.min(i,l.min)),o||(s=Math.max(s,l.max));return i=o&&i>s?s:i,s=r&&i>s?i:s,{min:zt(i,zt(s,i)),max:zt(s,zt(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pe(this.options.beforeUpdate,[this])}update(e,i,s){const{beginAtZero:r,grace:o,ticks:l}=this.options,h=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Jg(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=h<this.ticks.length;this._convertTicksToLabels(u?td(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=b0(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,s;this.isHorizontal()?(i=this.left,s=this.right):(i=this.top,s=this.bottom,e=!e),this._startPixel=i,this._endPixel=s,this._reversePixels=e,this._length=s-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pe(this.options.afterUpdate,[this])}beforeSetDimensions(){Pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Pe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const i=this.options.ticks;let s,r,o;for(s=0,r=e.length;s<r;s++)o=e[s],o.label=Pe(i.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,i=e.ticks,s=ed(this.ticks.length,e.ticks.maxTicksLimit),r=i.minRotation||0,o=i.maxRotation;let l=r,h,u,f;if(!this._isVisible()||!i.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),x=m.widest.width,_=m.highest.height,v=vt(this.chart.width-x,0,this.maxWidth);h=e.offset?this.maxWidth/s:v/(s-1),x+6>h&&(h=v/(s-(e.offset?.5:1)),u=this.maxHeight-On(e.grid)-i.padding-id(e.title,this.chart.options.font),f=Math.sqrt(x*x+_*_),l=vg(Math.min(Math.asin(vt((m.highest.height+6)/h,-1,1)),Math.asin(vt(u/f,-1,1))-Math.asin(vt(_/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:i,options:{ticks:s,title:r,grid:o}}=this,l=this._isVisible(),h=this.isHorizontal();if(l){const u=id(r,i.options.font);if(h?(e.width=this.maxWidth,e.height=On(o)+u):(e.height=this.maxHeight,e.width=On(o)+u),s.display&&this.ticks.length){const{first:f,last:m,widest:x,highest:_}=this._getLabelSizes(),v=s.padding*2,w=Ai(this.labelRotation),b=Math.cos(w),k=Math.sin(w);if(h){const C=s.mirror?0:k*x.width+b*_.height;e.height=Math.min(this.maxHeight,e.height+C+v)}else{const C=s.mirror?0:b*x.width+k*_.height;e.width=Math.min(this.maxWidth,e.width+C+v)}this._calculatePadding(f,m,k,b)}}this._handleMargins(),h?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,s,r){const{ticks:{align:o,padding:l},position:h}=this.options,u=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,v=0;u?f?(_=r*e.width,v=s*i.height):(_=s*e.height,v=r*i.width):o==="start"?v=i.width:o==="end"?_=e.width:o!=="inner"&&(_=e.width/2,v=i.width/2),this.paddingLeft=Math.max((_-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-x+l)*this.width/(this.width-x),0)}else{let m=i.height/2,x=e.height/2;o==="start"?(m=0,x=e.height):o==="end"&&(m=i.height,x=0),this.paddingTop=m+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,s;for(i=0,s=e.length;i<s;i++)Ce(e[i].label)&&(e.splice(i,1),s--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const i=this.options.ticks.sampleSize;let s=this.ticks;i<s.length&&(s=td(s,i)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,i,s){const{ctx:r,_longestTextCache:o}=this,l=[],h=[],u=Math.floor(i/ed(i,s));let f=0,m=0,x,_,v,w,b,k,C,T,M,z,F;for(x=0;x<i;x+=u){if(w=e[x].label,b=this._resolveTickFontOptions(x),r.font=k=b.string,C=o[k]=o[k]||{data:{},gc:[]},T=b.lineHeight,M=z=0,!Ce(w)&&!He(w))M=Ec(r,C.data,C.gc,M,w),z=T;else if(He(w))for(_=0,v=w.length;_<v;++_)F=w[_],!Ce(F)&&!He(F)&&(M=Ec(r,C.data,C.gc,M,F),z+=T);l.push(M),h.push(z),f=Math.max(M,f),m=Math.max(z,m)}T0(o,i);const B=l.indexOf(f),W=h.indexOf(m),H=J=>({width:l[J]||0,height:h[J]||0});return{first:H(0),last:H(i-1),widest:H(B),highest:H(W),widths:l,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const i=this._startPixel+e*this._length;return kg(this._alignToPixels?Si(this.chart,i,0):i)}getDecimalForPixel(e){const i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){const i=this.ticks||[];if(e>=0&&e<i.length){const s=i[e];return s.$context||(s.$context=M0(this.getContext(),e,s))}return this.$context||(this.$context=L0(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,i=Ai(this.labelRotation),s=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,h=o?o.widest.width+l:0,u=o?o.highest.height+l:0;return this.isHorizontal()?u*s>h*r?h/s:u/r:u*r<h*s?u/s:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const i=this.axis,s=this.chart,r=this.options,{grid:o,position:l,border:h}=r,u=o.offset,f=this.isHorizontal(),x=this.ticks.length+(u?1:0),_=On(o),v=[],w=h.setContext(this.getContext()),b=w.display?w.width:0,k=b/2,C=function(me){return Si(s,me,b)};let T,M,z,F,B,W,H,J,ue,Y,te,Ie;if(l==="top")T=C(this.bottom),W=this.bottom-_,J=T-k,Y=C(e.top)+k,Ie=e.bottom;else if(l==="bottom")T=C(this.top),Y=e.top,Ie=C(e.bottom)-k,W=T+k,J=this.top+_;else if(l==="left")T=C(this.right),B=this.right-_,H=T-k,ue=C(e.left)+k,te=e.right;else if(l==="right")T=C(this.left),ue=e.left,te=C(e.right)-k,B=T+k,H=this.left+_;else if(i==="x"){if(l==="center")T=C((e.top+e.bottom)/2+.5);else if(_e(l)){const me=Object.keys(l)[0],Re=l[me];T=C(this.chart.scales[me].getPixelForValue(Re))}Y=e.top,Ie=e.bottom,W=T+k,J=W+_}else if(i==="y"){if(l==="center")T=C((e.left+e.right)/2);else if(_e(l)){const me=Object.keys(l)[0],Re=l[me];T=C(this.chart.scales[me].getPixelForValue(Re))}B=T-k,H=B-_,ue=e.left,te=e.right}const Ee=pe(r.ticks.maxTicksLimit,x),ke=Math.max(1,Math.ceil(x/Ee));for(M=0;M<x;M+=ke){const me=this.getContext(M),Re=o.setContext(me),G=h.setContext(me),We=Re.lineWidth,q=Re.color,V=G.dash||[],xe=G.dashOffset,Ae=Re.tickWidth,ge=Re.tickColor,he=Re.tickBorderDash||[],Q=Re.tickBorderDashOffset;z=P0(this,M,u),z!==void 0&&(F=Si(s,z,We),f?B=H=ue=te=F:W=J=Y=Ie=F,v.push({tx1:B,ty1:W,tx2:H,ty2:J,x1:ue,y1:Y,x2:te,y2:Ie,width:We,color:q,borderDash:V,borderDashOffset:xe,tickWidth:Ae,tickColor:ge,tickBorderDash:he,tickBorderDashOffset:Q}))}return this._ticksLength=x,this._borderValue=T,v}_computeLabelItems(e){const i=this.axis,s=this.options,{position:r,ticks:o}=s,l=this.isHorizontal(),h=this.ticks,{align:u,crossAlign:f,padding:m,mirror:x}=o,_=On(s.grid),v=_+m,w=x?-m:v,b=-Ai(this.labelRotation),k=[];let C,T,M,z,F,B,W,H,J,ue,Y,te,Ie="middle";if(r==="top")B=this.bottom-w,W=this._getXAxisLabelAlignment();else if(r==="bottom")B=this.top+w,W=this._getXAxisLabelAlignment();else if(r==="left"){const ke=this._getYAxisLabelAlignment(_);W=ke.textAlign,F=ke.x}else if(r==="right"){const ke=this._getYAxisLabelAlignment(_);W=ke.textAlign,F=ke.x}else if(i==="x"){if(r==="center")B=(e.top+e.bottom)/2+v;else if(_e(r)){const ke=Object.keys(r)[0],me=r[ke];B=this.chart.scales[ke].getPixelForValue(me)+v}W=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")F=(e.left+e.right)/2-v;else if(_e(r)){const ke=Object.keys(r)[0],me=r[ke];F=this.chart.scales[ke].getPixelForValue(me)}W=this._getYAxisLabelAlignment(_).textAlign}i==="y"&&(u==="start"?Ie="top":u==="end"&&(Ie="bottom"));const Ee=this._getLabelSizes();for(C=0,T=h.length;C<T;++C){M=h[C],z=M.label;const ke=o.setContext(this.getContext(C));H=this.getPixelForTick(C)+o.labelOffset,J=this._resolveTickFontOptions(C),ue=J.lineHeight,Y=He(z)?z.length:1;const me=Y/2,Re=ke.color,G=ke.textStrokeColor,We=ke.textStrokeWidth;let q=W;l?(F=H,W==="inner"&&(C===T-1?q=this.options.reverse?"left":"right":C===0?q=this.options.reverse?"right":"left":q="center"),r==="top"?f==="near"||b!==0?te=-Y*ue+ue/2:f==="center"?te=-Ee.highest.height/2-me*ue+ue:te=-Ee.highest.height+ue/2:f==="near"||b!==0?te=ue/2:f==="center"?te=Ee.highest.height/2-me*ue:te=Ee.highest.height-Y*ue,x&&(te*=-1),b!==0&&!ke.showLabelBackdrop&&(F+=ue/2*Math.sin(b))):(B=H,te=(1-Y)*ue/2);let V;if(ke.showLabelBackdrop){const xe=kt(ke.backdropPadding),Ae=Ee.heights[C],ge=Ee.widths[C];let he=te-xe.top,Q=0-xe.left;switch(Ie){case"middle":he-=Ae/2;break;case"bottom":he-=Ae;break}switch(W){case"center":Q-=ge/2;break;case"right":Q-=ge;break;case"inner":C===T-1?Q-=ge:C>0&&(Q-=ge/2);break}V={left:Q,top:he,width:ge+xe.width,height:Ae+xe.height,color:ke.backdropColor}}k.push({label:z,font:J,textOffset:te,options:{rotation:b,color:Re,strokeColor:G,strokeWidth:We,textAlign:q,textBaseline:Ie,translation:[F,B],backdrop:V}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:i}=this.options;if(-Ai(this.labelRotation))return e==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:i,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),h=e+o,u=l.widest.width;let f,m;return i==="left"?r?(m=this.right+o,s==="near"?f="left":s==="center"?(f="center",m+=u/2):(f="right",m+=u)):(m=this.right-h,s==="near"?f="right":s==="center"?(f="center",m-=u/2):(f="left",m=this.left)):i==="right"?r?(m=this.left+o,s==="near"?f="right":s==="center"?(f="center",m-=u/2):(f="left",m-=u)):(m=this.left+h,s==="near"?f="left":s==="center"?(f="center",m+=u/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:i},left:s,top:r,width:o,height:l}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(s,r,o,l),e.restore())}getLineWidthForValue(e){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const i=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const h=(u,f,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(u.x,u.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(i.display)for(o=0,l=r.length;o<l;++o){const u=r[o];i.drawOnChartArea&&h({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),i.drawTicks&&h({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:i,options:{border:s,grid:r}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const h=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,m,x,_;this.isHorizontal()?(f=Si(e,this.left,l)-l/2,m=Si(e,this.right,h)+h/2,x=_=u):(x=Si(e,this.top,l)-l/2,_=Si(e,this.bottom,h)+h/2,f=m=u),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(f,x),i.lineTo(m,_),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Ua(s,r);const o=this.getLabelItems(e);for(const l of o){const h=l.options,u=l.font,f=l.label,m=l.textOffset;as(s,f,0,m,u,h)}r&&Va(s)}drawTitle(){const{ctx:e,options:{position:i,title:s,reverse:r}}=this;if(!s.display)return;const o=Ke(s.font),l=kt(s.padding),h=s.align;let u=o.lineHeight/2;i==="bottom"||i==="center"||_e(i)?(u+=l.bottom,He(s.text)&&(u+=o.lineHeight*(s.text.length-1))):u+=l.top;const{titleX:f,titleY:m,maxWidth:x,rotation:_}=A0(this,u,i,h);as(e,s.text,0,0,o,{color:s.color,maxWidth:x,rotation:_,textAlign:E0(h,i,r),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,i=e.ticks&&e.ticks.z||0,s=pe(e.grid&&e.grid.z,-1),r=pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==hn.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,l;for(o=0,l=i.length;o<l;++o){const h=i[o];h[s]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const i=this.options.ticks.setContext(this.getContext(e));return Ke(i.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ks{constructor(e,i,s){this.type=e,this.scope=i,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const i=Object.getPrototypeOf(e);let s;R0(i)&&(s=this.register(i));const r=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,F0(e,l,s),this.override&&Oe.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const i=this.items,s=e.id,r=this.scope;s in i&&delete i[s],r&&s in Oe[r]&&(delete Oe[r][s],this.override&&delete Bi[s])}}function F0(t,e,i){const s=ss(Object.create(null),[i?Oe.get(i):{},Oe.get(e),t.defaults]);Oe.set(e,s),t.defaultRoutes&&O0(e,t.defaultRoutes),t.descriptors&&Oe.describe(e,t.descriptors)}function O0(t,e){Object.keys(e).forEach(i=>{const s=i.split("."),r=s.pop(),o=[t].concat(s).join("."),l=e[i].split("."),h=l.pop(),u=l.join(".");Oe.route(o,r,u,h)})}function R0(t){return"id"in t&&"defaults"in t}class z0{constructor(){this.controllers=new Ks(es,"datasets",!0),this.elements=new Ks(Wi,"elements"),this.plugins=new Ks(Object,"plugins"),this.scales=new Ks(hn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,s){[...i].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):we(r,l=>{const h=s||this._getRegistryForType(l);this._exec(e,h,l)})})}_exec(e,i,s){const r=Ba(e);Pe(s["before"+r],[],s),i[e](s),Pe(s["after"+r],[],s)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){const s=this._typedRegistries[i];if(s.isForType(e))return s}return this.plugins}_get(e,i,s){const r=i.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Vt=new z0;class D0{constructor(){this._init=[]}notify(e,i,s,r){i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(o,e,i,s);return i==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,i,s,r){r=r||{};for(const o of e){const l=o.plugin,h=l[s],u=[i,r,o.options];if(Pe(h,u,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){const s=e&&e.config,r=pe(s.options&&s.options.plugins,{}),o=I0(s);return r===!1&&!i?[]:H0(e,o,r,i)}_notifyStateChanges(e){const i=this._oldCache||[],s=this._cache,r=(o,l)=>o.filter(h=>!l.some(u=>h.plugin.id===u.plugin.id));this._notify(r(i,s),e,"stop"),this._notify(r(s,i),e,"start")}}function I0(t){const e={},i=[],s=Object.keys(Vt.plugins.items);for(let o=0;o<s.length;o++)i.push(Vt.getPlugin(s[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];i.indexOf(l)===-1&&(i.push(l),e[l.id]=!0)}return{plugins:i,localIds:e}}function B0(t,e){return!e&&t===!1?null:t===!0?{}:t}function H0(t,{plugins:e,localIds:i},s,r){const o=[],l=t.getContext();for(const h of e){const u=h.id,f=B0(s[u],r);f!==null&&o.push({plugin:h,options:$0(t.config,{plugin:h,local:i[u]},f,l)})}return o}function $0(t,{plugin:e,local:i},s,r){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(s,o);return i&&e.defaults&&l.push(e.defaults),t.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ma(t,e){const i=Oe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function W0(t,e){let i=t;return t==="_index_"?i=e:t==="_value_"&&(i=e==="x"?"y":"x"),i}function U0(t,e){return t===e?"_index_":"_value_"}function nd(t){if(t==="x"||t==="y"||t==="r")return t}function V0(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ga(t,...e){if(nd(t))return t;for(const i of e){const s=i.axis||V0(i.position)||t.length>1&&nd(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function sd(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function Z0(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(i.length)return sd(t,"x",i[0])||sd(t,"y",i[0])}return{}}function q0(t,e){const i=Bi[t.type]||{scales:{}},s=e.scales||{},r=ma(t.type,e),o=Object.create(null);return Object.keys(s).forEach(l=>{const h=s[l];if(!_e(h))return console.error(`Invalid scale configuration for scale: ${l}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=ga(l,h,Z0(l,t),Oe.scales[h.type]),f=U0(u,r),m=i.scales||{};o[l]=Gn(Object.create(null),[{axis:u},h,m[u],m[f]])}),t.data.datasets.forEach(l=>{const h=l.type||t.type,u=l.indexAxis||ma(h,e),m=(Bi[h]||{}).scales||{};Object.keys(m).forEach(x=>{const _=W0(x,u),v=l[_+"AxisID"]||_;o[v]=o[v]||Object.create(null),Gn(o[v],[{axis:_},s[v],m[x]])})}),Object.keys(o).forEach(l=>{const h=o[l];Gn(h,[Oe.scales[h.type],Oe.scale])}),o}function xu(t){const e=t.options||(t.options={});e.plugins=pe(e.plugins,{}),e.scales=q0(t,e)}function yu(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Y0(t){return t=t||{},t.data=yu(t.data),xu(t),t}const rd=new Map,_u=new Set;function Xs(t,e){let i=rd.get(t);return i||(i=e(),rd.set(t,i),_u.add(i)),i}const Rn=(t,e,i)=>{const s=Nr(e,i);s!==void 0&&t.add(s)};class G0{constructor(e){this._config=Y0(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=yu(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xs(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return Xs(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return Xs(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){const i=e.id,s=this.type;return Xs(`${s}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){const s=this._scopeCache;let r=s.get(e);return(!r||i)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,i,s){const{options:r,type:o}=this,l=this._cachedScopes(e,s),h=l.get(i);if(h)return h;const u=new Set;i.forEach(m=>{e&&(u.add(e),m.forEach(x=>Rn(u,e,x))),m.forEach(x=>Rn(u,r,x)),m.forEach(x=>Rn(u,Bi[o]||{},x)),m.forEach(x=>Rn(u,Oe,x)),m.forEach(x=>Rn(u,ua,x))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),_u.has(i)&&l.set(i,f),f}chartOptionScopes(){const{options:e,type:i}=this;return[e,Bi[i]||{},Oe.datasets[i]||{},{type:i},Oe,ua]}resolveNamedOptions(e,i,s,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:h}=od(this._resolverCache,e,r);let u=l;if(X0(l,i)){o.$shared=!1,s=yi(s)?s():s;const f=this.createResolver(e,s,h);u=cn(l,s,f)}for(const f of i)o[f]=u[f];return o}createResolver(e,i,s=[""],r){const{resolver:o}=od(this._resolverCache,e,s);return _e(i)?cn(o,i,void 0,r):o}}function od(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=i.join();let o=s.get(r);return o||(o={resolver:Za(e,i),subPrefixes:i.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,o)),o}const K0=t=>_e(t)&&Object.getOwnPropertyNames(t).some(e=>yi(t[e]));function X0(t,e){const{isScriptable:i,isIndexable:s}=iu(t);for(const r of e){const o=i(r),l=s(r),h=(l||o)&&t[r];if(o&&(yi(h)||K0(h))||l&&He(h))return!0}return!1}var J0="4.4.8";const Q0=["top","bottom","left","right","chartArea"];function ad(t,e){return t==="top"||t==="bottom"||Q0.indexOf(t)===-1&&e==="x"}function ld(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function cd(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Pe(i&&i.onComplete,[t],e)}function ey(t){const e=t.chart,i=e.options.animation;Pe(i&&i.onProgress,[t],e)}function vu(t){return Ga()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const lr={},dd=t=>{const e=vu(t);return Object.values(lr).filter(i=>i.canvas===e).pop()};function ty(t,e,i){const s=Object.keys(t);for(const r of s){const o=+r;if(o>=e){const l=t[r];delete t[r],(i>0||o>e)&&(t[o+i]=l)}}}function iy(t,e,i,s){return!i||t.type==="mouseout"?null:s?e:t}function Js(t,e,i){return t.options.clip?t[i]:e[i]}function ny(t,e){const{xScale:i,yScale:s}=t;return i&&s?{left:Js(i,e,"left"),right:Js(i,e,"right"),top:Js(s,e,"top"),bottom:Js(s,e,"bottom")}:e}var di;let Vr=(di=class{static register(...e){Vt.add(...e),hd()}static unregister(...e){Vt.remove(...e),hd()}constructor(e,i){const s=this.config=new G0(i),r=vu(e),o=dd(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||v0(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,l.aspectRatio),u=h&&h.canvas,f=u&&u.height,m=u&&u.width;if(this.id=ag(),this.ctx=h,this.canvas=u,this.width=m,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new D0,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pg(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],lr[this.id]=this,!h||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ii.listen(this,"complete",cd),ii.listen(this,"progress",ey),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:s,height:r,_aspectRatio:o}=this;return Ce(e)?i&&o?o:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Vt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ac(this.canvas,this.ctx),this}stop(){return ii.stop(this),this}resize(e,i){ii.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,i,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Rc(this,h,!0)&&(this.notifyPlugins("resize",{size:l}),Pe(s.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};we(i,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,i=e.scales,s=this.scales,r=Object.keys(s).reduce((l,h)=>(l[h]=!1,l),{});let o=[];i&&(o=o.concat(Object.keys(i).map(l=>{const h=i[l],u=ga(l,h),f=u==="r",m=u==="x";return{options:h,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),we(o,l=>{const h=l.options,u=h.id,f=ga(u,h),m=pe(h.type,l.dtype);(h.position===void 0||ad(h.position,f)!==ad(l.dposition))&&(h.position=l.dposition),r[u]=!0;let x=null;if(u in s&&s[u].type===m)x=s[u];else{const _=Vt.getScale(m);x=new _({id:u,type:m,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(h,e)}),we(r,(l,h)=>{l||delete s[h]}),we(s,l=>{bt.configure(this,l,l.options),bt.addBox(this,l)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,s=e.length;if(e.sort((r,o)=>r.index-o.index),s>i){for(let r=i;r<s;++r)this._destroyDatasetMeta(r);e.splice(i,s-i)}this._sortedMetasets=e.slice(0).sort(ld("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((s,r)=>{i.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=i.length;s<r;s++){const o=i[s];let l=this.getDatasetMeta(s);const h=o.type||this.config.type;if(l.type&&l.type!==h&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=h,l.indexAxis=o.indexAxis||ma(h,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const u=Vt.getController(h),{datasetElementType:f,dataElementType:m}=Oe.datasets[h];Object.assign(u,{dataElementType:Vt.getElement(m),datasetElementType:f&&Vt.getElement(f)}),l.controller=new u(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){we(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const s=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:x}=this.getDatasetMeta(f),_=!r&&o.indexOf(x)===-1;x.buildOrUpdateElements(_),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),r||we(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ld("z","_idx"));const{_active:h,_lastEvent:u}=this;u?this._eventHandler(u,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){we(this.scales,e=>{bt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!kc(i,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of i){const l=s==="_removeElements"?-o:o;ty(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,s=o=>new Set(e.filter(l=>l[0]===o).map((l,h)=>h+","+l.splice(1).join(","))),r=s(0);for(let o=1;o<i;o++)if(!kc(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bt.update(this,this.width,this.height,e);const i=this.chartArea,s=i.width<=0||i.height<=0;this._layers=[],we(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,s=this.data.datasets.length;i<s;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,s=this.data.datasets.length;i<s;++i)this._updateDataset(i,yi(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ii.has(this)?this.attached&&!ii.running(this)&&ii.start(this):(this.draw(),cd({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,s=[];let r,o;for(r=0,o=i.length;r<o;++r){const l=i[r];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,s=e._clip,r=!s.disabled,o=ny(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&Ua(i,{left:s.left===!1?0:o.left-s.left,right:s.right===!1?this.width:o.right+s.right,top:s.top===!1?0:o.top-s.top,bottom:s.bottom===!1?this.height:o.bottom+s.bottom}),e.controller.draw(),r&&Va(i),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return os(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,s,r){const o=Qx.modes[i];return typeof o=="function"?o(this,e,s,r):[]}getDatasetMeta(e){const i=this.data.datasets[e],s=this._metasets;let r=s.filter(o=>o&&o._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=$i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!i.hidden}setDatasetVisibility(e,i){const s=this.getDatasetMeta(e);s.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,s){const r=s?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,r);Sr(i)?(o.data[i].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(o,{visible:s}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),ii.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ac(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete lr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,s=(o,l)=>{i.addEventListener(this,o,l),e[o]=l},r=(o,l,h)=>{o.offsetX=l,o.offsetY=h,this._eventHandler(o)};we(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,s=(u,f)=>{i.addEventListener(this,u,f),e[u]=f},r=(u,f)=>{e[u]&&(i.removeEventListener(this,u,f),delete e[u])},o=(u,f)=>{this.canvas&&this.resize(u,f)};let l;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",h)},i.isAttached(this.canvas)?h():l()}unbindEvents(){we(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},we(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,s){const r=s?"set":"remove";let o,l,h,u;for(i==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,u=e.length;h<u;++h){l=e[h];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],s=e.map(({datasetIndex:o,index:l})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[l],index:l}});!kr(s,i)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,i))}notifyPlugins(e,i,s){return this._plugins.notify(this,e,i,s)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,s){const r=this.options.hover,o=(u,f)=>u.filter(m=>!f.some(x=>m.datasetIndex===x.datasetIndex&&m.index===x.index)),l=o(i,e),h=s?e:o(e,i);l.length&&this.updateHoverStyle(l,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,i){const s={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const o=this._handleEvent(e,i,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(e,i,s){const{_active:r=[],options:o}=this,l=i,h=this._getActiveElements(e,r,s,l),u=fg(e),f=iy(e,this._lastEvent,s,u);s&&(this._lastEvent=null,Pe(o.onHover,[e,h,this],this),u&&Pe(o.onClick,[e,h,this],this));const m=!kr(h,r);return(m||i)&&(this._active=h,this._updateHoverStyles(h,r,i)),this._lastEvent=f,m}_getActiveElements(e,i,s,r){if(e.type==="mouseout")return[];if(!s)return i;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},oe(di,"defaults",Oe),oe(di,"instances",lr),oe(di,"overrides",Bi),oe(di,"registry",Vt),oe(di,"version",J0),oe(di,"getChart",dd),di);function hd(){return we(Vr.instances,t=>t._plugins.invalidate())}function bu(t,e,i=e){t.lineCap=pe(i.borderCapStyle,e.borderCapStyle),t.setLineDash(pe(i.borderDash,e.borderDash)),t.lineDashOffset=pe(i.borderDashOffset,e.borderDashOffset),t.lineJoin=pe(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=pe(i.borderWidth,e.borderWidth),t.strokeStyle=pe(i.borderColor,e.borderColor)}function sy(t,e,i){t.lineTo(i.x,i.y)}function ry(t){return t.stepped?$g:t.tension||t.cubicInterpolationMode==="monotone"?Wg:sy}function wu(t,e,i={}){const s=t.length,{start:r=0,end:o=s-1}=i,{start:l,end:h}=e,u=Math.max(r,l),f=Math.min(o,h),m=r<l&&o<l||r>h&&o>h;return{count:s,start:u,loop:e.loop,ilen:f<u&&!m?s+f-u:f-u}}function oy(t,e,i,s){const{points:r,options:o}=e,{count:l,start:h,loop:u,ilen:f}=wu(r,i,s),m=ry(o);let{move:x=!0,reverse:_}=s||{},v,w,b;for(v=0;v<=f;++v)w=r[(h+(_?f-v:v))%l],!w.skip&&(x?(t.moveTo(w.x,w.y),x=!1):m(t,b,w,_,o.stepped),b=w);return u&&(w=r[(h+(_?f:0))%l],m(t,b,w,_,o.stepped)),!!u}function ay(t,e,i,s){const r=e.points,{count:o,start:l,ilen:h}=wu(r,i,s),{move:u=!0,reverse:f}=s||{};let m=0,x=0,_,v,w,b,k,C;const T=z=>(l+(f?h-z:z))%o,M=()=>{b!==k&&(t.lineTo(m,k),t.lineTo(m,b),t.lineTo(m,C))};for(u&&(v=r[T(0)],t.moveTo(v.x,v.y)),_=0;_<=h;++_){if(v=r[T(_)],v.skip)continue;const z=v.x,F=v.y,B=z|0;B===w?(F<b?b=F:F>k&&(k=F),m=(x*m+z)/++x):(M(),t.lineTo(z,F),w=B,x=0,b=k=F),C=F}M()}function xa(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!i?ay:oy}function ly(t){return t.stepped?wx:t.tension||t.cubicInterpolationMode==="monotone"?kx:Ti}function cy(t,e,i,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,s)&&r.closePath()),bu(t,e.options),t.stroke(r)}function dy(t,e,i,s){const{segments:r,options:o}=e,l=xa(e);for(const h of r)bu(t,o,h.style),t.beginPath(),l(t,e,h,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}const hy=typeof Path2D=="function";function uy(t,e,i,s){hy&&!e.options.segment?cy(t,e,i,s):dy(t,e,i,s)}class $n extends Wi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;px(this._points,s,e,r,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Mx(this,this.options.segment))}first(){const e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){const e=this.segments,i=this.points,s=e.length;return s&&i[e[s-1].end]}interpolate(e,i){const s=this.options,r=e[i],o=this.points,l=Px(this,{property:i,start:r,end:r});if(!l.length)return;const h=[],u=ly(s);let f,m;for(f=0,m=l.length;f<m;++f){const{start:x,end:_}=l[f],v=o[x],w=o[_];if(v===w){h.push(v);continue}const b=Math.abs((r-v[i])/(w[i]-v[i])),k=u(v,w,b,s.stepped);k[i]=e[i],h.push(k)}return h.length===1?h[0]:h}pathSegment(e,i,s){return xa(this)(e,this,i,s)}path(e,i,s){const r=this.segments,o=xa(this);let l=this._loop;i=i||0,s=s||this.points.length-i;for(const h of r)l&=o(e,this,h,{start:i,end:i+s-1});return!!l}draw(e,i,s,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),uy(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}oe($n,"id","line"),oe($n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),oe($n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),oe($n,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ud(t,e,i,s){const r=t.options,{[i]:o}=t.getProps([i],s);return Math.abs(e-o)<r.radius+r.hitRadius}class cr extends Wi{constructor(i){super();oe(this,"parsed");oe(this,"skip");oe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,s,r){const o=this.options,{x:l,y:h}=this.getProps(["x","y"],r);return Math.pow(i-l,2)+Math.pow(s-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(i,s){return ud(this,i,"x",s)}inYRange(i,s){return ud(this,i,"y",s)}getCenterPoint(i){const{x:s,y:r}=this.getProps(["x","y"],i);return{x:s,y:r}}size(i){i=i||this.options||{};let s=i.radius||0;s=Math.max(s,s&&i.hoverRadius||0);const r=s&&i.borderWidth||0;return(s+r)*2}draw(i,s){const r=this.options;this.skip||r.radius<.1||!os(this,s,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,fa(i,r,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}oe(cr,"id","point"),oe(cr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),oe(cr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const fd=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}},fy=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pd extends Wi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,s){this.maxWidth=e,this.maxHeight=i,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let i=Pe(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(s=>e.filter(s,this.chart.data))),e.sort&&(i=i.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Ke(s.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:h,itemHeight:u}=fd(s,o);let f,m;i.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(l,o,h,u)+10):(m=this.maxHeight,f=this._fitCols(l,r,h,u)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,i,s,r){const{ctx:o,maxWidth:l,options:{labels:{padding:h}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+h;let x=e;o.textAlign="left",o.textBaseline="middle";let _=-1,v=-m;return this.legendItems.forEach((w,b)=>{const k=s+i/2+o.measureText(w.text).width;(b===0||f[f.length-1]+k+2*h>l)&&(x+=m,f[f.length-(b>0?0:1)]=0,v+=m,_++),u[b]={left:0,top:v,row:_,width:k,height:r},f[f.length-1]+=k+h}),x}_fitCols(e,i,s,r){const{ctx:o,maxHeight:l,options:{labels:{padding:h}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],m=l-e;let x=h,_=0,v=0,w=0,b=0;return this.legendItems.forEach((k,C)=>{const{itemWidth:T,itemHeight:M}=py(s,i,o,k,r);C>0&&v+M+2*h>m&&(x+=_+h,f.push({width:_,height:v}),w+=_+h,b++,_=v=0),u[C]={left:w,top:v,col:b,width:T,height:M},_=Math.max(_,T),v+=M+h}),x+=_,f.push({width:_,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:s,labels:{padding:r},rtl:o}}=this,l=an(o,this.left,this.width);if(this.isHorizontal()){let h=0,u=Ye(s,this.left+r,this.right-this.lineWidths[h]);for(const f of i)h!==f.row&&(h=f.row,u=Ye(s,this.left+r,this.right-this.lineWidths[h])),f.top+=this.top+e+r,f.left=l.leftForLtr(l.x(u),f.width),u+=f.width+r}else{let h=0,u=Ye(s,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const f of i)f.col!==h&&(h=f.col,u=Ye(s,this.top+e+r,this.bottom-this.columnSizes[h].height)),f.top=u,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ua(e,this),this._draw(),Va(e)}}_draw(){const{options:e,columnSizes:i,lineWidths:s,ctx:r}=this,{align:o,labels:l}=e,h=Oe.color,u=an(e.rtl,this.left,this.width),f=Ke(l.font),{padding:m}=l,x=f.size,_=x/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:w,boxHeight:b,itemHeight:k}=fd(l,x),C=function(B,W,H){if(isNaN(w)||w<=0||isNaN(b)||b<0)return;r.save();const J=pe(H.lineWidth,1);if(r.fillStyle=pe(H.fillStyle,h),r.lineCap=pe(H.lineCap,"butt"),r.lineDashOffset=pe(H.lineDashOffset,0),r.lineJoin=pe(H.lineJoin,"miter"),r.lineWidth=J,r.strokeStyle=pe(H.strokeStyle,h),r.setLineDash(pe(H.lineDash,[])),l.usePointStyle){const ue={radius:b*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:J},Y=u.xPlus(B,w/2),te=W+_;eu(r,ue,Y,te,l.pointStyleWidth&&w)}else{const ue=W+Math.max((x-b)/2,0),Y=u.leftForLtr(B,w),te=Qn(H.borderRadius);r.beginPath(),Object.values(te).some(Ie=>Ie!==0)?pa(r,{x:Y,y:ue,w,h:b,radius:te}):r.rect(Y,ue,w,b),r.fill(),J!==0&&r.stroke()}r.restore()},T=function(B,W,H){as(r,H.text,B,W+k/2,f,{strikethrough:H.hidden,textAlign:u.textAlign(H.textAlign)})},M=this.isHorizontal(),z=this._computeTitleHeight();M?v={x:Ye(o,this.left+m,this.right-s[0]),y:this.top+m+z,line:0}:v={x:this.left+m,y:Ye(o,this.top+z+m,this.bottom-i[0].height),line:0},au(this.ctx,e.textDirection);const F=k+m;this.legendItems.forEach((B,W)=>{r.strokeStyle=B.fontColor,r.fillStyle=B.fontColor;const H=r.measureText(B.text).width,J=u.textAlign(B.textAlign||(B.textAlign=l.textAlign)),ue=w+_+H;let Y=v.x,te=v.y;u.setWidth(this.width),M?W>0&&Y+ue+m>this.right&&(te=v.y+=F,v.line++,Y=v.x=Ye(o,this.left+m,this.right-s[v.line])):W>0&&te+F>this.bottom&&(Y=v.x=Y+i[v.line].width+m,v.line++,te=v.y=Ye(o,this.top+z+m,this.bottom-i[v.line].height));const Ie=u.x(Y);if(C(Ie,te,B),Y=Tg(J,Y+w+_,M?Y+ue:this.right,e.rtl),T(u.x(Y),te,B),M)v.x+=ue+m;else if(typeof B.text!="string"){const Ee=f.lineHeight;v.y+=ku(B,Ee)+m}else v.y+=F}),lu(this.ctx,e.textDirection)}drawTitle(){const e=this.options,i=e.title,s=Ke(i.font),r=kt(i.padding);if(!i.display)return;const o=an(e.rtl,this.left,this.width),l=this.ctx,h=i.position,u=s.size/2,f=r.top+u;let m,x=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),m=this.top+f,x=Ye(e.align,x,this.right-_);else{const w=this.columnSizes.reduce((b,k)=>Math.max(b,k.height),0);m=f+Ye(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=Ye(h,x,x+_);l.textAlign=o.textAlign($a(h)),l.textBaseline="middle",l.strokeStyle=i.color,l.fillStyle=i.color,l.font=s.string,as(l,i.text,v,m,s)}_computeTitleHeight(){const e=this.options.title,i=Ke(e.font),s=kt(e.padding);return e.display?i.lineHeight+s.height:0}_getLegendItemAt(e,i){let s,r,o;if(Bn(e,this.left,this.right)&&Bn(i,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],Bn(e,r.left,r.left+r.width)&&Bn(i,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const i=this.options;if(!xy(e.type,i))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=fy(r,s);r&&!o&&Pe(i.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!o&&Pe(i.onHover,[e,s,this],this)}else s&&Pe(i.onClick,[e,s,this],this)}}function py(t,e,i,s,r){const o=my(s,t,e,i),l=gy(r,s,e.lineHeight);return{itemWidth:o,itemHeight:l}}function my(t,e,i,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),e+i.size/2+s.measureText(r).width}function gy(t,e,i){let s=t;return typeof e.text!="string"&&(s=ku(e,i)),s}function ku(t,e){const i=t.text?t.text.length:0;return e*i}function xy(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var yy={id:"legend",_element:pd,start(t,e,i){const s=t.legend=new pd({ctx:t.ctx,options:i,chart:t});bt.configure(t,s,i),bt.addBox(t,s)},stop(t){bt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;bt.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,r=i.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:r,color:o,useBorderRadius:l,borderRadius:h}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(i?0:void 0),m=kt(f.borderWidth);return{text:e[u.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(h||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ju extends Wi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;const r=He(s.text)?s.text.length:1;this._padding=kt(s.padding);const o=r*Ke(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:i,left:s,bottom:r,right:o,options:l}=this,h=l.align;let u=0,f,m,x;return this.isHorizontal()?(m=Ye(h,s,o),x=i+e,f=o-s):(l.position==="left"?(m=s+e,x=Ye(h,r,i),u=$e*-.5):(m=o-e,x=Ye(h,i,r),u=$e*.5),f=r-i),{titleX:m,titleY:x,maxWidth:f,rotation:u}}draw(){const e=this.ctx,i=this.options;if(!i.display)return;const s=Ke(i.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:h,maxWidth:u,rotation:f}=this._drawArgs(o);as(e,i.text,0,0,s,{color:i.color,maxWidth:u,rotation:f,textAlign:$a(i.align),textBaseline:"middle",translation:[l,h]})}}function _y(t,e){const i=new ju({ctx:t.ctx,options:e,chart:t});bt.configure(t,i,e),bt.addBox(t,i),t.titleBlock=i}var vy={id:"title",_element:ju,start(t,e,i){_y(t,i)},stop(t){const e=t.titleBlock;bt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;bt.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wn={average(t){if(!t.length)return!1;let e,i,s=new Set,r=0,o=0;for(e=0,i=t.length;e<i;++e){const h=t[e].element;if(h&&h.hasValue()){const u=h.tooltipPosition();s.add(u.x),r+=u.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,u)=>h+u)/s.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let i=e.x,s=e.y,r=Number.POSITIVE_INFINITY,o,l,h;for(o=0,l=t.length;o<l;++o){const u=t[o].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),m=ha(e,f);m<r&&(r=m,h=u)}}if(h){const u=h.tooltipPosition();i=u.x,s=u.y}return{x:i,y:s}}};function Ht(t,e){return e&&(He(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ni(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function by(t,e){const{element:i,datasetIndex:s,index:r}=e,o=t.getDatasetMeta(s).controller,{label:l,value:h}=o.getLabelAndValue(r);return{chart:t,label:l,parsed:o.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:i}}function md(t,e){const i=t.chart.ctx,{body:s,footer:r,title:o}=t,{boxWidth:l,boxHeight:h}=e,u=Ke(e.bodyFont),f=Ke(e.titleFont),m=Ke(e.footerFont),x=o.length,_=r.length,v=s.length,w=kt(e.padding);let b=w.height,k=0,C=s.reduce((z,F)=>z+F.before.length+F.lines.length+F.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,x&&(b+=x*f.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),C){const z=e.displayColors?Math.max(h,u.lineHeight):u.lineHeight;b+=v*z+(C-v)*u.lineHeight+(C-1)*e.bodySpacing}_&&(b+=e.footerMarginTop+_*m.lineHeight+(_-1)*e.footerSpacing);let T=0;const M=function(z){k=Math.max(k,i.measureText(z).width+T)};return i.save(),i.font=f.string,we(t.title,M),i.font=u.string,we(t.beforeBody.concat(t.afterBody),M),T=e.displayColors?l+2+e.boxPadding:0,we(s,z=>{we(z.before,M),we(z.lines,M),we(z.after,M)}),T=0,i.font=m.string,we(t.footer,M),i.restore(),k+=w.width,{width:k,height:b}}function wy(t,e){const{y:i,height:s}=e;return i<s/2?"top":i>t.height-s/2?"bottom":"center"}function ky(t,e,i,s){const{x:r,width:o}=s,l=i.caretSize+i.caretPadding;if(t==="left"&&r+o+l>e.width||t==="right"&&r-o-l<0)return!0}function jy(t,e,i,s){const{x:r,width:o}=i,{width:l,chartArea:{left:h,right:u}}=t;let f="center";return s==="center"?f=r<=(h+u)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),ky(f,t,e,i)&&(f="center"),f}function gd(t,e,i){const s=i.yAlign||e.yAlign||wy(t,i);return{xAlign:i.xAlign||e.xAlign||jy(t,e,i,s),yAlign:s}}function Ny(t,e){let{x:i,width:s}=t;return e==="right"?i-=s:e==="center"&&(i-=s/2),i}function Sy(t,e,i){let{y:s,height:r}=t;return e==="top"?s+=i:e==="bottom"?s-=r+i:s-=r/2,s}function xd(t,e,i,s){const{caretSize:r,caretPadding:o,cornerRadius:l}=t,{xAlign:h,yAlign:u}=i,f=r+o,{topLeft:m,topRight:x,bottomLeft:_,bottomRight:v}=Qn(l);let w=Ny(e,h);const b=Sy(e,u,f);return u==="center"?h==="left"?w+=f:h==="right"&&(w-=f):h==="left"?w-=Math.max(m,_)+r:h==="right"&&(w+=Math.max(x,v)+r),{x:vt(w,0,s.width-e.width),y:vt(b,0,s.height-e.height)}}function Qs(t,e,i){const s=kt(i.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function yd(t){return Ht([],ni(t))}function Cy(t,e,i){return $i(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function _d(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Nu={beforeTitle:ei,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return""},afterTitle:ei,beforeBody:ei,beforeLabel:ei,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return Ce(i)||(e+=i),e},labelColor(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:ei,afterBody:ei,beforeFooter:ei,footer:ei,afterFooter:ei};function st(t,e,i,s){const r=t[e].call(i,s);return typeof r>"u"?Nu[e].call(i,s):r}class ya extends Wi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&i.options.animation&&s.animations,o=new du(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Cy(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:s}=i,r=st(s,"beforeTitle",this,e),o=st(s,"title",this,e),l=st(s,"afterTitle",this,e);let h=[];return h=Ht(h,ni(r)),h=Ht(h,ni(o)),h=Ht(h,ni(l)),h}getBeforeBody(e,i){return yd(st(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:s}=i,r=[];return we(e,o=>{const l={before:[],lines:[],after:[]},h=_d(s,o);Ht(l.before,ni(st(h,"beforeLabel",this,o))),Ht(l.lines,st(h,"label",this,o)),Ht(l.after,ni(st(h,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(e,i){return yd(st(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:s}=i,r=st(s,"beforeFooter",this,e),o=st(s,"footer",this,e),l=st(s,"afterFooter",this,e);let h=[];return h=Ht(h,ni(r)),h=Ht(h,ni(o)),h=Ht(h,ni(l)),h}_createItems(e){const i=this._active,s=this.chart.data,r=[],o=[],l=[];let h=[],u,f;for(u=0,f=i.length;u<f;++u)h.push(by(this.chart,i[u]));return e.filter&&(h=h.filter((m,x,_)=>e.filter(m,x,_,s))),e.itemSort&&(h=h.sort((m,x)=>e.itemSort(m,x,s))),we(h,m=>{const x=_d(e.callbacks,m);r.push(st(x,"labelColor",this,m)),o.push(st(x,"labelPointStyle",this,m)),l.push(st(x,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=h,h}update(e,i){const s=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Wn[s.position].call(this,r,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const u=this._size=md(this,s),f=Object.assign({},h,u),m=gd(this.chart,s,f),x=xd(s,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:x.x,y:x.y,width:u.width,height:u.height,caretX:h.x,caretY:h.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,s,r){const o=this.getCaretPosition(e,s,r);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,s){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:h}=s,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:x}=Qn(h),{x:_,y:v}=e,{width:w,height:b}=i;let k,C,T,M,z,F;return o==="center"?(z=v+b/2,r==="left"?(k=_,C=k-l,M=z+l,F=z-l):(k=_+w,C=k+l,M=z-l,F=z+l),T=k):(r==="left"?C=_+Math.max(u,m)+l:r==="right"?C=_+w-Math.max(f,x)-l:C=this.caretX,o==="top"?(M=v,z=M-l,k=C-l,T=C+l):(M=v+b,z=M+l,k=C+l,T=C-l),F=M),{x1:k,x2:C,x3:T,y1:M,y2:z,y3:F}}drawTitle(e,i,s){const r=this.title,o=r.length;let l,h,u;if(o){const f=an(s.rtl,this.x,this.width);for(e.x=Qs(this,s.titleAlign,s),i.textAlign=f.textAlign(s.titleAlign),i.textBaseline="middle",l=Ke(s.titleFont),h=s.titleSpacing,i.fillStyle=s.titleColor,i.font=l.string,u=0;u<o;++u)i.fillText(r[u],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+h,u+1===o&&(e.y+=s.titleMarginBottom-h)}}_drawColorBox(e,i,s,r,o){const l=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:u,boxWidth:f}=o,m=Ke(o.bodyFont),x=Qs(this,"left",o),_=r.x(x),v=u<m.lineHeight?(m.lineHeight-u)/2:0,w=i.y+v;if(o.usePointStyle){const b={radius:Math.min(f,u)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},k=r.leftForLtr(_,f)+f/2,C=w+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,fa(e,b,k,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,fa(e,b,k,C)}else{e.lineWidth=_e(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const b=r.leftForLtr(_,f),k=r.leftForLtr(r.xPlus(_,1),f-2),C=Qn(l.borderRadius);Object.values(C).some(T=>T!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,pa(e,{x:b,y:w,w:f,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),pa(e,{x:k,y:w+1,w:f-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(b,w,f,u),e.strokeRect(b,w,f,u),e.fillStyle=l.backgroundColor,e.fillRect(k,w+1,f-2,u-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,i,s){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:h,boxHeight:u,boxWidth:f,boxPadding:m}=s,x=Ke(s.bodyFont);let _=x.lineHeight,v=0;const w=an(s.rtl,this.x,this.width),b=function(H){i.fillText(H,w.x(e.x+v),e.y+_/2),e.y+=_+o},k=w.textAlign(l);let C,T,M,z,F,B,W;for(i.textAlign=l,i.textBaseline="middle",i.font=x.string,e.x=Qs(this,k,s),i.fillStyle=s.bodyColor,we(this.beforeBody,b),v=h&&k!=="right"?l==="center"?f/2+m:f+2+m:0,z=0,B=r.length;z<B;++z){for(C=r[z],T=this.labelTextColors[z],i.fillStyle=T,we(C.before,b),M=C.lines,h&&M.length&&(this._drawColorBox(i,e,z,w,s),_=Math.max(x.lineHeight,u)),F=0,W=M.length;F<W;++F)b(M[F]),_=x.lineHeight;we(C.after,b)}v=0,_=x.lineHeight,we(this.afterBody,b),e.y-=o}drawFooter(e,i,s){const r=this.footer,o=r.length;let l,h;if(o){const u=an(s.rtl,this.x,this.width);for(e.x=Qs(this,s.footerAlign,s),e.y+=s.footerMarginTop,i.textAlign=u.textAlign(s.footerAlign),i.textBaseline="middle",l=Ke(s.footerFont),i.fillStyle=s.footerColor,i.font=l.string,h=0;h<o;++h)i.fillText(r[h],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,i,s,r){const{xAlign:o,yAlign:l}=this,{x:h,y:u}=e,{width:f,height:m}=s,{topLeft:x,topRight:_,bottomLeft:v,bottomRight:w}=Qn(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(h+x,u),l==="top"&&this.drawCaret(e,i,s,r),i.lineTo(h+f-_,u),i.quadraticCurveTo(h+f,u,h+f,u+_),l==="center"&&o==="right"&&this.drawCaret(e,i,s,r),i.lineTo(h+f,u+m-w),i.quadraticCurveTo(h+f,u+m,h+f-w,u+m),l==="bottom"&&this.drawCaret(e,i,s,r),i.lineTo(h+v,u+m),i.quadraticCurveTo(h,u+m,h,u+m-v),l==="center"&&o==="left"&&this.drawCaret(e,i,s,r),i.lineTo(h,u+x),i.quadraticCurveTo(h,u,h+x,u),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const l=Wn[e.position].call(this,this._active,this._eventPosition);if(!l)return;const h=this._size=md(this,e),u=Object.assign({},l,this._size),f=gd(i,e,u),m=xd(e,u,f,i);(r._to!==m.x||o._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=kt(i.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&h&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,i),au(e,i.textDirection),o.y+=l.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),lu(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const s=this._active,r=e.map(({datasetIndex:h,index:u})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[u],index:u}}),o=!kr(s,r),l=this._positionChanged(r,i);(o||l)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(e,o,i,s),h=this._positionChanged(l,e),u=i||!kr(l,o)||h;return u&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),u}_getActiveElements(e,i,s,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return i.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(e,i){const{caretX:s,caretY:r,options:o}=this,l=Wn[o.position].call(this,e,i);return l!==!1&&(s!==l.x||r!==l.y)}}oe(ya,"positioners",Wn);var Py={id:"tooltip",_element:ya,positioners:Wn,afterInit(t,e,i){i&&(t.tooltip=new ya({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ty=(t,e,i,s)=>(typeof e=="string"?(i=t.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function Ly(t,e,i,s){const r=t.indexOf(e);if(r===-1)return Ty(t,e,i,s);const o=t.lastIndexOf(e);return r!==o?i:r}const My=(t,e)=>t===null?null:vt(Math.round(t),0,e);function vd(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class _a extends hn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const s=this.getLabels();for(const{index:r,label:o}of i)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Ce(e))return null;const s=this.getLabels();return i=isFinite(i)&&s[i]===e?i:Ly(s,e,pe(i,e),this._addedLabels),My(i,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),i||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,i=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=e===0&&i===o.length-1?o:o.slice(e,i+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=i;l++)r.push({value:l});return r}getLabelForValue(e){return vd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}oe(_a,"id","category"),oe(_a,"defaults",{ticks:{callback:vd}});function Ey(t,e){const i=[],{bounds:r,step:o,min:l,max:h,precision:u,count:f,maxTicks:m,maxDigits:x,includeBounds:_}=t,v=o||1,w=m-1,{min:b,max:k}=e,C=!Ce(l),T=!Ce(h),M=!Ce(f),z=(k-b)/(x+1);let F=Nc((k-b)/w/v)*v,B,W,H,J;if(F<1e-14&&!C&&!T)return[{value:b},{value:k}];J=Math.ceil(k/F)-Math.floor(b/F),J>w&&(F=Nc(J*F/w/v)*v),Ce(u)||(B=Math.pow(10,u),F=Math.ceil(F*B)/B),r==="ticks"?(W=Math.floor(b/F)*F,H=Math.ceil(k/F)*F):(W=b,H=k),C&&T&&o&&yg((h-l)/o,F/1e3)?(J=Math.round(Math.min((h-l)/F,m)),F=(h-l)/J,W=l,H=h):M?(W=C?l:W,H=T?h:H,J=f-1,F=(H-W)/J):(J=(H-W)/F,Kn(J,Math.round(J),F/1e3)?J=Math.round(J):J=Math.ceil(J));const ue=Math.max(Sc(F),Sc(W));B=Math.pow(10,Ce(u)?ue:u),W=Math.round(W*B)/B,H=Math.round(H*B)/B;let Y=0;for(C&&(_&&W!==l?(i.push({value:l}),W<l&&Y++,Kn(Math.round((W+Y*F)*B)/B,l,bd(l,z,t))&&Y++):W<l&&Y++);Y<J;++Y){const te=Math.round((W+Y*F)*B)/B;if(T&&te>h)break;i.push({value:te})}return T&&_&&H!==h?i.length&&Kn(i[i.length-1].value,h,bd(h,z,t))?i[i.length-1].value=h:i.push({value:h}):(!T||H===h)&&i.push({value:H}),i}function bd(t,e,{horizontal:i,minRotation:s}){const r=Ai(s),o=(i?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class Ay extends hn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return Ce(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const l=u=>r=i?r:u,h=u=>o=s?o:u;if(e){const u=ln(r),f=ln(o);u<0&&f<0?h(0):u>0&&f>0&&l(0)}if(r===o){let u=o===0?1:Math.abs(o*.05);h(o+u),e||l(r-u)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:i,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,i=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,l=Ey(r,o);return e.bounds==="ticks"&&_g(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let i=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-i)/Math.max(e.length-1,1)/2;i-=r,s+=r}this._startValue=i,this._endValue=s,this._valueRange=s-i}getLabelForValue(e){return Jh(e,this.chart.options.locale,this.options.ticks.format)}}class va extends Ay{determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=wt(e)?e:0,this.max=wt(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),i=e?this.width:this.height,s=Ai(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}oe(va,"id","linear"),oe(va,"defaults",{ticks:{callback:Qh.formatters.numeric}});const Zr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},at=Object.keys(Zr);function wd(t,e){return t-e}function kd(t,e){if(Ce(e))return null;const i=t._adapter,{parser:s,round:r,isoWeekday:o}=t._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),wt(l)||(l=typeof s=="string"?i.parse(l,s):i.parse(l)),l===null?null:(r&&(l=r==="week"&&(rs(o)||o===!0)?i.startOf(l,"isoWeek",o):i.startOf(l,r)),+l)}function jd(t,e,i,s){const r=at.length;for(let o=at.indexOf(t);o<r-1;++o){const l=Zr[at[o]],h=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((i-e)/(h*l.size))<=s)return at[o]}return at[r-1]}function Fy(t,e,i,s,r){for(let o=at.length-1;o>=at.indexOf(i);o--){const l=at[o];if(Zr[l].common&&t._adapter.diff(r,s,l)>=e-1)return l}return at[i?at.indexOf(i):0]}function Oy(t){for(let e=at.indexOf(t)+1,i=at.length;e<i;++e)if(Zr[at[e]].common)return at[e]}function Nd(t,e,i){if(!i)t[e]=!0;else if(i.length){const{lo:s,hi:r}=Ha(i,e),o=i[s]>=e?i[s]:i[r];t[o]=!0}}function Ry(t,e,i,s){const r=t._adapter,o=+r.startOf(e[0].value,s),l=e[e.length-1].value;let h,u;for(h=o;h<=l;h=+r.add(h,1,s))u=i[h],u>=0&&(e[u].major=!0);return e}function Sd(t,e,i){const s=[],r={},o=e.length;let l,h;for(l=0;l<o;++l)h=e[l],r[h]=l,s.push({value:h,major:!1});return o===0||!i?s:Ry(t,s,r,i)}class Lr extends hn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const s=e.time||(e.time={}),r=this._adapter=new Yx._date(e.adapters.date);r.init(i),Gn(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:kd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,s=e.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:h}=this.getUserBounds();function u(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!h&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!h)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=wt(r)&&!isNaN(r)?r:+i.startOf(Date.now(),s),o=wt(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],s=e[e.length-1]),{min:i,max:s}}buildTicks(){const e=this.options,i=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,h=Ng(r,o,l);return this._unit=i.unit||(s.autoSkip?jd(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):Fy(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Oy(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),Sd(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,s=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?i=1-r:i=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;i=vt(i,0,l),s=vt(s,0,l),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const e=this._adapter,i=this.min,s=this.max,r=this.options,o=r.time,l=o.unit||jd(o.minUnit,i,s,this._getLabelCapacity(i)),h=pe(r.ticks.stepSize,1),u=l==="week"?o.isoWeekday:!1,f=rs(u)||u===!0,m={};let x=i,_,v;if(f&&(x=+e.startOf(x,"isoWeek",u)),x=+e.startOf(x,f?"day":l),e.diff(s,i,l)>1e5*h)throw new Error(i+" and "+s+" are too far apart with stepSize of "+h+" "+l);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(_=x,v=0;_<s;_=+e.add(_,h,l),v++)Nd(m,_,w);return(_===s||r.bounds==="ticks"||v===1)&&Nd(m,_,w),Object.keys(m).sort(wd).map(b=>+b)}getLabelForValue(e){const i=this._adapter,s=this.options.time;return s.tooltipFormat?i.format(e,s.tooltipFormat):i.format(e,s.displayFormats.datetime)}format(e,i){const r=this.options.time.displayFormats,o=this._unit,l=i||r[o];return this._adapter.format(e,l)}_tickFormatFunction(e,i,s,r){const o=this.options,l=o.ticks.callback;if(l)return Pe(l,[e,i,s],this);const h=o.time.displayFormats,u=this._unit,f=this._majorUnit,m=u&&h[u],x=f&&h[f],_=s[i],v=f&&x&&_&&_.major;return this._adapter.format(e,r||(v?x:m))}generateTickLabels(e){let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(e){const i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,s=this.ctx.measureText(e).width,r=Ai(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(r),l=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*l,h:s*l+h*o}}_getLabelCapacity(e){const i=this.options.time,s=i.displayFormats,r=s[i.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Sd(this,[e],this._majorUnit),r),l=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],i,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,s=r.length;i<s;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,s;if(e.length)return e;const r=this.getLabels();for(i=0,s=r.length;i<s;++i)e.push(kd(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Cg(e.sort(wd))}}oe(Lr,"id","time"),oe(Lr,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function er(t,e,i){let s=0,r=t.length-1,o,l,h,u;i?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Fi(t,"pos",e)),{pos:o,time:h}=t[s],{pos:l,time:u}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Fi(t,"time",e)),{time:o,pos:h}=t[s],{time:l,pos:u}=t[r]);const f=l-o;return f?h+(u-h)*(e-o)/f:h}class Cd extends Lr{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=er(i,this.min),this._tableRange=er(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:i,max:s}=this,r=[],o=[];let l,h,u,f,m;for(l=0,h=e.length;l<h;++l)f=e[l],f>=i&&f<=s&&r.push(f);if(r.length<2)return[{time:i,pos:0},{time:s,pos:1}];for(l=0,h=r.length;l<h;++l)m=r[l+1],u=r[l-1],f=r[l],Math.round((m+u)/2)!==f&&o.push({time:f,pos:l/(h-1)});return o}_generate(){const e=this.min,i=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(i)||s.length===1)&&s.push(i),s.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const i=this.getDataTimestamps(),s=this.getLabelTimestamps();return i.length&&s.length?e=this.normalize(i.concat(s)):e=i.length?i:s,e=this._cache.all=e,e}getDecimalForValue(e){return(er(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return er(this._table,s*this._tableRange+this._minPos,!0)}}oe(Cd,"id","timeseries"),oe(Cd,"defaults",Lr.defaults);const Su="label";function Pd(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function zy(t,e){const i=t.options;i&&e&&Object.assign(i,e)}function Cu(t,e){t.labels=e}function Pu(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Su;const s=[];t.datasets=e.map(r=>{const o=t.datasets.find(l=>l[i]===r[i]);return!o||!r.data||s.includes(o)?{...r}:(s.push(o),Object.assign(o,r),o)})}function Dy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Su;const i={labels:[],datasets:[]};return Cu(i,t.labels),Pu(i,t.datasets,e),i}function Iy(t,e){const{height:i=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:l,data:h,options:u,plugins:f=[],fallbackContent:m,updateMode:x,..._}=t,v=D.useRef(null),w=D.useRef(null),b=()=>{v.current&&(w.current=new Vr(v.current,{type:l,data:Dy(h,o),options:u&&{...u},plugins:f}),Pd(e,w.current))},k=()=>{Pd(e,null),w.current&&(w.current.destroy(),w.current=null)};return D.useEffect(()=>{!r&&w.current&&u&&zy(w.current,u)},[r,u]),D.useEffect(()=>{!r&&w.current&&Cu(w.current.config.data,h.labels)},[r,h.labels]),D.useEffect(()=>{!r&&w.current&&h.datasets&&Pu(w.current.config.data,h.datasets,o)},[r,h.datasets]),D.useEffect(()=>{w.current&&(r?(k(),setTimeout(b)):w.current.update(x))},[r,u,h.labels,h.datasets,x]),D.useEffect(()=>{w.current&&(k(),setTimeout(b))},[l]),D.useEffect(()=>(b(),()=>k()),[]),Hh.createElement("canvas",{ref:v,role:"img",height:i,width:s,..._},m)}const By=D.forwardRef(Iy);function Hy(t,e){return Vr.register(e),D.forwardRef((i,s)=>Hh.createElement(By,{...i,ref:s,type:t}))}const $y=Hy("line",or);function Tu(t,e){return function(){return t.apply(e,arguments)}}const{toString:Wy}=Object.prototype,{getPrototypeOf:Ja}=Object,qr=(t=>e=>{const i=Wy.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Lt=t=>(t=t.toLowerCase(),e=>qr(e)===t),Yr=t=>e=>typeof e===t,{isArray:un}=Array,cs=Yr("undefined");function Uy(t){return t!==null&&!cs(t)&&t.constructor!==null&&!cs(t.constructor)&&mt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Lu=Lt("ArrayBuffer");function Vy(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Lu(t.buffer),e}const Zy=Yr("string"),mt=Yr("function"),Mu=Yr("number"),Gr=t=>t!==null&&typeof t=="object",qy=t=>t===!0||t===!1,dr=t=>{if(qr(t)!=="object")return!1;const e=Ja(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yy=Lt("Date"),Gy=Lt("File"),Ky=Lt("Blob"),Xy=Lt("FileList"),Jy=t=>Gr(t)&&mt(t.pipe),Qy=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mt(t.append)&&((e=qr(t))==="formdata"||e==="object"&&mt(t.toString)&&t.toString()==="[object FormData]"))},e_=Lt("URLSearchParams"),[t_,i_,n_,s_]=["ReadableStream","Request","Response","Headers"].map(Lt),r_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ms(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),un(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const o=i?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let h;for(s=0;s<l;s++)h=o[s],e.call(null,t[h],h,t)}}function Eu(t,e){e=e.toLowerCase();const i=Object.keys(t);let s=i.length,r;for(;s-- >0;)if(r=i[s],e===r.toLowerCase())return r;return null}const Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Au=t=>!cs(t)&&t!==Oi;function ba(){const{caseless:t}=Au(this)&&this||{},e={},i=(s,r)=>{const o=t&&Eu(e,r)||r;dr(e[o])&&dr(s)?e[o]=ba(e[o],s):dr(s)?e[o]=ba({},s):un(s)?e[o]=s.slice():e[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ms(arguments[s],i);return e}const o_=(t,e,i,{allOwnKeys:s}={})=>(ms(e,(r,o)=>{i&&mt(r)?t[o]=Tu(r,i):t[o]=r},{allOwnKeys:s}),t),a_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l_=(t,e,i,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},c_=(t,e,i,s)=>{let r,o,l;const h={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)l=r[o],(!s||s(l,t,e))&&!h[l]&&(e[l]=t[l],h[l]=!0);t=i!==!1&&Ja(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},d_=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const s=t.indexOf(e,i);return s!==-1&&s===i},h_=t=>{if(!t)return null;if(un(t))return t;let e=t.length;if(!Mu(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},u_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ja(Uint8Array)),f_=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},p_=(t,e)=>{let i;const s=[];for(;(i=t.exec(e))!==null;)s.push(i);return s},m_=Lt("HTMLFormElement"),g_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,r){return s.toUpperCase()+r}),Td=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),x_=Lt("RegExp"),Fu=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),s={};ms(i,(r,o)=>{let l;(l=e(r,o,t))!==!1&&(s[o]=l||r)}),Object.defineProperties(t,s)},y_=t=>{Fu(t,(e,i)=>{if(mt(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=t[i];if(mt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},__=(t,e)=>{const i={},s=r=>{r.forEach(o=>{i[o]=!0})};return un(t)?s(t):s(String(t).split(e)),i},v_=()=>{},b_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function w_(t){return!!(t&&mt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const k_=t=>{const e=new Array(10),i=(s,r)=>{if(Gr(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const o=un(s)?[]:{};return ms(s,(l,h)=>{const u=i(l,r+1);!cs(u)&&(o[h]=u)}),e[r]=void 0,o}}return s};return i(t,0)},j_=Lt("AsyncFunction"),N_=t=>t&&(Gr(t)||mt(t))&&mt(t.then)&&mt(t.catch),Ou=((t,e)=>t?setImmediate:e?((i,s)=>(Oi.addEventListener("message",({source:r,data:o})=>{r===Oi&&o===i&&s.length&&s.shift()()},!1),r=>{s.push(r),Oi.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",mt(Oi.postMessage)),S_=typeof queueMicrotask<"u"?queueMicrotask.bind(Oi):typeof process<"u"&&process.nextTick||Ou,E={isArray:un,isArrayBuffer:Lu,isBuffer:Uy,isFormData:Qy,isArrayBufferView:Vy,isString:Zy,isNumber:Mu,isBoolean:qy,isObject:Gr,isPlainObject:dr,isReadableStream:t_,isRequest:i_,isResponse:n_,isHeaders:s_,isUndefined:cs,isDate:Yy,isFile:Gy,isBlob:Ky,isRegExp:x_,isFunction:mt,isStream:Jy,isURLSearchParams:e_,isTypedArray:u_,isFileList:Xy,forEach:ms,merge:ba,extend:o_,trim:r_,stripBOM:a_,inherits:l_,toFlatObject:c_,kindOf:qr,kindOfTest:Lt,endsWith:d_,toArray:h_,forEachEntry:f_,matchAll:p_,isHTMLForm:m_,hasOwnProperty:Td,hasOwnProp:Td,reduceDescriptors:Fu,freezeMethods:y_,toObjectSet:__,toCamelCase:g_,noop:v_,toFiniteNumber:b_,findKey:Eu,global:Oi,isContextDefined:Au,isSpecCompliantForm:w_,toJSONObject:k_,isAsyncFn:j_,isThenable:N_,setImmediate:Ou,asap:S_};function ne(t,e,i,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}E.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Ru=ne.prototype,zu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zu[t]={value:t}});Object.defineProperties(ne,zu);Object.defineProperty(Ru,"isAxiosError",{value:!0});ne.from=(t,e,i,s,r,o)=>{const l=Object.create(Ru);return E.toFlatObject(t,l,function(u){return u!==Error.prototype},h=>h!=="isAxiosError"),ne.call(l,t.message,e,i,s,r),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const C_=null;function wa(t){return E.isPlainObject(t)||E.isArray(t)}function Du(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function Ld(t,e,i){return t?t.concat(e).map(function(r,o){return r=Du(r),!i&&o?"["+r+"]":r}).join(i?".":""):e}function P_(t){return E.isArray(t)&&!t.some(wa)}const T_=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function Kr(t,e,i){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=E.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!E.isUndefined(k[b])});const s=i.metaTokens,r=i.visitor||m,o=i.dots,l=i.indexes,u=(i.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(E.isDate(w))return w.toISOString();if(!u&&E.isBlob(w))throw new ne("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(w)||E.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,b,k){let C=w;if(w&&!k&&typeof w=="object"){if(E.endsWith(b,"{}"))b=s?b:b.slice(0,-2),w=JSON.stringify(w);else if(E.isArray(w)&&P_(w)||(E.isFileList(w)||E.endsWith(b,"[]"))&&(C=E.toArray(w)))return b=Du(b),C.forEach(function(M,z){!(E.isUndefined(M)||M===null)&&e.append(l===!0?Ld([b],z,o):l===null?b:b+"[]",f(M))}),!1}return wa(w)?!0:(e.append(Ld(k,b,o),f(w)),!1)}const x=[],_=Object.assign(T_,{defaultVisitor:m,convertValue:f,isVisitable:wa});function v(w,b){if(!E.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(w),E.forEach(w,function(C,T){(!(E.isUndefined(C)||C===null)&&r.call(e,C,E.isString(T)?T.trim():T,b,_))===!0&&v(C,b?b.concat(T):[T])}),x.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Md(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Qa(t,e){this._pairs=[],t&&Kr(t,this,e)}const Iu=Qa.prototype;Iu.append=function(e,i){this._pairs.push([e,i])};Iu.toString=function(e){const i=e?function(s){return e.call(this,s,Md)}:Md;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function L_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bu(t,e,i){if(!e)return t;const s=i&&i.encode||L_;E.isFunction(i)&&(i={serialize:i});const r=i&&i.serialize;let o;if(r?o=r(e,i):o=E.isURLSearchParams(e)?e.toString():new Qa(e,i).toString(s),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ed{constructor(){this.handlers=[]}use(e,i,s){return this.handlers.push({fulfilled:e,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Hu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M_=typeof URLSearchParams<"u"?URLSearchParams:Qa,E_=typeof FormData<"u"?FormData:null,A_=typeof Blob<"u"?Blob:null,F_={isBrowser:!0,classes:{URLSearchParams:M_,FormData:E_,Blob:A_},protocols:["http","https","file","blob","url","data"]},el=typeof window<"u"&&typeof document<"u",ka=typeof navigator=="object"&&navigator||void 0,O_=el&&(!ka||["ReactNative","NativeScript","NS"].indexOf(ka.product)<0),R_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",z_=el&&window.location.href||"http://localhost",D_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:el,hasStandardBrowserEnv:O_,hasStandardBrowserWebWorkerEnv:R_,navigator:ka,origin:z_},Symbol.toStringTag,{value:"Module"})),Ge={...D_,...F_};function I_(t,e){return Kr(t,new Ge.classes.URLSearchParams,Object.assign({visitor:function(i,s,r,o){return Ge.isNode&&E.isBuffer(i)?(this.append(s,i.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function B_(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function H_(t){const e={},i=Object.keys(t);let s;const r=i.length;let o;for(s=0;s<r;s++)o=i[s],e[o]=t[o];return e}function $u(t){function e(i,s,r,o){let l=i[o++];if(l==="__proto__")return!0;const h=Number.isFinite(+l),u=o>=i.length;return l=!l&&E.isArray(r)?r.length:l,u?(E.hasOwnProp(r,l)?r[l]=[r[l],s]:r[l]=s,!h):((!r[l]||!E.isObject(r[l]))&&(r[l]=[]),e(i,s,r[l],o)&&E.isArray(r[l])&&(r[l]=H_(r[l])),!h)}if(E.isFormData(t)&&E.isFunction(t.entries)){const i={};return E.forEachEntry(t,(s,r)=>{e(B_(s),r,i,0)}),i}return null}function $_(t,e,i){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(t)}const gs={transitional:Hu,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const s=i.getContentType()||"",r=s.indexOf("application/json")>-1,o=E.isObject(e);if(o&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return r?JSON.stringify($u(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e)||E.isReadableStream(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return I_(e,this.formSerializer).toString();if((h=E.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Kr(h?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||r?(i.setContentType("application/json",!1),$_(e)):e}],transformResponse:[function(e){const i=this.transitional||gs.transitional,s=i&&i.forcedJSONParsing,r=this.responseType==="json";if(E.isResponse(e)||E.isReadableStream(e))return e;if(e&&E.isString(e)&&(s&&!this.responseType||r)){const l=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(h){if(l)throw h.name==="SyntaxError"?ne.from(h,ne.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{gs.headers[t]={}});const W_=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U_=t=>{const e={};let i,s,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),i=l.substring(0,r).trim().toLowerCase(),s=l.substring(r+1).trim(),!(!i||e[i]&&W_[i])&&(i==="set-cookie"?e[i]?e[i].push(s):e[i]=[s]:e[i]=e[i]?e[i]+", "+s:s)}),e},Ad=Symbol("internals");function zn(t){return t&&String(t).trim().toLowerCase()}function hr(t){return t===!1||t==null?t:E.isArray(t)?t.map(hr):String(t)}function V_(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(t);)e[s[1]]=s[2];return e}const Z_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Go(t,e,i,s,r){if(E.isFunction(s))return s.call(this,e,i);if(r&&(e=i),!!E.isString(e)){if(E.isString(s))return e.indexOf(s)!==-1;if(E.isRegExp(s))return s.test(e)}}function q_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,s)=>i.toUpperCase()+s)}function Y_(t,e){const i=E.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+i,{value:function(r,o,l){return this[s].call(this,e,r,o,l)},configurable:!0})})}let lt=class{constructor(e){e&&this.set(e)}set(e,i,s){const r=this;function o(h,u,f){const m=zn(u);if(!m)throw new Error("header name must be a non-empty string");const x=E.findKey(r,m);(!x||r[x]===void 0||f===!0||f===void 0&&r[x]!==!1)&&(r[x||u]=hr(h))}const l=(h,u)=>E.forEach(h,(f,m)=>o(f,m,u));if(E.isPlainObject(e)||e instanceof this.constructor)l(e,i);else if(E.isString(e)&&(e=e.trim())&&!Z_(e))l(U_(e),i);else if(E.isHeaders(e))for(const[h,u]of e.entries())o(u,h,s);else e!=null&&o(i,e,s);return this}get(e,i){if(e=zn(e),e){const s=E.findKey(this,e);if(s){const r=this[s];if(!i)return r;if(i===!0)return V_(r);if(E.isFunction(i))return i.call(this,r,s);if(E.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=zn(e),e){const s=E.findKey(this,e);return!!(s&&this[s]!==void 0&&(!i||Go(this,this[s],s,i)))}return!1}delete(e,i){const s=this;let r=!1;function o(l){if(l=zn(l),l){const h=E.findKey(s,l);h&&(!i||Go(s,s[h],h,i))&&(delete s[h],r=!0)}}return E.isArray(e)?e.forEach(o):o(e),r}clear(e){const i=Object.keys(this);let s=i.length,r=!1;for(;s--;){const o=i[s];(!e||Go(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const i=this,s={};return E.forEach(this,(r,o)=>{const l=E.findKey(s,o);if(l){i[l]=hr(r),delete i[o];return}const h=e?q_(o):String(o).trim();h!==o&&delete i[o],i[h]=hr(r),s[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return E.forEach(this,(s,r)=>{s!=null&&s!==!1&&(i[r]=e&&E.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const s=new this(e);return i.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Ad]=this[Ad]={accessors:{}}).accessors,r=this.prototype;function o(l){const h=zn(l);s[h]||(Y_(r,l),s[h]=!0)}return E.isArray(e)?e.forEach(o):o(e),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(lt.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[i]=s}}});E.freezeMethods(lt);function Ko(t,e){const i=this||gs,s=e||i,r=lt.from(s.headers);let o=s.data;return E.forEach(t,function(h){o=h.call(i,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function Wu(t){return!!(t&&t.__CANCEL__)}function fn(t,e,i){ne.call(this,t??"canceled",ne.ERR_CANCELED,e,i),this.name="CanceledError"}E.inherits(fn,ne,{__CANCEL__:!0});function Uu(t,e,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):e(new ne("Request failed with status code "+i.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function G_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function K_(t,e){t=t||10;const i=new Array(t),s=new Array(t);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),m=s[o];l||(l=f),i[r]=u,s[r]=f;let x=o,_=0;for(;x!==r;)_+=i[x++],x=x%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-l<e)return;const v=m&&f-m;return v?Math.round(_*1e3/v):void 0}}function X_(t,e){let i=0,s=1e3/e,r,o;const l=(f,m=Date.now())=>{i=m,r=null,o&&(clearTimeout(o),o=null),t.apply(null,f)};return[(...f)=>{const m=Date.now(),x=m-i;x>=s?l(f,m):(r=f,o||(o=setTimeout(()=>{o=null,l(r)},s-x)))},()=>r&&l(r)]}const Mr=(t,e,i=3)=>{let s=0;const r=K_(50,250);return X_(o=>{const l=o.loaded,h=o.lengthComputable?o.total:void 0,u=l-s,f=r(u),m=l<=h;s=l;const x={loaded:l,total:h,progress:h?l/h:void 0,bytes:u,rate:f||void 0,estimated:f&&h&&m?(h-l)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(x)},i)},Fd=(t,e)=>{const i=t!=null;return[s=>e[0]({lengthComputable:i,total:t,loaded:s}),e[1]]},Od=t=>(...e)=>E.asap(()=>t(...e)),J_=Ge.hasStandardBrowserEnv?((t,e)=>i=>(i=new URL(i,Ge.origin),t.protocol===i.protocol&&t.host===i.host&&(e||t.port===i.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,Q_=Ge.hasStandardBrowserEnv?{write(t,e,i,s,r,o){const l=[t+"="+encodeURIComponent(e)];E.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),E.isString(s)&&l.push("path="+s),E.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ev(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tv(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Vu(t,e,i){let s=!ev(e);return t&&s||i==!1?tv(t,e):e}const Rd=t=>t instanceof lt?{...t}:t;function Hi(t,e){e=e||{};const i={};function s(f,m,x,_){return E.isPlainObject(f)&&E.isPlainObject(m)?E.merge.call({caseless:_},f,m):E.isPlainObject(m)?E.merge({},m):E.isArray(m)?m.slice():m}function r(f,m,x,_){if(E.isUndefined(m)){if(!E.isUndefined(f))return s(void 0,f,x,_)}else return s(f,m,x,_)}function o(f,m){if(!E.isUndefined(m))return s(void 0,m)}function l(f,m){if(E.isUndefined(m)){if(!E.isUndefined(f))return s(void 0,f)}else return s(void 0,m)}function h(f,m,x){if(x in e)return s(f,m);if(x in t)return s(void 0,f)}const u={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h,headers:(f,m,x)=>r(Rd(f),Rd(m),x,!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(m){const x=u[m]||r,_=x(t[m],e[m],m);E.isUndefined(_)&&x!==h||(i[m]=_)}),i}const Zu=t=>{const e=Hi({},t);let{data:i,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:h}=e;e.headers=l=lt.from(l),e.url=Bu(Vu(e.baseURL,e.url),t.params,t.paramsSerializer),h&&l.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let u;if(E.isFormData(i)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[f,...m]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(Ge.hasStandardBrowserEnv&&(s&&E.isFunction(s)&&(s=s(e)),s||s!==!1&&J_(e.url))){const f=r&&o&&Q_.read(o);f&&l.set(r,f)}return e},iv=typeof XMLHttpRequest<"u",nv=iv&&function(t){return new Promise(function(i,s){const r=Zu(t);let o=r.data;const l=lt.from(r.headers).normalize();let{responseType:h,onUploadProgress:u,onDownloadProgress:f}=r,m,x,_,v,w;function b(){v&&v(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function C(){if(!k)return;const M=lt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:M,config:t,request:k};Uu(function(W){i(W),b()},function(W){s(W),b()},F),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(s(new ne("Request aborted",ne.ECONNABORTED,t,k)),k=null)},k.onerror=function(){s(new ne("Network Error",ne.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let z=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const F=r.transitional||Hu;r.timeoutErrorMessage&&(z=r.timeoutErrorMessage),s(new ne(z,F.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,t,k)),k=null},o===void 0&&l.setContentType(null),"setRequestHeader"in k&&E.forEach(l.toJSON(),function(z,F){k.setRequestHeader(F,z)}),E.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),h&&h!=="json"&&(k.responseType=r.responseType),f&&([_,w]=Mr(f,!0),k.addEventListener("progress",_)),u&&k.upload&&([x,v]=Mr(u),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(m=M=>{k&&(s(!M||M.type?new fn(null,t,k):M),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const T=G_(r.url);if(T&&Ge.protocols.indexOf(T)===-1){s(new ne("Unsupported protocol "+T+":",ne.ERR_BAD_REQUEST,t));return}k.send(o||null)})},sv=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let s=new AbortController,r;const o=function(f){if(!r){r=!0,h();const m=f instanceof Error?f:this.reason;s.abort(m instanceof ne?m:new fn(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new ne(`timeout ${e} of ms exceeded`,ne.ETIMEDOUT))},e);const h=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:u}=s;return u.unsubscribe=()=>E.asap(h),u}},rv=function*(t,e){let i=t.byteLength;if(i<e){yield t;return}let s=0,r;for(;s<i;)r=s+e,yield t.slice(s,r),s=r},ov=async function*(t,e){for await(const i of av(t))yield*rv(i,e)},av=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:s}=await e.read();if(i)break;yield s}}finally{await e.cancel()}},zd=(t,e,i,s)=>{const r=ov(t,e);let o=0,l,h=u=>{l||(l=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:f,value:m}=await r.next();if(f){h(),u.close();return}let x=m.byteLength;if(i){let _=o+=x;i(_)}u.enqueue(new Uint8Array(m))}catch(f){throw h(f),f}},cancel(u){return h(u),r.return()}},{highWaterMark:2})},Xr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qu=Xr&&typeof ReadableStream=="function",lv=Xr&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Yu=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cv=qu&&Yu(()=>{let t=!1;const e=new Request(Ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Dd=64*1024,ja=qu&&Yu(()=>E.isReadableStream(new Response("").body)),Er={stream:ja&&(t=>t.body)};Xr&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Er[e]&&(Er[e]=E.isFunction(t[e])?i=>i[e]():(i,s)=>{throw new ne(`Response type '${e}' is not supported`,ne.ERR_NOT_SUPPORT,s)})})})(new Response);const dv=async t=>{if(t==null)return 0;if(E.isBlob(t))return t.size;if(E.isSpecCompliantForm(t))return(await new Request(Ge.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(E.isArrayBufferView(t)||E.isArrayBuffer(t))return t.byteLength;if(E.isURLSearchParams(t)&&(t=t+""),E.isString(t))return(await lv(t)).byteLength},hv=async(t,e)=>{const i=E.toFiniteNumber(t.getContentLength());return i??dv(e)},uv=Xr&&(async t=>{let{url:e,method:i,data:s,signal:r,cancelToken:o,timeout:l,onDownloadProgress:h,onUploadProgress:u,responseType:f,headers:m,withCredentials:x="same-origin",fetchOptions:_}=Zu(t);f=f?(f+"").toLowerCase():"text";let v=sv([r,o&&o.toAbortSignal()],l),w;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let k;try{if(u&&cv&&i!=="get"&&i!=="head"&&(k=await hv(m,s))!==0){let F=new Request(e,{method:"POST",body:s,duplex:"half"}),B;if(E.isFormData(s)&&(B=F.headers.get("content-type"))&&m.setContentType(B),F.body){const[W,H]=Fd(k,Mr(Od(u)));s=zd(F.body,Dd,W,H)}}E.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;w=new Request(e,{..._,signal:v,method:i.toUpperCase(),headers:m.normalize().toJSON(),body:s,duplex:"half",credentials:C?x:void 0});let T=await fetch(w);const M=ja&&(f==="stream"||f==="response");if(ja&&(h||M&&b)){const F={};["status","statusText","headers"].forEach(J=>{F[J]=T[J]});const B=E.toFiniteNumber(T.headers.get("content-length")),[W,H]=h&&Fd(B,Mr(Od(h),!0))||[];T=new Response(zd(T.body,Dd,W,()=>{H&&H(),b&&b()}),F)}f=f||"text";let z=await Er[E.findKey(Er,f)||"text"](T,t);return!M&&b&&b(),await new Promise((F,B)=>{Uu(F,B,{data:z,headers:lt.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:w})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,t,w),{cause:C.cause||C}):ne.from(C,C&&C.code,t,w)}}),Na={http:C_,xhr:nv,fetch:uv};E.forEach(Na,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Id=t=>`- ${t}`,fv=t=>E.isFunction(t)||t===null||t===!1,Gu={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let i,s;const r={};for(let o=0;o<e;o++){i=t[o];let l;if(s=i,!fv(i)&&(s=Na[(l=String(i)).toLowerCase()],s===void 0))throw new ne(`Unknown adapter '${l}'`);if(s)break;r[l||"#"+o]=s}if(!s){const o=Object.entries(r).map(([h,u])=>`adapter ${h} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Id).join(`
`):" "+Id(o[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Na};function Xo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fn(null,t)}function Bd(t){return Xo(t),t.headers=lt.from(t.headers),t.data=Ko.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Gu.getAdapter(t.adapter||gs.adapter)(t).then(function(s){return Xo(t),s.data=Ko.call(t,t.transformResponse,s),s.headers=lt.from(s.headers),s},function(s){return Wu(s)||(Xo(t),s&&s.response&&(s.response.data=Ko.call(t,t.transformResponse,s.response),s.response.headers=lt.from(s.response.headers))),Promise.reject(s)})}const Ku="1.8.2",Jr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jr[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Hd={};Jr.transitional=function(e,i,s){function r(o,l){return"[Axios v"+Ku+"] Transitional option '"+o+"'"+l+(s?". "+s:"")}return(o,l,h)=>{if(e===!1)throw new ne(r(l," has been removed"+(i?" in "+i:"")),ne.ERR_DEPRECATED);return i&&!Hd[l]&&(Hd[l]=!0,console.warn(r(l," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(o,l,h):!0}};Jr.spelling=function(e){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function pv(t,e,i){if(typeof t!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],l=e[o];if(l){const h=t[o],u=h===void 0||l(h,o,t);if(u!==!0)throw new ne("option "+o+" must be "+u,ne.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ne("Unknown option "+o,ne.ERR_BAD_OPTION)}}const ur={assertOptions:pv,validators:Jr},Dt=ur.validators;let Ii=class{constructor(e){this.defaults=e,this.interceptors={request:new Ed,response:new Ed}}async request(e,i){try{return await this._request(e,i)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Hi(this.defaults,i);const{transitional:s,paramsSerializer:r,headers:o}=i;s!==void 0&&ur.assertOptions(s,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),r!=null&&(E.isFunction(r)?i.paramsSerializer={serialize:r}:ur.assertOptions(r,{encode:Dt.function,serialize:Dt.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),ur.assertOptions(i,{baseUrl:Dt.spelling("baseURL"),withXsrfToken:Dt.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let l=o&&E.merge(o.common,o[i.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),i.headers=lt.concat(l,o);const h=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(i)===!1||(u=u&&b.synchronous,h.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let m,x=0,_;if(!u){const w=[Bd.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,f),_=w.length,m=Promise.resolve(i);x<_;)m=m.then(w[x++],w[x++]);return m}_=h.length;let v=i;for(x=0;x<_;){const w=h[x++],b=h[x++];try{v=w(v)}catch(k){b.call(this,k);break}}try{m=Bd.call(this,v)}catch(w){return Promise.reject(w)}for(x=0,_=f.length;x<_;)m=m.then(f[x++],f[x++]);return m}getUri(e){e=Hi(this.defaults,e);const i=Vu(e.baseURL,e.url,e.allowAbsoluteUrls);return Bu(i,e.params,e.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(e){Ii.prototype[e]=function(i,s){return this.request(Hi(s||{},{method:e,url:i,data:(s||{}).data}))}});E.forEach(["post","put","patch"],function(e){function i(s){return function(o,l,h){return this.request(Hi(h||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Ii.prototype[e]=i(),Ii.prototype[e+"Form"]=i(!0)});let mv=class Xu{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(o){i=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(h=>{s.subscribe(h),o=h}).then(r);return l.cancel=function(){s.unsubscribe(o)},l},e(function(o,l,h){s.reason||(s.reason=new fn(o,l,h),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=s=>{e.abort(s)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new Xu(function(r){e=r}),cancel:e}}};function gv(t){return function(i){return t.apply(null,i)}}function xv(t){return E.isObject(t)&&t.isAxiosError===!0}const Sa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sa).forEach(([t,e])=>{Sa[e]=t});function Ju(t){const e=new Ii(t),i=Tu(Ii.prototype.request,e);return E.extend(i,Ii.prototype,e,{allOwnKeys:!0}),E.extend(i,e,null,{allOwnKeys:!0}),i.create=function(r){return Ju(Hi(t,r))},i}const Le=Ju(gs);Le.Axios=Ii;Le.CanceledError=fn;Le.CancelToken=mv;Le.isCancel=Wu;Le.VERSION=Ku;Le.toFormData=Kr;Le.AxiosError=ne;Le.Cancel=Le.CanceledError;Le.all=function(e){return Promise.all(e)};Le.spread=gv;Le.isAxiosError=xv;Le.mergeConfig=Hi;Le.AxiosHeaders=lt;Le.formToJSON=t=>$u(E.isHTMLForm(t)?new FormData(t):t);Le.getAdapter=Gu.getAdapter;Le.HttpStatusCode=Sa;Le.default=Le;const{Axios:c1,AxiosError:d1,CanceledError:h1,isCancel:u1,CancelToken:f1,VERSION:p1,all:m1,Cancel:g1,isAxiosError:x1,spread:y1,toFormData:_1,AxiosHeaders:v1,HttpStatusCode:b1,formToJSON:w1,getAdapter:k1,mergeConfig:j1}=Le,yv="deeaa95f4b7b2543dc8c3d9cb96396c6",tl=yv,_v=async(t,e)=>{try{return(await Le.get(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&units=metric&appid=${tl}`)).data}catch(i){throw console.error("Error fetching current weather:",i),i}},vv=async(t,e)=>{try{return(await Le.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${e}&units=metric&exclude=minutely&appid=${tl}`)).data}catch(i){console.error("Error fetching weather forecast:",i);try{const s=await _v(t,e);return bv(s,t,e)}catch(s){throw console.error("Fallback also failed:",s),i}}},bv=(t,e,i)=>({lat:e,lon:i,timezone:"UTC",timezone_offset:0,current:{dt:t.dt,sunrise:t.sys.sunrise,sunset:t.sys.sunset,temp:t.main.temp,feels_like:t.main.feels_like,pressure:t.main.pressure,humidity:t.main.humidity,dew_point:0,uvi:0,clouds:t.clouds.all,visibility:t.visibility,wind_speed:t.wind.speed,wind_deg:t.wind.deg,weather:t.weather},hourly:Array(24).fill(0).map((s,r)=>({dt:t.dt+r*3600,temp:t.main.temp+(Math.random()*4-2),feels_like:t.main.feels_like+(Math.random()*4-2),pressure:t.main.pressure,humidity:t.main.humidity,dew_point:0,uvi:0,clouds:t.clouds.all,visibility:t.visibility,wind_speed:t.wind.speed,wind_deg:t.wind.deg,weather:t.weather,pop:0})),daily:Array(7).fill(0).map((s,r)=>({dt:t.dt+r*86400,sunrise:t.sys.sunrise,sunset:t.sys.sunset,temp:{day:t.main.temp+(Math.random()*5-2),min:t.main.temp-(Math.random()*3+1),max:t.main.temp+(Math.random()*3+1),night:t.main.temp-Math.random()*2,eve:t.main.temp+Math.random()*2,morn:t.main.temp-Math.random()*2},feels_like:{day:t.main.feels_like,night:t.main.feels_like-2,eve:t.main.feels_like+1,morn:t.main.feels_like-1},pressure:t.main.pressure,humidity:t.main.humidity,dew_point:0,wind_speed:t.wind.speed,wind_deg:t.wind.deg,weather:t.weather,clouds:t.clouds.all,pop:0,uvi:0}))}),N1=t=>`https://tile.openweathermap.org/map/${t}/{z}/{x}/{y}.png?appid=${tl}`,wv=({onLocationSelect:t})=>{const[e,i]=D.useState(""),[s,r]=D.useState([]),[o,l]=D.useState(!1),[h,u]=D.useState(!1),[f,m]=D.useState(-1),x=D.useRef(null),_=D.useRef(null),v=async T=>{if(!T||T.length<3){r([]);return}console.log("Fetching suggestions for:",T),u(!0);try{const M=await Le.get(`https://api.openweathermap.org/geo/1.0/direct?q=${T}&limit=5&appid=deeaa95f4b7b2543dc8c3d9cb96396c6`);console.log("Suggestions response:",M.data);const z=M.data.map(F=>({name:F.name,fullName:F.state?`${F.name}, ${F.state}, ${F.country}`:`${F.name}, ${F.country}`,lat:F.lat,lon:F.lon,country:F.country}));r(z),l(!0)}catch(M){console.error("Error fetching location suggestions:",M),r([])}finally{u(!1)}},w=T=>{const M=T.target.value;i(M),M.length>=3?v(M):(r([]),l(!1))};D.useEffect(()=>{const T=M=>{_.current&&!_.current.contains(M.target)&&!x.current.contains(M.target)&&l(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const b=T=>{T.keyCode===40&&s.length>0?(T.preventDefault(),m(M=>M<s.length-1?M+1:M)):T.keyCode===38&&s.length>0?(T.preventDefault(),m(M=>M>0?M-1:0)):T.keyCode===13?f>=0&&s[f]?(k(s[f]),T.preventDefault()):e.length>=3&&C(T):T.keyCode===27&&(l(!1),m(-1))},k=T=>{i(T.fullName),l(!1),m(-1),t({name:T.name,lat:T.lat,lon:T.lon,country:T.country})},C=async T=>{if(T.preventDefault(),!(e.length<3)){u(!0);try{const M=await Le.get(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=deeaa95f4b7b2543dc8c3d9cb96396c6`);if(M.data&&M.data.length>0){const z=M.data[0];t({name:z.name,lat:z.lat,lon:z.lon,country:z.country})}}catch(M){console.error("Error fetching location:",M)}finally{u(!1),l(!1)}}};return c.jsx("div",{className:"location-autocomplete-container",children:c.jsxs("form",{onSubmit:C,className:"flex w-full",children:[c.jsxs("div",{className:"relative flex-grow",children:[c.jsx("input",{ref:x,type:"text",value:e,onChange:w,onKeyDown:b,onFocus:()=>e.length>=3&&l(!0),placeholder:"Enter city, state or country...",className:"input-field flex-grow px-4 py-3 rounded-l-md focus:outline-none focus:ring-2 focus:ring-primary w-full text-gray-800 dark:text-white",autoComplete:"off",autoCorrect:"on",spellCheck:"true",list:"common-locations"}),c.jsxs("datalist",{id:"common-locations",children:[c.jsx("option",{value:"New York, US",children:"New York, US"}),c.jsx("option",{value:"London, GB",children:"London, GB"}),c.jsx("option",{value:"Tokyo, JP",children:"Tokyo, JP"}),c.jsx("option",{value:"Paris, FR",children:"Paris, FR"}),c.jsx("option",{value:"Dubai, AE",children:"Dubai, AE"}),c.jsx("option",{value:"Beijing, CN",children:"Beijing, CN"}),c.jsx("option",{value:"Los Angeles, US",children:"Los Angeles, US"}),c.jsx("option",{value:"Mumbai, IN",children:"Mumbai, IN"}),c.jsx("option",{value:"Sydney, AU",children:"Sydney, AU"}),c.jsx("option",{value:"Berlin, DE",children:"Berlin, DE"}),c.jsx("option",{value:"20001",children:"Washington DC, US"}),c.jsx("option",{value:"90210",children:"Beverly Hills, US"}),c.jsx("option",{value:"75001",children:"Paris, FR"})]}),o&&s.length>0&&c.jsx("ul",{ref:_,className:"suggestions-list absolute top-full left-0 right-0 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-b-md shadow-lg z-10 max-h-60 overflow-y-auto",children:s.map((T,M)=>c.jsx("li",{className:`suggestion-item px-4 py-2 cursor-pointer hover:bg-gray-100 hover:dark:bg-gray-700 ${M===f?"bg-gray-100 dark:bg-gray-700":""} text-gray-800 dark:text-white`,onClick:()=>k(T),onMouseEnter:()=>m(M),children:T.fullName},M))})]}),c.jsx("button",{type:"submit",className:"btn-primary rounded-l-none rounded-r-md px-4 py-2 flex items-center justify-center",disabled:h,"aria-label":"Search",children:h?c.jsx(pm,{className:"animate-spin"}):c.jsx(zh,{})})]})})},kv=({initialLocation:t})=>{const[e,i]=D.useState(null),[s,r]=D.useState(!1),[o,l]=D.useState(null);D.useEffect(()=>{t&&h(t)},[t]);const h=async x=>{if(x){r(!0),l(null);try{const _=await vv(x.lat,x.lon);i({..._,locationName:x.name,country:x.country})}catch(_){console.error("Error fetching forecast:",_),l("Failed to fetch weather data. Please try again.")}finally{r(!1)}}},u=x=>new Date(x*1e3).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),f=x=>new Date(x*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),m=x=>({"01d":c.jsx(mc,{className:"text-yellow-400 text-3xl"}),"01n":c.jsx(mc,{className:"text-yellow-400 text-3xl"}),"02d":c.jsx(Pt,{className:"text-gray-400 text-3xl"}),"02n":c.jsx(Pt,{className:"text-gray-400 text-3xl"}),"03d":c.jsx(Pt,{className:"text-gray-400 text-3xl"}),"03n":c.jsx(Pt,{className:"text-gray-400 text-3xl"}),"04d":c.jsx(Pt,{className:"text-gray-400 text-3xl"}),"04n":c.jsx(Pt,{className:"text-gray-400 text-3xl"}),"09d":c.jsx(It,{className:"text-blue-400 text-3xl"}),"09n":c.jsx(It,{className:"text-blue-400 text-3xl"}),"10d":c.jsx(It,{className:"text-blue-400 text-3xl"}),"10n":c.jsx(It,{className:"text-blue-400 text-3xl"}),"11d":c.jsx(It,{className:"text-blue-500 text-3xl"}),"11n":c.jsx(It,{className:"text-blue-500 text-3xl"}),"13d":c.jsx(It,{className:"text-blue-200 text-3xl"}),"13n":c.jsx(It,{className:"text-blue-200 text-3xl"}),"50d":c.jsx(Pt,{className:"text-gray-300 text-3xl"}),"50n":c.jsx(Pt,{className:"text-gray-300 text-3xl"})})[x]||c.jsx(Pt,{className:"text-gray-400 text-3xl"});return c.jsxs("div",{className:"card max-w-5xl mx-auto",children:[c.jsx("h2",{className:"text-2xl font-heading font-bold mb-6",children:"Weather Forecast"}),c.jsx("div",{className:"mb-6",children:c.jsx(wv,{onLocationSelect:h})}),s&&c.jsx("p",{className:"text-center",children:"Loading forecast data..."}),o&&c.jsx("p",{className:"text-red-500 text-center",children:o}),e&&c.jsxs("div",{children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("h3",{className:"text-xl font-semibold",children:[e.locationName,", ",e.country]}),c.jsx("p",{className:"text-gray-600",children:u(e.current.dt)})]}),c.jsx("div",{className:"bg-primary/10 rounded-lg p-6 mb-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center",children:[m(e.current.weather[0].icon),c.jsxs("span",{className:"text-3xl font-bold ml-2",children:[Math.round(e.current.temp),"°C"]})]}),c.jsx("p",{className:"text-lg capitalize",children:e.current.weather[0].description})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Dh,{className:"mr-2 text-red-500"}),c.jsxs("span",{children:["Feels like: ",Math.round(e.current.feels_like),"°C"]})]}),c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Ih,{className:"mr-2 text-blue-500"}),c.jsxs("span",{children:["Wind: ",Math.round(e.current.wind_speed)," m/s"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(It,{className:"mr-2 text-blue-400"}),c.jsxs("span",{children:["Humidity: ",e.current.humidity,"%"]})]})]})]})}),c.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Hourly Forecast"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"flex space-x-4 pb-4",children:e.hourly.slice(0,24).map((x,_)=>c.jsxs("div",{className:"flex flex-col items-center bg-white p-3 rounded-lg shadow-sm min-w-[80px]",children:[c.jsx("p",{className:"text-sm text-gray-600",children:f(x.dt)}),m(x.weather[0].icon),c.jsxs("p",{className:"font-semibold",children:[Math.round(x.temp),"°C"]})]},_))})}),c.jsx("h4",{className:"text-xl font-semibold my-4",children:"7-Day Forecast"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.daily.slice(0,7).map((x,_)=>c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[c.jsx("p",{className:"font-semibold text-center",children:_===0?"Today":u(x.dt)}),c.jsx("div",{className:"flex justify-center my-2",children:m(x.weather[0].icon)}),c.jsx("p",{className:"text-center capitalize text-sm mb-2",children:x.weather[0].description}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:["Min: ",Math.round(x.temp.min),"°C"]}),c.jsxs("span",{children:["Max: ",Math.round(x.temp.max),"°C"]})]})]},_))})]})]})},jv={corn:{title:"Corn Yield Forecast",current:185.3,previous:176.7,trend:"up",forecast:190.2,history:[{year:2018,yield:171.4},{year:2019,yield:168.3},{year:2020,yield:172},{year:2021,yield:176.7},{year:2022,yield:173.3},{year:2023,yield:177.8},{year:2024,yield:185.3},{year:2025,yield:190.2}],riskFactors:[{factor:"Drought",risk:"Low",impact:2},{factor:"Heat Stress",risk:"Medium",impact:5},{factor:"Excess Moisture",risk:"Low",impact:3},{factor:"Pests",risk:"Low",impact:1}]},soybeans:{title:"Soybean Yield Forecast",current:52.1,previous:50.7,trend:"up",forecast:54.3,history:[{year:2018,yield:47.4},{year:2019,yield:46.1},{year:2020,yield:48.3},{year:2021,yield:50.7},{year:2022,yield:49.8},{year:2023,yield:51.2},{year:2024,yield:52.1},{year:2025,yield:54.3}],riskFactors:[{factor:"Drought",risk:"Medium",impact:6},{factor:"Heat Stress",risk:"Medium",impact:4},{factor:"Excess Moisture",risk:"Low",impact:2},{factor:"Pests",risk:"Medium",impact:5}]},wheat:{title:"Wheat Yield Forecast",current:48.6,previous:46.3,trend:"up",forecast:50.1,history:[{year:2018,yield:39.3},{year:2019,yield:41.7},{year:2020,yield:44.5},{year:2021,yield:46.3},{year:2022,yield:45.2},{year:2023,yield:47.4},{year:2024,yield:48.6},{year:2025,yield:50.1}],riskFactors:[{factor:"Drought",risk:"High",impact:8},{factor:"Heat Stress",risk:"Medium",impact:5},{factor:"Excess Moisture",risk:"Low",impact:3},{factor:"Pests",risk:"Low",impact:2}]},cotton:{title:"Cotton Yield Forecast",current:942,previous:899,trend:"up",forecast:965,history:[{year:2018,yield:864},{year:2019,yield:823},{year:2020,yield:847},{year:2021,yield:899},{year:2022,yield:867},{year:2023,yield:912},{year:2024,yield:942},{year:2025,yield:965}],riskFactors:[{factor:"Drought",risk:"Medium",impact:7},{factor:"Heat Stress",risk:"Low",impact:3},{factor:"Excess Moisture",risk:"Medium",impact:6},{factor:"Pests",risk:"High",impact:8}]},rice:{title:"Rice Yield Forecast",current:7628,previous:7453,trend:"up",forecast:7740,history:[{year:2018,yield:7107},{year:2019,yield:7218},{year:2020,yield:7323},{year:2021,yield:7453},{year:2022,yield:7502},{year:2023,yield:7564},{year:2024,yield:7628},{year:2025,yield:7740}],riskFactors:[{factor:"Drought",risk:"High",impact:9},{factor:"Heat Stress",risk:"Medium",impact:4},{factor:"Excess Moisture",risk:"Low",impact:2},{factor:"Pests",risk:"Medium",impact:5}]}};Vr.register(_a,va,cr,$n,vy,Py,yy);const Nv=()=>{const[t,e]=D.useState("corn"),i=jv[t],s={labels:i.history.map(f=>f.year),datasets:[{label:"Yield",data:i.history.map(f=>f.yield),borderColor:"rgb(60, 165, 92)",backgroundColor:"rgba(60, 165, 92, 0.5)",tension:.2,pointRadius:4,pointHoverRadius:6}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(f){let m=f.dataset.label||"";return m&&(m+=": "),f.parsed.y!==null&&(m+=t==="cotton"||t==="rice"?`${f.parsed.y} lbs/acre`:`${f.parsed.y} bu/acre`),m}}}},scales:{y:{ticks:{callback:function(f){return t==="cotton"||t==="rice"?`${f} lbs`:`${f} bu`}}}}},o=f=>f==="up"?c.jsx(gm,{className:"text-green-500"}):f==="down"?c.jsx(xm,{className:"text-red-500"}):c.jsx(ym,{className:"text-gray-500"}),l=f=>f>=7?"bg-red-500":f>=4?"bg-yellow-500":"bg-green-500",h=()=>{const f=((i.current-i.previous)/i.previous*100).toFixed(1),m=i.trend==="up"?"increase":"decrease";let x="";return i.trend==="up"?x="Favorable weather conditions, improved seed varieties, and effective pest management have contributed to this yield.":x="Challenging weather patterns, pest pressure, and resource limitations have impacted this yield.",`The current yield represents a ${f}% ${m} from the previous year. ${x}`},u=()=>{const f=((i.forecast-i.current)/i.current*100).toFixed(1),m=i.riskFactors.sort((x,_)=>_.impact-x.impact)[0].factor.toLowerCase();return`This forecast is based on current weather patterns, soil conditions, and historical trends. 
             Our AI models predict a ${f}% increase from current yields, with ${m} 
             being the primary factor that could impact final results.`};return c.jsxs("div",{className:"card max-w-5xl mx-auto",children:[c.jsx("h2",{className:"text-2xl font-heading font-bold mb-6",children:i.title}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{htmlFor:"crop-select",className:"block mb-2",children:"Select Crop:"}),c.jsxs("select",{id:"crop-select",value:t,onChange:f=>e(f.target.value),className:"input-field w-full md:w-64",children:[c.jsx("option",{value:"corn",children:"Corn"}),c.jsx("option",{value:"soybeans",children:"Soybeans"}),c.jsx("option",{value:"wheat",children:"Wheat"}),c.jsx("option",{value:"cotton",children:"Cotton"}),c.jsx("option",{value:"rice",children:"Rice"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-primary/10 p-5 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Current Yield"}),c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsxs("span",{className:"text-3xl font-bold",children:[i.current,c.jsx("span",{className:"text-sm font-normal ml-1",children:t==="cotton"||t==="rice"?"lbs/acre":"bu/acre"})]}),c.jsx("span",{className:"ml-2",children:o(i.trend)})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:i.trend==="up"?`Up ${((i.current-i.previous)/i.previous*100).toFixed(1)}% from previous year`:i.trend==="down"?`Down ${((i.previous-i.current)/i.previous*100).toFixed(1)}% from previous year`:"No change from previous year"}),c.jsxs("div",{className:"text-sm text-gray-700 mt-3 pt-3 border-t border-gray-200",children:[c.jsx(rn,{className:"inline-block mr-1 text-primary"}),h()]})]}),c.jsxs("div",{className:"bg-primary/10 p-5 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Forecast Yield"}),c.jsx("div",{className:"flex items-center mb-3",children:c.jsxs("span",{className:"text-3xl font-bold",children:[i.forecast,c.jsx("span",{className:"text-sm font-normal ml-1",children:t==="cotton"||t==="rice"?"lbs/acre":"bu/acre"})]})}),c.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Expected ",((i.forecast-i.current)/i.current*100).toFixed(1),"% ",i.forecast>i.current?"increase":"decrease"," from current"]}),c.jsxs("div",{className:"text-sm text-gray-700 mt-3 pt-3 border-t border-gray-200",children:[c.jsx(rn,{className:"inline-block mr-1 text-primary"}),u()]})]}),c.jsxs("div",{className:"bg-yellow-50 p-5 rounded-lg border-l-4 border-yellow-500",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Weather Influence"}),c.jsxs("p",{className:"text-sm mb-3",children:["Current weather conditions are ",i.trend==="up"?"favorable":"challenging"," for ",t," production."]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(mm,{className:"text-yellow-500 mr-2"}),c.jsx("span",{className:"font-semibold",children:"Primary risk factor:"})]}),c.jsxs("p",{className:"mt-1",children:[i.riskFactors.sort((f,m)=>m.impact-f.impact)[0].factor,"(Risk: ",i.riskFactors.sort((f,m)=>m.impact-f.impact)[0].risk,")"]})]}),c.jsxs("div",{className:"text-sm text-gray-700 mt-3 pt-3 border-t border-gray-200",children:[c.jsx(rn,{className:"inline-block mr-1 text-primary"}),"Monitoring weather forecasts regularly is recommended to adapt management practices as needed."]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Historical Yield Trends"}),c.jsx("div",{className:"h-96 w-full",children:c.jsx($y,{data:s,options:r})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Risk Assessment"}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4 border border-gray-200",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"mr-2 mt-0.5",children:c.jsx(rn,{className:"text-primary"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold",children:"Data source:"})," Risk assessments are calculated using data from NOAA weather services, USDA historical records, and our proprietary AI models that analyze 10+ years of crop performance metrics. Updated daily."]}),c.jsxs("p",{className:"text-sm mt-2",children:[c.jsx("span",{className:"font-semibold",children:"Methodology:"})," Our machine learning algorithms calculate risk by combining current weather conditions, climate forecasts, historical patterns, and crop-specific vulnerability factors."]})]})]}),c.jsxs("div",{className:"flex items-center mt-2 text-xs",children:[c.jsxs("span",{className:"flex items-center mr-4",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-red-500 mr-1 rounded-sm"}),"High risk (7-10)"]}),c.jsxs("span",{className:"flex items-center mr-4",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-yellow-500 mr-1 rounded-sm"}),"Medium risk (4-6)"]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 mr-1 rounded-sm"}),"Low risk (1-3)"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.riskFactors.map((f,m)=>c.jsxs("div",{className:"flex items-center p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[c.jsx("div",{className:"mr-4",children:c.jsx("div",{className:`w-2 h-full ${l(f.impact)}`,style:{minHeight:"30px"}})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-semibold",children:f.factor}),c.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:"Last updated: Today"})]}),c.jsxs("div",{className:"flex justify-between mt-1",children:[c.jsxs("span",{className:"text-sm",children:["Risk Level: ",f.risk]}),c.jsxs("span",{className:"text-sm",children:["Impact: ",f.impact,"/10"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:f.risk==="High"?"This factor needs immediate attention and mitigation strategies.":f.risk==="Medium"?"Monitor this factor regularly and be prepared to adjust practices.":"Minor impact expected, but should still be monitored."}),c.jsxs("div",{className:"mt-2 text-xs bg-primary/5 p-2 rounded flex items-center",children:[c.jsx(rn,{className:"text-primary mr-1"}),c.jsxs("span",{children:["See ",c.jsx(Io,{to:"/dashboard",className:"text-primary underline",children:"historical data"})," for this risk factor's trends over time"]})]})]})]},m))}),c.jsxs("div",{className:"mt-4 flex justify-between text-sm text-gray-500 border-t border-gray-200 pt-3",children:[c.jsx("span",{children:"Data refreshed daily at 6:00 AM local time"}),c.jsxs(Io,{to:"/methodology",className:"text-primary flex items-center",children:[c.jsx("span",{children:"Learn more about our risk assessment methodology"}),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{fillRule:"evenodd",d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z",clipRule:"evenodd"}),c.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]})]})]})]}),c.jsxs("div",{className:"mt-8 p-5 bg-primary/10 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Agricultural Intelligence Insights"}),c.jsxs("p",{className:"mb-3",children:["Based on current weather patterns and historical yield data, our AI model predicts",i.trend==="up"?" favorable ":" challenging ","conditions for ",t," production this year. Farmers should monitor",i.riskFactors.sort((f,m)=>m.impact-f.impact)[0].risk==="High"?` ${i.riskFactors.sort((f,m)=>m.impact-f.impact)[0].factor.toLowerCase()} conditions closely`:" weather conditions","and adjust management practices accordingly."]}),c.jsxs("p",{className:"mb-4",children:["Our analysis indicates that ",t," yields in your region are trending",i.trend==="up"?" upward":" downward",". Consider implementing specific strategies to",i.trend==="up"?" maximize potential yields":" mitigate yield losses","."]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-primary/20 mt-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}),c.jsx("path",{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"})]}),c.jsx("h4",{className:"font-medium text-primary",children:"Dashboard Connection"})]}),c.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[c.jsx("span",{className:"font-medium",children:"Want to dive deeper?"})," Visit the Dashboard for granular, real-time data analysis that powers these predictions. The interactive weather map, historical trends, and sensor data visualizations will help you understand exactly why these yield forecasts are occurring."]}),c.jsxs("div",{className:"border-l-4 border-primary/30 pl-3 mb-3 text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[c.jsx("strong",{children:"Example:"})," For ",t,", our Dashboard shows that ",i.riskFactors.sort((f,m)=>m.impact-f.impact)[0].risk==="High"?`${i.riskFactors.sort((f,m)=>m.impact-f.impact)[0].factor.toLowerCase()} conditions are currently a high-risk factor`:i.trend==="up"?"favorable temperature and precipitation patterns are contributing to potential yield increases":"challenging environmental factors are impacting growth conditions",". Access the Dashboard to monitor these conditions in real-time."]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[c.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 md:mb-0",children:[c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Weather Maps"}),c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Soil Moisture Data"}),c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Temperature Trends"}),c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Precipitation History"})]}),c.jsxs(Io,{to:"/dashboard",className:"inline-flex items-center bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark transition-colors",children:[c.jsx("span",{children:"Go to Dashboard"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]})]})]})},Sv=({message:t="Loading"})=>c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-900",children:[c.jsx("div",{className:"animate-pulse",children:c.jsx(_m,{className:"text-6xl text-primary mb-4"})}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-2",children:t}),c.jsx("div",{className:"mt-2 w-16 h-1 bg-gray-300 dark:bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary animate-loading-bar"})})]});var pn={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=D;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rt=Object.prototype.hasOwnProperty,Cv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$d={},Wd={};function ef(t){return rt.call(Wd,t)?!0:rt.call($d,t)?!1:Cv.test(t)?Wd[t]=!0:($d[t]=!0,!1)}function et(t,e,i,s,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var il=/[\-:]([a-z])/g;function nl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(il,nl);Ze[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(il,nl);Ze[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(il,nl);Ze[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pv=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(t){Pv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fr[e]=fr[t]})});var Tv=/["'&<>]/;function Qe(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=Tv.exec(t);if(e){var i="",s,r=0;for(s=e.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==s&&(i+=t.substring(r,s)),r=s+1,i+=e}t=r!==s?i+t.substring(r,s):i}return t}var Lv=/([A-Z])/g,Mv=/^ms-/,Ca=Array.isArray;function ti(t,e){return{insertionMode:t,selectedValue:e}}function Ev(t,e,i){switch(e){case"select":return ti(1,i.value!=null?i.value:i.defaultValue);case"svg":return ti(2,null);case"math":return ti(3,null);case"foreignObject":return ti(1,null);case"table":return ti(4,null);case"thead":case"tbody":case"tfoot":return ti(5,null);case"colgroup":return ti(7,null);case"tr":return ti(6,null)}return 4<=t.insertionMode||t.insertionMode===0?ti(1,null):t}var Ud=new Map;function tf(t,e,i){if(typeof i!="object")throw Error(se(62));e=!0;for(var s in i)if(rt.call(i,s)){var r=i[s];if(r!=null&&typeof r!="boolean"&&r!==""){if(s.indexOf("--")===0){var o=Qe(s);r=Qe((""+r).trim())}else{o=s;var l=Ud.get(o);l!==void 0||(l=Qe(o.replace(Lv,"-$1").toLowerCase().replace(Mv,"-ms-")),Ud.set(o,l)),o=l,r=typeof r=="number"?r===0||rt.call(fr,s)?""+r:r+"px":Qe((""+r).trim())}e?(e=!1,t.push(' style="',o,":",r)):t.push(";",o,":",r)}}e||t.push('"')}function ct(t,e,i,s){switch(i){case"style":tf(t,e,s);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N"){if(e=Ze.hasOwnProperty(i)?Ze[i]:null,e!==null){switch(typeof s){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(i=e.attributeName,e.type){case 3:s&&t.push(" ",i,'=""');break;case 4:s===!0?t.push(" ",i,'=""'):s!==!1&&t.push(" ",i,'="',Qe(s),'"');break;case 5:isNaN(s)||t.push(" ",i,'="',Qe(s),'"');break;case 6:!isNaN(s)&&1<=s&&t.push(" ",i,'="',Qe(s),'"');break;default:e.sanitizeURL&&(s=""+s),t.push(" ",i,'="',Qe(s),'"')}}else if(ef(i)){switch(typeof s){case"function":case"symbol":return;case"boolean":if(e=i.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(" ",i,'="',Qe(s),'"')}}}function pr(t,e,i){if(e!=null){if(i!=null)throw Error(se(60));if(typeof e!="object"||!("__html"in e))throw Error(se(61));e=e.__html,e!=null&&t.push(""+e)}}function Av(t){var e="";return Qu.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function Jo(t,e,i,s){t.push($t(i));var r=i=null,o;for(o in e)if(rt.call(e,o)){var l=e[o];if(l!=null)switch(o){case"children":i=l;break;case"dangerouslySetInnerHTML":r=l;break;default:ct(t,s,o,l)}}return t.push(">"),pr(t,r,i),typeof i=="string"?(t.push(Qe(i)),null):i}var Fv=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Vd=new Map;function $t(t){var e=Vd.get(t);if(e===void 0){if(!Fv.test(t))throw Error(se(65,t));e="<"+t,Vd.set(t,e)}return e}function Ov(t,e,i,s,r){switch(e){case"select":t.push($t("select"));var o=null,l=null;for(m in i)if(rt.call(i,m)){var h=i[m];if(h!=null)switch(m){case"children":o=h;break;case"dangerouslySetInnerHTML":l=h;break;case"defaultValue":case"value":break;default:ct(t,s,m,h)}}return t.push(">"),pr(t,l,o),o;case"option":l=r.selectedValue,t.push($t("option"));var u=h=null,f=null,m=null;for(o in i)if(rt.call(i,o)){var x=i[o];if(x!=null)switch(o){case"children":h=x;break;case"selected":f=x;break;case"dangerouslySetInnerHTML":m=x;break;case"value":u=x;default:ct(t,s,o,x)}}if(l!=null)if(i=u!==null?""+u:Av(h),Ca(l)){for(s=0;s<l.length;s++)if(""+l[s]===i){t.push(' selected=""');break}}else""+l===i&&t.push(' selected=""');else f&&t.push(' selected=""');return t.push(">"),pr(t,m,h),h;case"textarea":t.push($t("textarea")),m=l=o=null;for(h in i)if(rt.call(i,h)&&(u=i[h],u!=null))switch(h){case"children":m=u;break;case"value":o=u;break;case"defaultValue":l=u;break;case"dangerouslySetInnerHTML":throw Error(se(91));default:ct(t,s,h,u)}if(o===null&&l!==null&&(o=l),t.push(">"),m!=null){if(o!=null)throw Error(se(92));if(Ca(m)&&1<m.length)throw Error(se(93));o=""+m}return typeof o=="string"&&o[0]===`
`&&t.push(`
`),o!==null&&t.push(Qe(""+o)),null;case"input":t.push($t("input")),u=m=h=o=null;for(l in i)if(rt.call(i,l)&&(f=i[l],f!=null))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(se(399,"input"));case"defaultChecked":u=f;break;case"defaultValue":h=f;break;case"checked":m=f;break;case"value":o=f;break;default:ct(t,s,l,f)}return m!==null?ct(t,s,"checked",m):u!==null&&ct(t,s,"checked",u),o!==null?ct(t,s,"value",o):h!==null&&ct(t,s,"value",h),t.push("/>"),null;case"menuitem":t.push($t("menuitem"));for(var _ in i)if(rt.call(i,_)&&(o=i[_],o!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(se(400));default:ct(t,s,_,o)}return t.push(">"),null;case"title":t.push($t("title")),o=null;for(x in i)if(rt.call(i,x)&&(l=i[x],l!=null))switch(x){case"children":o=l;break;case"dangerouslySetInnerHTML":throw Error(se(434));default:ct(t,s,x,l)}return t.push(">"),o;case"listing":case"pre":t.push($t(e)),l=o=null;for(u in i)if(rt.call(i,u)&&(h=i[u],h!=null))switch(u){case"children":o=h;break;case"dangerouslySetInnerHTML":l=h;break;default:ct(t,s,u,h)}if(t.push(">"),l!=null){if(o!=null)throw Error(se(60));if(typeof l!="object"||!("__html"in l))throw Error(se(61));i=l.__html,i!=null&&(typeof i=="string"&&0<i.length&&i[0]===`
`?t.push(`
`,i):t.push(""+i))}return typeof o=="string"&&o[0]===`
`&&t.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push($t(e));for(var v in i)if(rt.call(i,v)&&(o=i[v],o!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(se(399,e));default:ct(t,s,v,o)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Jo(t,i,e,s);case"html":return r.insertionMode===0&&t.push("<!DOCTYPE html>"),Jo(t,i,e,s);default:if(e.indexOf("-")===-1&&typeof i.is!="string")return Jo(t,i,e,s);t.push($t(e)),l=o=null;for(f in i)if(rt.call(i,f)&&(h=i[f],h!=null))switch(f){case"children":o=h;break;case"dangerouslySetInnerHTML":l=h;break;case"style":tf(t,s,h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ef(f)&&typeof h!="function"&&typeof h!="symbol"&&t.push(" ",f,'="',Qe(h),'"')}return t.push(">"),pr(t,l,o),o}}function Zd(t,e,i){if(t.push('<!--$?--><template id="'),i===null)throw Error(se(395));return t.push(i),t.push('"></template>')}function Rv(t,e,i,s){switch(i.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=s.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=s.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=s.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=s.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=s.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=s.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=s.toString(16),t.push(e),t.push('">');default:throw Error(se(397))}}function zv(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(se(397))}}var Dv=/[<\u2028\u2029]/g;function Qo(t){return JSON.stringify(t).replace(Dv,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Iv(t,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}function qd(t,e,i,s){return i.generateStaticMarkup?(t.push(Qe(e)),!1):(e===""?t=s:(s&&t.push("<!-- -->"),t.push(Qe(e)),t=!0),t)}var ts=Object.assign,Bv=Symbol.for("react.element"),nf=Symbol.for("react.portal"),sf=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),af=Symbol.for("react.provider"),lf=Symbol.for("react.context"),cf=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),uf=Symbol.for("react.memo"),sl=Symbol.for("react.lazy"),Hv=Symbol.for("react.scope"),$v=Symbol.for("react.debug_trace_mode"),Wv=Symbol.for("react.legacy_hidden"),Uv=Symbol.for("react.default_value"),Yd=Symbol.iterator;function Pa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sf:return"Fragment";case nf:return"Portal";case of:return"Profiler";case rf:return"StrictMode";case df:return"Suspense";case hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lf:return(t.displayName||"Context")+".Consumer";case af:return(t._context.displayName||"Context")+".Provider";case cf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uf:return e=t.displayName||null,e!==null?e:Pa(t.type)||"Memo";case sl:e=t._payload,t=t._init;try{return Pa(t(e))}catch{}}return null}var ff={};function Gd(t,e){if(t=t.contextTypes,!t)return ff;var i={},s;for(s in t)i[s]=e[s];return i}var Ri=null;function Qr(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var i=e.parent;if(t===null){if(i!==null)throw Error(se(401))}else{if(i===null)throw Error(se(401));Qr(t,i)}e.context._currentValue2=e.value}}function pf(t){t.context._currentValue2=t.parentValue,t=t.parent,t!==null&&pf(t)}function mf(t){var e=t.parent;e!==null&&mf(e),t.context._currentValue2=t.value}function gf(t,e){if(t.context._currentValue2=t.parentValue,t=t.parent,t===null)throw Error(se(402));t.depth===e.depth?Qr(t,e):gf(t,e)}function xf(t,e){var i=e.parent;if(i===null)throw Error(se(402));t.depth===i.depth?Qr(t,i):xf(t,i),e.context._currentValue2=e.value}function Ar(t){var e=Ri;e!==t&&(e===null?mf(t):t===null?pf(e):e.depth===t.depth?Qr(e,t):e.depth>t.depth?gf(e,t):xf(e,t),Ri=t)}var Kd={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function Xd(t,e,i,s){var r=t.state!==void 0?t.state:null;t.updater=Kd,t.props=i,t.state=r;var o={queue:[],replace:!1};t._reactInternals=o;var l=e.contextType;if(t.context=typeof l=="object"&&l!==null?l._currentValue2:s,l=e.getDerivedStateFromProps,typeof l=="function"&&(l=l(i,r),r=l==null?r:ts({},r,l),t.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&Kd.enqueueReplaceState(t,t.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,l=o.replace,o.queue=null,o.replace=!1,l&&e.length===1)t.state=e[0];else{for(o=l?e[0]:t.state,r=!0,l=l?1:0;l<e.length;l++){var h=e[l];h=typeof h=="function"?h.call(t,o,i,s):h,h!=null&&(r?(r=!1,o=ts({},o,h)):ts(o,h))}t.state=o}else o.queue=null}var Vv={id:1,overflow:""};function Ta(t,e,i){var s=t.id;t=t.overflow;var r=32-mr(s)-1;s&=~(1<<r),i+=1;var o=32-mr(e)+r;if(30<o){var l=r-r%5;return o=(s&(1<<l)-1).toString(32),s>>=l,r-=l,{id:1<<32-mr(e)+r|i<<r|s,overflow:o+t}}return{id:1<<o|i<<r|s,overflow:t}}var mr=Math.clz32?Math.clz32:Yv,Zv=Math.log,qv=Math.LN2;function Yv(t){return t>>>=0,t===0?32:31-(Zv(t)/qv|0)|0}function Gv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kv=typeof Object.is=="function"?Object.is:Gv,ri=null,rl=null,gr=null,Ne=null,Un=!1,Fr=!1,ds=0,mi=null,eo=0;function Li(){if(ri===null)throw Error(se(321));return ri}function Jd(){if(0<eo)throw Error(se(312));return{memoizedState:null,queue:null,next:null}}function ol(){return Ne===null?gr===null?(Un=!1,gr=Ne=Jd()):(Un=!0,Ne=gr):Ne.next===null?(Un=!1,Ne=Ne.next=Jd()):(Un=!0,Ne=Ne.next),Ne}function al(){rl=ri=null,Fr=!1,gr=null,eo=0,Ne=mi=null}function yf(t,e){return typeof e=="function"?e(t):e}function Qd(t,e,i){if(ri=Li(),Ne=ol(),Un){var s=Ne.queue;if(e=s.dispatch,mi!==null&&(i=mi.get(s),i!==void 0)){mi.delete(s),s=Ne.memoizedState;do s=t(s,i.action),i=i.next;while(i!==null);return Ne.memoizedState=s,[s,e]}return[Ne.memoizedState,e]}return t=t===yf?typeof e=="function"?e():e:i!==void 0?i(e):e,Ne.memoizedState=t,t=Ne.queue={last:null,dispatch:null},t=t.dispatch=Xv.bind(null,ri,t),[Ne.memoizedState,t]}function eh(t,e){if(ri=Li(),Ne=ol(),e=e===void 0?null:e,Ne!==null){var i=Ne.memoizedState;if(i!==null&&e!==null){var s=i[1];e:if(s===null)s=!1;else{for(var r=0;r<s.length&&r<e.length;r++)if(!Kv(e[r],s[r])){s=!1;break e}s=!0}if(s)return i[0]}}return t=t(),Ne.memoizedState=[t,e],t}function Xv(t,e,i){if(25<=eo)throw Error(se(301));if(t===ri)if(Fr=!0,t={action:i,next:null},mi===null&&(mi=new Map),i=mi.get(e),i===void 0)mi.set(e,t);else{for(e=i;e.next!==null;)e=e.next;e.next=t}}function Jv(){throw Error(se(394))}function tr(){}var th={readContext:function(t){return t._currentValue2},useContext:function(t){return Li(),t._currentValue2},useMemo:eh,useReducer:Qd,useRef:function(t){ri=Li(),Ne=ol();var e=Ne.memoizedState;return e===null?(t={current:t},Ne.memoizedState=t):e},useState:function(t){return Qd(yf,t)},useInsertionEffect:tr,useLayoutEffect:function(){},useCallback:function(t,e){return eh(function(){return t},e)},useImperativeHandle:tr,useEffect:tr,useDebugValue:tr,useDeferredValue:function(t){return Li(),t},useTransition:function(){return Li(),[!1,Jv]},useId:function(){var t=rl.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-mr(t)-1)).toString(32)+e;var i=xr;if(i===null)throw Error(se(404));return e=ds++,t=":"+i.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Li(),e(t._source)},useSyncExternalStore:function(t,e,i){if(i===void 0)throw Error(se(407));return i()}},xr=null,ea=Qu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qv(t){return console.error(t),null}function Vn(){}function eb(t,e,i,s,r,o,l,h,u){var f=[],m=new Set;return e={destination:null,responseState:e,progressiveChunkSize:s===void 0?12800:s,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:m,pingedTasks:f,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?Qv:r,onAllReady:Vn,onShellReady:l===void 0?Vn:l,onShellError:Vn,onFatalError:Vn},i=Or(e,0,null,i,!1,!1),i.parentFlushed=!0,t=ll(e,t,null,i,m,ff,null,Vv),f.push(t),e}function ll(t,e,i,s,r,o,l,h){t.allPendingTasks++,i===null?t.pendingRootTasks++:i.pendingTasks++;var u={node:e,ping:function(){var f=t.pingedTasks;f.push(u),f.length===1&&bf(t)},blockedBoundary:i,blockedSegment:s,abortSet:r,legacyContext:o,context:l,treeContext:h};return r.add(u),u}function Or(t,e,i,s,r,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:s,boundary:i,lastPushedText:r,textEmbedded:o}}function hs(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function Rr(t,e){var i=t.onShellError;i(e),i=t.onFatalError,i(e),t.destination!==null?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function ih(t,e,i,s,r){for(ri={},rl=e,ds=0,t=i(s,r);Fr;)Fr=!1,ds=0,eo+=1,Ne=null,t=i(s,r);return al(),t}function nh(t,e,i,s){var r=i.render(),o=s.childContextTypes;if(o!=null){var l=e.legacyContext;if(typeof i.getChildContext!="function")s=l;else{i=i.getChildContext();for(var h in i)if(!(h in o))throw Error(se(108,Pa(s)||"Unknown",h));s=ts({},l,i)}e.legacyContext=s,ht(t,e,r),e.legacyContext=l}else ht(t,e,r)}function sh(t,e){if(t&&t.defaultProps){e=ts({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function La(t,e,i,s,r){if(typeof i=="function")if(i.prototype&&i.prototype.isReactComponent){r=Gd(i,e.legacyContext);var o=i.contextType;o=new i(s,typeof o=="object"&&o!==null?o._currentValue2:r),Xd(o,i,s,r),nh(t,e,o,i)}else{o=Gd(i,e.legacyContext),r=ih(t,e,i,s,o);var l=ds!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)Xd(r,i,s,o),nh(t,e,r,i);else if(l){s=e.treeContext,e.treeContext=Ta(s,1,0);try{ht(t,e,r)}finally{e.treeContext=s}}else ht(t,e,r)}else if(typeof i=="string"){switch(r=e.blockedSegment,o=Ov(r.chunks,i,s,t.responseState,r.formatContext),r.lastPushedText=!1,l=r.formatContext,r.formatContext=Ev(l,i,s),Ma(t,e,o),r.formatContext=l,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push("</",i,">")}r.lastPushedText=!1}else{switch(i){case Wv:case $v:case rf:case of:case sf:ht(t,e,s.children);return;case hf:ht(t,e,s.children);return;case Hv:throw Error(se(343));case df:e:{i=e.blockedBoundary,r=e.blockedSegment,o=s.fallback,s=s.children,l=new Set;var h={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:l,errorDigest:null},u=Or(t,r.chunks.length,h,r.formatContext,!1,!1);r.children.push(u),r.lastPushedText=!1;var f=Or(t,0,null,r.formatContext,!1,!1);f.parentFlushed=!0,e.blockedBoundary=h,e.blockedSegment=f;try{if(Ma(t,e,s),t.responseState.generateStaticMarkup||f.lastPushedText&&f.textEmbedded&&f.chunks.push("<!-- -->"),f.status=1,zr(h,f),h.pendingTasks===0)break e}catch(m){f.status=4,h.forceClientRender=!0,h.errorDigest=hs(t,m)}finally{e.blockedBoundary=i,e.blockedSegment=r}e=ll(t,o,i,u,l,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof i=="object"&&i!==null)switch(i.$$typeof){case cf:if(s=ih(t,e,i.render,s,r),ds!==0){i=e.treeContext,e.treeContext=Ta(i,1,0);try{ht(t,e,s)}finally{e.treeContext=i}}else ht(t,e,s);return;case uf:i=i.type,s=sh(i,s),La(t,e,i,s,r);return;case af:if(r=s.children,i=i._context,s=s.value,o=i._currentValue2,i._currentValue2=s,l=Ri,Ri=s={parent:l,depth:l===null?0:l.depth+1,context:i,parentValue:o,value:s},e.context=s,ht(t,e,r),t=Ri,t===null)throw Error(se(403));s=t.parentValue,t.context._currentValue2=s===Uv?t.context._defaultValue:s,t=Ri=t.parent,e.context=t;return;case lf:s=s.children,s=s(i._currentValue2),ht(t,e,s);return;case sl:r=i._init,i=r(i._payload),s=sh(i,s),La(t,e,i,s,void 0);return}throw Error(se(130,i==null?i:typeof i,""))}}function ht(t,e,i){if(e.node=i,typeof i=="object"&&i!==null){switch(i.$$typeof){case Bv:La(t,e,i.type,i.props,i.ref);return;case nf:throw Error(se(257));case sl:var s=i._init;i=s(i._payload),ht(t,e,i);return}if(Ca(i)){rh(t,e,i);return}if(i===null||typeof i!="object"?s=null:(s=Yd&&i[Yd]||i["@@iterator"],s=typeof s=="function"?s:null),s&&(s=s.call(i))){if(i=s.next(),!i.done){var r=[];do r.push(i.value),i=s.next();while(!i.done);rh(t,e,r)}return}throw t=Object.prototype.toString.call(i),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}typeof i=="string"?(s=e.blockedSegment,s.lastPushedText=qd(e.blockedSegment.chunks,i,t.responseState,s.lastPushedText)):typeof i=="number"&&(s=e.blockedSegment,s.lastPushedText=qd(e.blockedSegment.chunks,""+i,t.responseState,s.lastPushedText))}function rh(t,e,i){for(var s=i.length,r=0;r<s;r++){var o=e.treeContext;e.treeContext=Ta(o,s,r);try{Ma(t,e,i[r])}finally{e.treeContext=o}}}function Ma(t,e,i){var s=e.blockedSegment.formatContext,r=e.legacyContext,o=e.context;try{return ht(t,e,i)}catch(u){if(al(),typeof u=="object"&&u!==null&&typeof u.then=="function"){i=u;var l=e.blockedSegment,h=Or(t,l.chunks.length,null,l.formatContext,l.lastPushedText,!0);l.children.push(h),l.lastPushedText=!1,t=ll(t,e.node,e.blockedBoundary,h,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,i.then(t,t),e.blockedSegment.formatContext=s,e.legacyContext=r,e.context=o,Ar(o)}else throw e.blockedSegment.formatContext=s,e.legacyContext=r,e.context=o,Ar(o),u}}function tb(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,vf(this,e,t)}function _f(t,e,i){var s=t.blockedBoundary;t.blockedSegment.status=3,s===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(s.pendingTasks--,s.forceClientRender||(s.forceClientRender=!0,t=i===void 0?Error(se(432)):i,s.errorDigest=e.onError(t),s.parentFlushed&&e.clientRenderedBoundaries.push(s)),s.fallbackAbortableTasks.forEach(function(r){return _f(r,e,i)}),s.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(s=e.onAllReady,s()))}function zr(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var i=e.children[0];i.id=e.id,i.parentFlushed=!0,i.status===1&&zr(t,i)}else t.completedSegments.push(e)}function vf(t,e,i){if(e===null){if(i.parentFlushed){if(t.completedRootSegment!==null)throw Error(se(389));t.completedRootSegment=i}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=Vn,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(i.parentFlushed&&i.status===1&&zr(e,i),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(tb,t),e.fallbackAbortableTasks.clear()):i.parentFlushed&&i.status===1&&(zr(e,i),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function bf(t){if(t.status!==2){var e=Ri,i=ea.current;ea.current=th;var s=xr;xr=t.responseState;try{var r=t.pingedTasks,o;for(o=0;o<r.length;o++){var l=r[o],h=t,u=l.blockedSegment;if(u.status===0){Ar(l.context);try{ht(h,l,l.node),h.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),l.abortSet.delete(l),u.status=1,vf(h,l.blockedBoundary,u)}catch(w){if(al(),typeof w=="object"&&w!==null&&typeof w.then=="function"){var f=l.ping;w.then(f,f)}else{l.abortSet.delete(l),u.status=4;var m=l.blockedBoundary,x=w,_=hs(h,x);if(m===null?Rr(h,x):(m.pendingTasks--,m.forceClientRender||(m.forceClientRender=!0,m.errorDigest=_,m.parentFlushed&&h.clientRenderedBoundaries.push(m))),h.allPendingTasks--,h.allPendingTasks===0){var v=h.onAllReady;v()}}}finally{}}}r.splice(0,o),t.destination!==null&&cl(t,t.destination)}catch(w){hs(t,w),Rr(t,w)}finally{xr=s,ea.current=i,i===th&&Ar(e)}}}function ir(t,e,i){switch(i.parentFlushed=!0,i.status){case 0:var s=i.id=t.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=s.toString(16),e.push(t),e.push('"></template>');case 1:i.status=2;var r=!0;s=i.chunks;var o=0;i=i.children;for(var l=0;l<i.length;l++){for(r=i[l];o<r.index;o++)e.push(s[o]);r=to(t,e,r)}for(;o<s.length-1;o++)e.push(s[o]);return o<s.length&&(r=e.push(s[o])),r;default:throw Error(se(390))}}function to(t,e,i){var s=i.boundary;if(s===null)return ir(t,e,i);if(s.parentFlushed=!0,s.forceClientRender)return t.responseState.generateStaticMarkup||(s=s.errorDigest,e.push("<!--$!-->"),e.push("<template"),s&&(e.push(' data-dgst="'),s=Qe(s),e.push(s),e.push('"')),e.push("></template>")),ir(t,e,i),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t;if(0<s.pendingTasks){s.rootSegmentID=t.nextSegmentId++,0<s.completedSegments.length&&t.partialBoundaries.push(s);var r=t.responseState,o=r.nextSuspenseID++;return r=r.boundaryPrefix+o.toString(16),s=s.id=r,Zd(e,t.responseState,s),ir(t,e,i),e.push("<!--/$-->")}if(s.byteSize>t.progressiveChunkSize)return s.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(s),Zd(e,t.responseState,s.id),ir(t,e,i),e.push("<!--/$-->");if(t.responseState.generateStaticMarkup||e.push("<!--$-->"),i=s.completedSegments,i.length!==1)throw Error(se(391));return to(t,e,i[0]),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t}function oh(t,e,i){return Rv(e,t.responseState,i.formatContext,i.id),to(t,e,i),zv(e,i.formatContext)}function ah(t,e,i){for(var s=i.completedSegments,r=0;r<s.length;r++)wf(t,e,i,s[r]);if(s.length=0,t=t.responseState,s=i.id,i=i.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),s===null)throw Error(se(395));return i=i.toString(16),e.push(s),e.push('","'),e.push(t.segmentPrefix),e.push(i),e.push('")<\/script>')}function wf(t,e,i,s){if(s.status===2)return!0;var r=s.id;if(r===-1){if((s.id=i.rootSegmentID)===-1)throw Error(se(392));return oh(t,e,s)}return oh(t,e,s),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),r=r.toString(16),e.push(r),e.push('","'),e.push(t.placeholderPrefix),e.push(r),e.push('")<\/script>')}function cl(t,e){try{var i=t.completedRootSegment;if(i!==null&&t.pendingRootTasks===0){to(t,e,i),t.completedRootSegment=null;var s=t.responseState.bootstrapChunks;for(i=0;i<s.length-1;i++)e.push(s[i]);i<s.length&&e.push(s[i])}var r=t.clientRenderedBoundaries,o;for(o=0;o<r.length;o++){var l=r[o];s=e;var h=t.responseState,u=l.id,f=l.errorDigest,m=l.errorMessage,x=l.errorComponentStack;if(s.push(h.startInlineScript),h.sentClientRenderFunction?s.push('$RX("'):(h.sentClientRenderFunction=!0,s.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),u===null)throw Error(se(395));if(s.push(u),s.push('"'),f||m||x){s.push(",");var _=Qo(f||"");s.push(_)}if(m||x){s.push(",");var v=Qo(m||"");s.push(v)}if(x){s.push(",");var w=Qo(x);s.push(w)}if(!s.push(")<\/script>")){t.destination=null,o++,r.splice(0,o);return}}r.splice(0,o);var b=t.completedBoundaries;for(o=0;o<b.length;o++)if(!ah(t,e,b[o])){t.destination=null,o++,b.splice(0,o);return}b.splice(0,o);var k=t.partialBoundaries;for(o=0;o<k.length;o++){var C=k[o];e:{r=t,l=e;var T=C.completedSegments;for(h=0;h<T.length;h++)if(!wf(r,l,C,T[h])){h++,T.splice(0,h);var M=!1;break e}T.splice(0,h),M=!0}if(!M){t.destination=null,o++,k.splice(0,o);return}}k.splice(0,o);var z=t.completedBoundaries;for(o=0;o<z.length;o++)if(!ah(t,e,z[o])){t.destination=null,o++,z.splice(0,o);return}z.splice(0,o)}finally{t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.push(null)}}function ib(t,e){try{var i=t.abortableTasks;i.forEach(function(s){return _f(s,t,e)}),i.clear(),t.destination!==null&&cl(t,t.destination)}catch(s){hs(t,s),Rr(t,s)}}function nb(){}function kf(t,e,i,s){var r=!1,o=null,l="",h={push:function(f){return f!==null&&(l+=f),!0},destroy:function(f){r=!0,o=f}},u=!1;if(t=eb(t,Iv(i,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,nb,void 0,function(){u=!0}),bf(t),ib(t,s),t.status===1)t.status=2,h.destroy(t.fatalError);else if(t.status!==2&&t.destination===null){t.destination=h;try{cl(t,h)}catch(f){hs(t,f),Rr(t,f)}}if(r)throw o;if(!u)throw Error(se(426));return l}pn.renderToNodeStream=function(){throw Error(se(207))};pn.renderToStaticMarkup=function(t,e){return kf(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};pn.renderToStaticNodeStream=function(){throw Error(se(208))};pn.renderToString=function(t,e){return kf(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};pn.version="18.3.1";var dl={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=D;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ut=null,ft=0;function U(t,e){if(e.length!==0)if(512<e.length)0<ft&&(t.enqueue(new Uint8Array(ut.buffer,0,ft)),ut=new Uint8Array(512),ft=0),t.enqueue(e);else{var i=ut.length-ft;i<e.length&&(i===0?t.enqueue(ut):(ut.set(e.subarray(0,i),ft),t.enqueue(ut),e=e.subarray(i)),ut=new Uint8Array(512),ft=0),ut.set(e,ft),ft+=e.length}}function Te(t,e){return U(t,e),!0}function lh(t){ut&&0<ft&&(t.enqueue(new Uint8Array(ut.buffer,0,ft)),ut=null,ft=0)}var Nf=new TextEncoder;function ce(t){return Nf.encode(t)}function I(t){return Nf.encode(t)}function Sf(t,e){typeof t.error=="function"?t.error(e):t.close()}var ot=Object.prototype.hasOwnProperty,sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},dh={};function Cf(t){return ot.call(dh,t)?!0:ot.call(ch,t)?!1:sb.test(t)?dh[t]=!0:(ch[t]=!0,!1)}function tt(t,e,i,s,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hl=/[\-:]([a-z])/g;function ul(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hl,ul);qe[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hl,ul);qe[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hl,ul);qe[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(t){rb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yr[e]=yr[t]})});var ob=/["'&<>]/;function Ve(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=ob.exec(t);if(e){var i="",s,r=0;for(s=e.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==s&&(i+=t.substring(r,s)),r=s+1,i+=e}t=r!==s?i+t.substring(r,s):i}return t}var ab=/([A-Z])/g,lb=/^ms-/,Ea=Array.isArray,cb=I("<script>"),db=I("<\/script>"),hb=I('<script src="'),ub=I('<script type="module" src="'),hh=I('" async=""><\/script>'),fb=/(<\/|<)(s)(cript)/gi;function pb(t,e,i,s){return""+e+(i==="s"?"\\u0073":"\\u0053")+s}function mb(t,e,i,s,r){t=t===void 0?"":t,e=e===void 0?cb:I('<script nonce="'+Ve(e)+'">');var o=[];if(i!==void 0&&o.push(e,ce((""+i).replace(fb,pb)),db),s!==void 0)for(i=0;i<s.length;i++)o.push(hb,ce(Ve(s[i])),hh);if(r!==void 0)for(s=0;s<r.length;s++)o.push(ub,ce(Ve(r[s])),hh);return{bootstrapChunks:o,startInlineScript:e,placeholderPrefix:I(t+"P:"),segmentPrefix:I(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Wt(t,e){return{insertionMode:t,selectedValue:e}}function gb(t){return Wt(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function xb(t,e,i){switch(e){case"select":return Wt(1,i.value!=null?i.value:i.defaultValue);case"svg":return Wt(2,null);case"math":return Wt(3,null);case"foreignObject":return Wt(1,null);case"table":return Wt(4,null);case"thead":case"tbody":case"tfoot":return Wt(5,null);case"colgroup":return Wt(7,null);case"tr":return Wt(6,null)}return 4<=t.insertionMode||t.insertionMode===0?Wt(1,null):t}var fl=I("<!-- -->");function uh(t,e,i,s){return e===""?s:(s&&t.push(fl),t.push(ce(Ve(e))),!0)}var fh=new Map,yb=I(' style="'),ph=I(":"),_b=I(";");function Pf(t,e,i){if(typeof i!="object")throw Error(ae(62));e=!0;for(var s in i)if(ot.call(i,s)){var r=i[s];if(r!=null&&typeof r!="boolean"&&r!==""){if(s.indexOf("--")===0){var o=ce(Ve(s));r=ce(Ve((""+r).trim()))}else{o=s;var l=fh.get(o);l!==void 0||(l=I(Ve(o.replace(ab,"-$1").toLowerCase().replace(lb,"-ms-"))),fh.set(o,l)),o=l,r=typeof r=="number"?r===0||ot.call(yr,s)?ce(""+r):ce(r+"px"):ce(Ve((""+r).trim()))}e?(e=!1,t.push(yb,o,ph,r)):t.push(_b,o,ph,r)}}e||t.push(Mi)}var ui=I(" "),on=I('="'),Mi=I('"'),mh=I('=""');function dt(t,e,i,s){switch(i){case"style":Pf(t,e,s);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N"){if(e=qe.hasOwnProperty(i)?qe[i]:null,e!==null){switch(typeof s){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(i=ce(e.attributeName),e.type){case 3:s&&t.push(ui,i,mh);break;case 4:s===!0?t.push(ui,i,mh):s!==!1&&t.push(ui,i,on,ce(Ve(s)),Mi);break;case 5:isNaN(s)||t.push(ui,i,on,ce(Ve(s)),Mi);break;case 6:!isNaN(s)&&1<=s&&t.push(ui,i,on,ce(Ve(s)),Mi);break;default:e.sanitizeURL&&(s=""+s),t.push(ui,i,on,ce(Ve(s)),Mi)}}else if(Cf(i)){switch(typeof s){case"function":case"symbol":return;case"boolean":if(e=i.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(ui,ce(i),on,ce(Ve(s)),Mi)}}}var fi=I(">"),gh=I("/>");function _r(t,e,i){if(e!=null){if(i!=null)throw Error(ae(60));if(typeof e!="object"||!("__html"in e))throw Error(ae(61));e=e.__html,e!=null&&t.push(ce(""+e))}}function vb(t){var e="";return jf.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}var ta=I(' selected=""');function ia(t,e,i,s){t.push(Ut(i));var r=i=null,o;for(o in e)if(ot.call(e,o)){var l=e[o];if(l!=null)switch(o){case"children":i=l;break;case"dangerouslySetInnerHTML":r=l;break;default:dt(t,s,o,l)}}return t.push(fi),_r(t,r,i),typeof i=="string"?(t.push(ce(Ve(i))),null):i}var na=I(`
`),bb=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xh=new Map;function Ut(t){var e=xh.get(t);if(e===void 0){if(!bb.test(t))throw Error(ae(65,t));e=I("<"+t),xh.set(t,e)}return e}var wb=I("<!DOCTYPE html>");function kb(t,e,i,s,r){switch(e){case"select":t.push(Ut("select"));var o=null,l=null;for(m in i)if(ot.call(i,m)){var h=i[m];if(h!=null)switch(m){case"children":o=h;break;case"dangerouslySetInnerHTML":l=h;break;case"defaultValue":case"value":break;default:dt(t,s,m,h)}}return t.push(fi),_r(t,l,o),o;case"option":l=r.selectedValue,t.push(Ut("option"));var u=h=null,f=null,m=null;for(o in i)if(ot.call(i,o)){var x=i[o];if(x!=null)switch(o){case"children":h=x;break;case"selected":f=x;break;case"dangerouslySetInnerHTML":m=x;break;case"value":u=x;default:dt(t,s,o,x)}}if(l!=null)if(i=u!==null?""+u:vb(h),Ea(l)){for(s=0;s<l.length;s++)if(""+l[s]===i){t.push(ta);break}}else""+l===i&&t.push(ta);else f&&t.push(ta);return t.push(fi),_r(t,m,h),h;case"textarea":t.push(Ut("textarea")),m=l=o=null;for(h in i)if(ot.call(i,h)&&(u=i[h],u!=null))switch(h){case"children":m=u;break;case"value":o=u;break;case"defaultValue":l=u;break;case"dangerouslySetInnerHTML":throw Error(ae(91));default:dt(t,s,h,u)}if(o===null&&l!==null&&(o=l),t.push(fi),m!=null){if(o!=null)throw Error(ae(92));if(Ea(m)&&1<m.length)throw Error(ae(93));o=""+m}return typeof o=="string"&&o[0]===`
`&&t.push(na),o!==null&&t.push(ce(Ve(""+o))),null;case"input":t.push(Ut("input")),u=m=h=o=null;for(l in i)if(ot.call(i,l)&&(f=i[l],f!=null))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(ae(399,"input"));case"defaultChecked":u=f;break;case"defaultValue":h=f;break;case"checked":m=f;break;case"value":o=f;break;default:dt(t,s,l,f)}return m!==null?dt(t,s,"checked",m):u!==null&&dt(t,s,"checked",u),o!==null?dt(t,s,"value",o):h!==null&&dt(t,s,"value",h),t.push(gh),null;case"menuitem":t.push(Ut("menuitem"));for(var _ in i)if(ot.call(i,_)&&(o=i[_],o!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(ae(400));default:dt(t,s,_,o)}return t.push(fi),null;case"title":t.push(Ut("title")),o=null;for(x in i)if(ot.call(i,x)&&(l=i[x],l!=null))switch(x){case"children":o=l;break;case"dangerouslySetInnerHTML":throw Error(ae(434));default:dt(t,s,x,l)}return t.push(fi),o;case"listing":case"pre":t.push(Ut(e)),l=o=null;for(u in i)if(ot.call(i,u)&&(h=i[u],h!=null))switch(u){case"children":o=h;break;case"dangerouslySetInnerHTML":l=h;break;default:dt(t,s,u,h)}if(t.push(fi),l!=null){if(o!=null)throw Error(ae(60));if(typeof l!="object"||!("__html"in l))throw Error(ae(61));i=l.__html,i!=null&&(typeof i=="string"&&0<i.length&&i[0]===`
`?t.push(na,ce(i)):t.push(ce(""+i)))}return typeof o=="string"&&o[0]===`
`&&t.push(na),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Ut(e));for(var v in i)if(ot.call(i,v)&&(o=i[v],o!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(ae(399,e));default:dt(t,s,v,o)}return t.push(gh),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ia(t,i,e,s);case"html":return r.insertionMode===0&&t.push(wb),ia(t,i,e,s);default:if(e.indexOf("-")===-1&&typeof i.is!="string")return ia(t,i,e,s);t.push(Ut(e)),l=o=null;for(f in i)if(ot.call(i,f)&&(h=i[f],h!=null))switch(f){case"children":o=h;break;case"dangerouslySetInnerHTML":l=h;break;case"style":Pf(t,s,h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Cf(f)&&typeof h!="function"&&typeof h!="symbol"&&t.push(ui,ce(f),on,ce(Ve(h)),Mi)}return t.push(fi),_r(t,l,o),o}}var jb=I("</"),Nb=I(">"),Sb=I('<template id="'),Cb=I('"></template>'),Pb=I("<!--$-->"),Tb=I('<!--$?--><template id="'),Lb=I('"></template>'),Mb=I("<!--$!-->"),Eb=I("<!--/$-->"),Ab=I("<template"),Fb=I('"'),Ob=I(' data-dgst="');I(' data-msg="');I(' data-stck="');var Rb=I("></template>");function yh(t,e,i){if(U(t,Tb),i===null)throw Error(ae(395));return U(t,i),Te(t,Lb)}var zb=I('<div hidden id="'),Db=I('">'),Ib=I("</div>"),Bb=I('<svg aria-hidden="true" style="display:none" id="'),Hb=I('">'),$b=I("</svg>"),Wb=I('<math aria-hidden="true" style="display:none" id="'),Ub=I('">'),Vb=I("</math>"),Zb=I('<table hidden id="'),qb=I('">'),Yb=I("</table>"),Gb=I('<table hidden><tbody id="'),Kb=I('">'),Xb=I("</tbody></table>"),Jb=I('<table hidden><tr id="'),Qb=I('">'),ew=I("</tr></table>"),tw=I('<table hidden><colgroup id="'),iw=I('">'),nw=I("</colgroup></table>");function sw(t,e,i,s){switch(i.insertionMode){case 0:case 1:return U(t,zb),U(t,e.segmentPrefix),U(t,ce(s.toString(16))),Te(t,Db);case 2:return U(t,Bb),U(t,e.segmentPrefix),U(t,ce(s.toString(16))),Te(t,Hb);case 3:return U(t,Wb),U(t,e.segmentPrefix),U(t,ce(s.toString(16))),Te(t,Ub);case 4:return U(t,Zb),U(t,e.segmentPrefix),U(t,ce(s.toString(16))),Te(t,qb);case 5:return U(t,Gb),U(t,e.segmentPrefix),U(t,ce(s.toString(16))),Te(t,Kb);case 6:return U(t,Jb),U(t,e.segmentPrefix),U(t,ce(s.toString(16))),Te(t,Qb);case 7:return U(t,tw),U(t,e.segmentPrefix),U(t,ce(s.toString(16))),Te(t,iw);default:throw Error(ae(397))}}function rw(t,e){switch(e.insertionMode){case 0:case 1:return Te(t,Ib);case 2:return Te(t,$b);case 3:return Te(t,Vb);case 4:return Te(t,Yb);case 5:return Te(t,Xb);case 6:return Te(t,ew);case 7:return Te(t,nw);default:throw Error(ae(397))}}var ow=I('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),aw=I('$RS("'),lw=I('","'),cw=I('")<\/script>'),dw=I('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),hw=I('$RC("'),uw=I('","'),fw=I('")<\/script>'),pw=I('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),mw=I('$RX("'),gw=I('"'),xw=I(")<\/script>"),sa=I(","),yw=/[<\u2028\u2029]/g;function ra(t){return JSON.stringify(t).replace(yw,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var is=Object.assign,_w=Symbol.for("react.element"),Tf=Symbol.for("react.portal"),Lf=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),Af=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),zf=Symbol.for("react.suspense_list"),Df=Symbol.for("react.memo"),pl=Symbol.for("react.lazy"),vw=Symbol.for("react.scope"),bw=Symbol.for("react.debug_trace_mode"),ww=Symbol.for("react.legacy_hidden"),kw=Symbol.for("react.default_value"),_h=Symbol.iterator;function Aa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lf:return"Fragment";case Tf:return"Portal";case Ef:return"Profiler";case Mf:return"StrictMode";case Rf:return"Suspense";case zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ff:return(t.displayName||"Context")+".Consumer";case Af:return(t._context.displayName||"Context")+".Provider";case Of:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Df:return e=t.displayName||null,e!==null?e:Aa(t.type)||"Memo";case pl:e=t._payload,t=t._init;try{return Aa(t(e))}catch{}}return null}var If={};function vh(t,e){if(t=t.contextTypes,!t)return If;var i={},s;for(s in t)i[s]=e[s];return i}var zi=null;function io(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var i=e.parent;if(t===null){if(i!==null)throw Error(ae(401))}else{if(i===null)throw Error(ae(401));io(t,i)}e.context._currentValue=e.value}}function Bf(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&Bf(t)}function Hf(t){var e=t.parent;e!==null&&Hf(e),t.context._currentValue=t.value}function $f(t,e){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(ae(402));t.depth===e.depth?io(t,e):$f(t,e)}function Wf(t,e){var i=e.parent;if(i===null)throw Error(ae(402));t.depth===i.depth?io(t,i):Wf(t,i),e.context._currentValue=e.value}function Dr(t){var e=zi;e!==t&&(e===null?Hf(t):t===null?Bf(e):e.depth===t.depth?io(e,t):e.depth>t.depth?$f(e,t):Wf(e,t),zi=t)}var bh={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function wh(t,e,i,s){var r=t.state!==void 0?t.state:null;t.updater=bh,t.props=i,t.state=r;var o={queue:[],replace:!1};t._reactInternals=o;var l=e.contextType;if(t.context=typeof l=="object"&&l!==null?l._currentValue:s,l=e.getDerivedStateFromProps,typeof l=="function"&&(l=l(i,r),r=l==null?r:is({},r,l),t.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&bh.enqueueReplaceState(t,t.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,l=o.replace,o.queue=null,o.replace=!1,l&&e.length===1)t.state=e[0];else{for(o=l?e[0]:t.state,r=!0,l=l?1:0;l<e.length;l++){var h=e[l];h=typeof h=="function"?h.call(t,o,i,s):h,h!=null&&(r?(r=!1,o=is({},o,h)):is(o,h))}t.state=o}else o.queue=null}var jw={id:1,overflow:""};function Fa(t,e,i){var s=t.id;t=t.overflow;var r=32-vr(s)-1;s&=~(1<<r),i+=1;var o=32-vr(e)+r;if(30<o){var l=r-r%5;return o=(s&(1<<l)-1).toString(32),s>>=l,r-=l,{id:1<<32-vr(e)+r|i<<r|s,overflow:o+t}}return{id:1<<o|i<<r|s,overflow:t}}var vr=Math.clz32?Math.clz32:Cw,Nw=Math.log,Sw=Math.LN2;function Cw(t){return t>>>=0,t===0?32:31-(Nw(t)/Sw|0)|0}function Pw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tw=typeof Object.is=="function"?Object.is:Pw,oi=null,ml=null,br=null,Se=null,Zn=!1,Ir=!1,us=0,gi=null,no=0;function Ei(){if(oi===null)throw Error(ae(321));return oi}function kh(){if(0<no)throw Error(ae(312));return{memoizedState:null,queue:null,next:null}}function gl(){return Se===null?br===null?(Zn=!1,br=Se=kh()):(Zn=!0,Se=br):Se.next===null?(Zn=!1,Se=Se.next=kh()):(Zn=!0,Se=Se.next),Se}function xl(){ml=oi=null,Ir=!1,br=null,no=0,Se=gi=null}function Uf(t,e){return typeof e=="function"?e(t):e}function jh(t,e,i){if(oi=Ei(),Se=gl(),Zn){var s=Se.queue;if(e=s.dispatch,gi!==null&&(i=gi.get(s),i!==void 0)){gi.delete(s),s=Se.memoizedState;do s=t(s,i.action),i=i.next;while(i!==null);return Se.memoizedState=s,[s,e]}return[Se.memoizedState,e]}return t=t===Uf?typeof e=="function"?e():e:i!==void 0?i(e):e,Se.memoizedState=t,t=Se.queue={last:null,dispatch:null},t=t.dispatch=Lw.bind(null,oi,t),[Se.memoizedState,t]}function Nh(t,e){if(oi=Ei(),Se=gl(),e=e===void 0?null:e,Se!==null){var i=Se.memoizedState;if(i!==null&&e!==null){var s=i[1];e:if(s===null)s=!1;else{for(var r=0;r<s.length&&r<e.length;r++)if(!Tw(e[r],s[r])){s=!1;break e}s=!0}if(s)return i[0]}}return t=t(),Se.memoizedState=[t,e],t}function Lw(t,e,i){if(25<=no)throw Error(ae(301));if(t===oi)if(Ir=!0,t={action:i,next:null},gi===null&&(gi=new Map),i=gi.get(e),i===void 0)gi.set(e,t);else{for(e=i;e.next!==null;)e=e.next;e.next=t}}function Mw(){throw Error(ae(394))}function nr(){}var Sh={readContext:function(t){return t._currentValue},useContext:function(t){return Ei(),t._currentValue},useMemo:Nh,useReducer:jh,useRef:function(t){oi=Ei(),Se=gl();var e=Se.memoizedState;return e===null?(t={current:t},Se.memoizedState=t):e},useState:function(t){return jh(Uf,t)},useInsertionEffect:nr,useLayoutEffect:function(){},useCallback:function(t,e){return Nh(function(){return t},e)},useImperativeHandle:nr,useEffect:nr,useDebugValue:nr,useDeferredValue:function(t){return Ei(),t},useTransition:function(){return Ei(),[!1,Mw]},useId:function(){var t=ml.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-vr(t)-1)).toString(32)+e;var i=wr;if(i===null)throw Error(ae(404));return e=us++,t=":"+i.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Ei(),e(t._source)},useSyncExternalStore:function(t,e,i){if(i===void 0)throw Error(ae(407));return i()}},wr=null,oa=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ew(t){return console.error(t),null}function qn(){}function Aw(t,e,i,s,r,o,l,h,u){var f=[],m=new Set;return e={destination:null,responseState:e,progressiveChunkSize:s===void 0?12800:s,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:m,pingedTasks:f,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?Ew:r,onAllReady:o===void 0?qn:o,onShellReady:l===void 0?qn:l,onShellError:h===void 0?qn:h,onFatalError:u===void 0?qn:u},i=Br(e,0,null,i,!1,!1),i.parentFlushed=!0,t=yl(e,t,null,i,m,If,null,jw),f.push(t),e}function yl(t,e,i,s,r,o,l,h){t.allPendingTasks++,i===null?t.pendingRootTasks++:i.pendingTasks++;var u={node:e,ping:function(){var f=t.pingedTasks;f.push(u),f.length===1&&qf(t)},blockedBoundary:i,blockedSegment:s,abortSet:r,legacyContext:o,context:l,treeContext:h};return r.add(u),u}function Br(t,e,i,s,r,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:s,boundary:i,lastPushedText:r,textEmbedded:o}}function fs(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function Hr(t,e){var i=t.onShellError;i(e),i=t.onFatalError,i(e),t.destination!==null?(t.status=2,Sf(t.destination,e)):(t.status=1,t.fatalError=e)}function Ch(t,e,i,s,r){for(oi={},ml=e,us=0,t=i(s,r);Ir;)Ir=!1,us=0,no+=1,Se=null,t=i(s,r);return xl(),t}function Ph(t,e,i,s){var r=i.render(),o=s.childContextTypes;if(o!=null){var l=e.legacyContext;if(typeof i.getChildContext!="function")s=l;else{i=i.getChildContext();for(var h in i)if(!(h in o))throw Error(ae(108,Aa(s)||"Unknown",h));s=is({},l,i)}e.legacyContext=s,pt(t,e,r),e.legacyContext=l}else pt(t,e,r)}function Th(t,e){if(t&&t.defaultProps){e=is({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function Oa(t,e,i,s,r){if(typeof i=="function")if(i.prototype&&i.prototype.isReactComponent){r=vh(i,e.legacyContext);var o=i.contextType;o=new i(s,typeof o=="object"&&o!==null?o._currentValue:r),wh(o,i,s,r),Ph(t,e,o,i)}else{o=vh(i,e.legacyContext),r=Ch(t,e,i,s,o);var l=us!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)wh(r,i,s,o),Ph(t,e,r,i);else if(l){s=e.treeContext,e.treeContext=Fa(s,1,0);try{pt(t,e,r)}finally{e.treeContext=s}}else pt(t,e,r)}else if(typeof i=="string"){switch(r=e.blockedSegment,o=kb(r.chunks,i,s,t.responseState,r.formatContext),r.lastPushedText=!1,l=r.formatContext,r.formatContext=xb(l,i,s),Ra(t,e,o),r.formatContext=l,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push(jb,ce(i),Nb)}r.lastPushedText=!1}else{switch(i){case ww:case bw:case Mf:case Ef:case Lf:pt(t,e,s.children);return;case zf:pt(t,e,s.children);return;case vw:throw Error(ae(343));case Rf:e:{i=e.blockedBoundary,r=e.blockedSegment,o=s.fallback,s=s.children,l=new Set;var h={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:l,errorDigest:null},u=Br(t,r.chunks.length,h,r.formatContext,!1,!1);r.children.push(u),r.lastPushedText=!1;var f=Br(t,0,null,r.formatContext,!1,!1);f.parentFlushed=!0,e.blockedBoundary=h,e.blockedSegment=f;try{if(Ra(t,e,s),f.lastPushedText&&f.textEmbedded&&f.chunks.push(fl),f.status=1,$r(h,f),h.pendingTasks===0)break e}catch(m){f.status=4,h.forceClientRender=!0,h.errorDigest=fs(t,m)}finally{e.blockedBoundary=i,e.blockedSegment=r}e=yl(t,o,i,u,l,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Of:if(s=Ch(t,e,i.render,s,r),us!==0){i=e.treeContext,e.treeContext=Fa(i,1,0);try{pt(t,e,s)}finally{e.treeContext=i}}else pt(t,e,s);return;case Df:i=i.type,s=Th(i,s),Oa(t,e,i,s,r);return;case Af:if(r=s.children,i=i._context,s=s.value,o=i._currentValue,i._currentValue=s,l=zi,zi=s={parent:l,depth:l===null?0:l.depth+1,context:i,parentValue:o,value:s},e.context=s,pt(t,e,r),t=zi,t===null)throw Error(ae(403));s=t.parentValue,t.context._currentValue=s===kw?t.context._defaultValue:s,t=zi=t.parent,e.context=t;return;case Ff:s=s.children,s=s(i._currentValue),pt(t,e,s);return;case pl:r=i._init,i=r(i._payload),s=Th(i,s),Oa(t,e,i,s,void 0);return}throw Error(ae(130,i==null?i:typeof i,""))}}function pt(t,e,i){if(e.node=i,typeof i=="object"&&i!==null){switch(i.$$typeof){case _w:Oa(t,e,i.type,i.props,i.ref);return;case Tf:throw Error(ae(257));case pl:var s=i._init;i=s(i._payload),pt(t,e,i);return}if(Ea(i)){Lh(t,e,i);return}if(i===null||typeof i!="object"?s=null:(s=_h&&i[_h]||i["@@iterator"],s=typeof s=="function"?s:null),s&&(s=s.call(i))){if(i=s.next(),!i.done){var r=[];do r.push(i.value),i=s.next();while(!i.done);Lh(t,e,r)}return}throw t=Object.prototype.toString.call(i),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}typeof i=="string"?(s=e.blockedSegment,s.lastPushedText=uh(e.blockedSegment.chunks,i,t.responseState,s.lastPushedText)):typeof i=="number"&&(s=e.blockedSegment,s.lastPushedText=uh(e.blockedSegment.chunks,""+i,t.responseState,s.lastPushedText))}function Lh(t,e,i){for(var s=i.length,r=0;r<s;r++){var o=e.treeContext;e.treeContext=Fa(o,s,r);try{Ra(t,e,i[r])}finally{e.treeContext=o}}}function Ra(t,e,i){var s=e.blockedSegment.formatContext,r=e.legacyContext,o=e.context;try{return pt(t,e,i)}catch(u){if(xl(),typeof u=="object"&&u!==null&&typeof u.then=="function"){i=u;var l=e.blockedSegment,h=Br(t,l.chunks.length,null,l.formatContext,l.lastPushedText,!0);l.children.push(h),l.lastPushedText=!1,t=yl(t,e.node,e.blockedBoundary,h,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,i.then(t,t),e.blockedSegment.formatContext=s,e.legacyContext=r,e.context=o,Dr(o)}else throw e.blockedSegment.formatContext=s,e.legacyContext=r,e.context=o,Dr(o),u}}function Fw(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,Zf(this,e,t)}function Vf(t,e,i){var s=t.blockedBoundary;t.blockedSegment.status=3,s===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(s.pendingTasks--,s.forceClientRender||(s.forceClientRender=!0,t=i===void 0?Error(ae(432)):i,s.errorDigest=e.onError(t),s.parentFlushed&&e.clientRenderedBoundaries.push(s)),s.fallbackAbortableTasks.forEach(function(r){return Vf(r,e,i)}),s.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(s=e.onAllReady,s()))}function $r(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var i=e.children[0];i.id=e.id,i.parentFlushed=!0,i.status===1&&$r(t,i)}else t.completedSegments.push(e)}function Zf(t,e,i){if(e===null){if(i.parentFlushed){if(t.completedRootSegment!==null)throw Error(ae(389));t.completedRootSegment=i}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=qn,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(i.parentFlushed&&i.status===1&&$r(e,i),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(Fw,t),e.fallbackAbortableTasks.clear()):i.parentFlushed&&i.status===1&&($r(e,i),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function qf(t){if(t.status!==2){var e=zi,i=oa.current;oa.current=Sh;var s=wr;wr=t.responseState;try{var r=t.pingedTasks,o;for(o=0;o<r.length;o++){var l=r[o],h=t,u=l.blockedSegment;if(u.status===0){Dr(l.context);try{pt(h,l,l.node),u.lastPushedText&&u.textEmbedded&&u.chunks.push(fl),l.abortSet.delete(l),u.status=1,Zf(h,l.blockedBoundary,u)}catch(w){if(xl(),typeof w=="object"&&w!==null&&typeof w.then=="function"){var f=l.ping;w.then(f,f)}else{l.abortSet.delete(l),u.status=4;var m=l.blockedBoundary,x=w,_=fs(h,x);if(m===null?Hr(h,x):(m.pendingTasks--,m.forceClientRender||(m.forceClientRender=!0,m.errorDigest=_,m.parentFlushed&&h.clientRenderedBoundaries.push(m))),h.allPendingTasks--,h.allPendingTasks===0){var v=h.onAllReady;v()}}}finally{}}}r.splice(0,o),t.destination!==null&&_l(t,t.destination)}catch(w){fs(t,w),Hr(t,w)}finally{wr=s,oa.current=i,i===Sh&&Dr(e)}}}function sr(t,e,i){switch(i.parentFlushed=!0,i.status){case 0:var s=i.id=t.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,t=t.responseState,U(e,Sb),U(e,t.placeholderPrefix),t=ce(s.toString(16)),U(e,t),Te(e,Cb);case 1:i.status=2;var r=!0;s=i.chunks;var o=0;i=i.children;for(var l=0;l<i.length;l++){for(r=i[l];o<r.index;o++)U(e,s[o]);r=so(t,e,r)}for(;o<s.length-1;o++)U(e,s[o]);return o<s.length&&(r=Te(e,s[o])),r;default:throw Error(ae(390))}}function so(t,e,i){var s=i.boundary;if(s===null)return sr(t,e,i);if(s.parentFlushed=!0,s.forceClientRender)s=s.errorDigest,Te(e,Mb),U(e,Ab),s&&(U(e,Ob),U(e,ce(Ve(s))),U(e,Fb)),Te(e,Rb),sr(t,e,i);else if(0<s.pendingTasks){s.rootSegmentID=t.nextSegmentId++,0<s.completedSegments.length&&t.partialBoundaries.push(s);var r=t.responseState,o=r.nextSuspenseID++;r=I(r.boundaryPrefix+o.toString(16)),s=s.id=r,yh(e,t.responseState,s),sr(t,e,i)}else if(s.byteSize>t.progressiveChunkSize)s.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(s),yh(e,t.responseState,s.id),sr(t,e,i);else{if(Te(e,Pb),i=s.completedSegments,i.length!==1)throw Error(ae(391));so(t,e,i[0])}return Te(e,Eb)}function Mh(t,e,i){return sw(e,t.responseState,i.formatContext,i.id),so(t,e,i),rw(e,i.formatContext)}function Eh(t,e,i){for(var s=i.completedSegments,r=0;r<s.length;r++)Yf(t,e,i,s[r]);if(s.length=0,t=t.responseState,s=i.id,i=i.rootSegmentID,U(e,t.startInlineScript),t.sentCompleteBoundaryFunction?U(e,hw):(t.sentCompleteBoundaryFunction=!0,U(e,dw)),s===null)throw Error(ae(395));return i=ce(i.toString(16)),U(e,s),U(e,uw),U(e,t.segmentPrefix),U(e,i),Te(e,fw)}function Yf(t,e,i,s){if(s.status===2)return!0;var r=s.id;if(r===-1){if((s.id=i.rootSegmentID)===-1)throw Error(ae(392));return Mh(t,e,s)}return Mh(t,e,s),t=t.responseState,U(e,t.startInlineScript),t.sentCompleteSegmentFunction?U(e,aw):(t.sentCompleteSegmentFunction=!0,U(e,ow)),U(e,t.segmentPrefix),r=ce(r.toString(16)),U(e,r),U(e,lw),U(e,t.placeholderPrefix),U(e,r),Te(e,cw)}function _l(t,e){ut=new Uint8Array(512),ft=0;try{var i=t.completedRootSegment;if(i!==null&&t.pendingRootTasks===0){so(t,e,i),t.completedRootSegment=null;var s=t.responseState.bootstrapChunks;for(i=0;i<s.length-1;i++)U(e,s[i]);i<s.length&&Te(e,s[i])}var r=t.clientRenderedBoundaries,o;for(o=0;o<r.length;o++){var l=r[o];s=e;var h=t.responseState,u=l.id,f=l.errorDigest,m=l.errorMessage,x=l.errorComponentStack;if(U(s,h.startInlineScript),h.sentClientRenderFunction?U(s,mw):(h.sentClientRenderFunction=!0,U(s,pw)),u===null)throw Error(ae(395));U(s,u),U(s,gw),(f||m||x)&&(U(s,sa),U(s,ce(ra(f||"")))),(m||x)&&(U(s,sa),U(s,ce(ra(m||"")))),x&&(U(s,sa),U(s,ce(ra(x)))),Te(s,xw)}r.splice(0,o);var _=t.completedBoundaries;for(o=0;o<_.length;o++)Eh(t,e,_[o]);_.splice(0,o),lh(e),ut=new Uint8Array(512),ft=0;var v=t.partialBoundaries;for(o=0;o<v.length;o++){var w=v[o];e:{r=t,l=e;var b=w.completedSegments;for(h=0;h<b.length;h++)if(!Yf(r,l,w,b[h])){h++,b.splice(0,h);var k=!1;break e}b.splice(0,h),k=!0}if(!k){t.destination=null,o++,v.splice(0,o);return}}v.splice(0,o);var C=t.completedBoundaries;for(o=0;o<C.length;o++)Eh(t,e,C[o]);C.splice(0,o)}finally{lh(e),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.close()}}function Ah(t,e){try{var i=t.abortableTasks;i.forEach(function(s){return Vf(s,t,e)}),i.clear(),t.destination!==null&&_l(t,t.destination)}catch(s){fs(t,s),Hr(t,s)}}dl.renderToReadableStream=function(t,e){return new Promise(function(i,s){var r,o,l=new Promise(function(m,x){o=m,r=x}),h=Aw(t,mb(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),gb(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,o,function(){var m=new ReadableStream({type:"bytes",pull:function(x){if(h.status===1)h.status=2,Sf(x,h.fatalError);else if(h.status!==2&&h.destination===null){h.destination=x;try{_l(h,x)}catch(_){fs(h,_),Hr(h,_)}}},cancel:function(){Ah(h)}},{highWaterMark:0});m.allReady=l,i(m)},function(m){l.catch(function(){}),s(m)},r);if(e&&e.signal){var u=e.signal,f=function(){Ah(h,u.reason),u.removeEventListener("abort",f)};u.addEventListener("abort",f)}qf(h)})};dl.version="18.3.1";var mn,Gf;mn=pn,Gf=dl;mn.version;mn.renderToString;mn.renderToStaticMarkup;mn.renderToNodeStream;mn.renderToStaticNodeStream;Gf.renderToReadableStream;const Ow=async(t,e)=>{try{const s=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=deeaa95f4b7b2543dc8c3d9cb96396c6&units=metric`,r=await fetch(s);if(!r.ok)throw new Error(`Weather API error: ${r.status}`);const o=await r.json();return{temp:o.main.temp,feelsLike:o.main.feels_like,humidity:o.main.humidity,pressure:o.main.pressure,windSpeed:o.wind.speed,windDirection:o.wind.deg,clouds:o.clouds.all,precipitation:o.rain&&o.rain["1h"]||0,weatherDesc:o.weather[0].description,weatherIcon:o.weather[0].icon,timezone:o.timezone,location:o.name,country:o.sys.country,timestamp:o.dt}}catch(i){throw console.error("Failed to fetch weather data:",i),i}},Rw=async(t,e,i,s="corn")=>{await new Promise(C=>setTimeout(C,500));const r={corn:{tempOptimal:25,tempMin:10,tempMax:35,waterOptimal:25,waterMin:10,sunOptimal:80},wheat:{tempOptimal:20,tempMin:5,tempMax:30,waterOptimal:18,waterMin:8,sunOptimal:75},soybeans:{tempOptimal:28,tempMin:15,tempMax:38,waterOptimal:22,waterMin:12,sunOptimal:85},rice:{tempOptimal:30,tempMin:18,tempMax:40,waterOptimal:30,waterMin:20,sunOptimal:70}},o=r[s]||r.corn,l=aa(i.temp,o.tempMin,o.tempOptimal,o.tempMax),h=i.precipitation||0,u=aa(h,o.waterMin,o.waterOptimal,o.waterOptimal*2),m=100-(i.clouds||0),x=aa(m,0,o.sunOptimal,100),_=(l*.4+u*.4+x*.2)*100,v=["germination","vegetative","flowering","yield formation","ripening"],w=Math.min(Math.floor(_/20),4),b=Math.min(85+Math.random()*15,_),k=Math.min(90+Math.random()*10,_);return{cropType:s,growthPercentage:Math.round(_),growthStage:v[w],healthIndex:Math.round(b),yieldEstimate:Math.round(k),temperatureFactor:Math.round(l*100),waterFactor:Math.round(u*100),sunlightFactor:Math.round(x*100),details:{gdd:Dw(t),daysSincePlanting:Math.floor(30+Math.random()*50),estimatedHarvestDate:Iw(),notes:Bw(_)}}},zw=async(t,e,i,s=null)=>{await new Promise(B=>setTimeout(B,600));const r=s||{type:"loam",moisture:45+Math.random()*20,fieldCapacity:30,wiltingPoint:12,depth:30},o=i.temp||20,l=i.windSpeed||5,h=i.humidity||60,u=i.clouds||30,f=.0135*o*(1+.01*l)*(1-h/200)*(1-u/300),m=i.precipitation||0,x=r.moisture,_=r.fieldCapacity,v=r.wiltingPoint,k=(_-v)*.5,C=x-v;let T=!1,M=0;C<k&&(T=!0,M=(_-x)*(r.depth/10)),m>0&&(M=Math.max(0,M-m),M<2&&(T=!1));const z=f,F=T?0:Math.floor((C-k)/z);return{soilMoisture:Math.round(x),fieldCapacity:_,wiltingPoint:v,evapotranspiration:Math.round(f*10)/10,waterDeficit:Math.max(0,Math.round((k-C)*10)/10),irrigationNeeded:T,irrigationAmount:Math.round(M),precipitationForecast:m,daysUntilIrrigation:F,wateringRecommendation:Hw(T,M,F),soilType:r.type,waterSavingsPotential:$w(M,m)}};function aa(t,e,i,s){return t<e||t>s?0:t<=i?(t-e)/(i-e):1-(t-i)/(s-i)}function Dw(t,e){const i=800-Math.abs(t-40)*10;return Math.round(i+(Math.random()*200-100))}function Iw(){const t=new Date,e=30+Math.floor(Math.random()*60),i=new Date(t);return i.setDate(t.getDate()+e),i.toISOString().split("T")[0]}function Bw(t){return t<20?"Early growth stage. Monitor soil temperature and moisture for optimal germination.":t<40?"Vegetative growth progressing. Watch for pest pressure in emerging foliage.":t<60?"Flowering stage beginning. Critical period for water and nutrient management.":t<80?"Yield formation in progress. Maintain consistent irrigation for optimal development.":"Approaching harvest. Monitor moisture content and weather conditions."}function Hw(t,e,i){return t?`Apply approximately ${e}mm of water to reach optimal soil moisture.`:i<=2?`Irrigation will be needed in approximately ${i} days.`:"Soil moisture adequate. No irrigation needed at this time."}function $w(t,e){if(e>0&&t>0){const i=Math.min(100,Math.round(e/t*100));return{percentage:i,volume:Math.round(t*(i/100)),recommendation:"Consider delaying irrigation to take advantage of forecast precipitation."}}else return{percentage:0,volume:0,recommendation:"No significant water savings opportunities identified."}}const Ww=async(t,e)=>{try{const s=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=deeaa95f4b7b2543dc8c3d9cb96396c6&units=metric`,r=await fetch(s);if(!r.ok)throw new Error(`Weather API error: ${r.status}`);const o=await r.json();return{temp:o.main.temp,feelsLike:o.main.feels_like,humidity:o.main.humidity,pressure:o.main.pressure,windSpeed:o.wind.speed,windDirection:o.wind.deg,clouds:o.clouds.all,precipitation:o.rain&&o.rain["1h"]||0,weatherDesc:o.weather[0].description,weatherIcon:o.weather[0].icon,timezone:o.timezone,location:o.name,country:o.sys.country,timestamp:o.dt}}catch(i){return console.error("Failed to fetch weather data:",i),{temp:22,feelsLike:24,humidity:65,pressure:1013,windSpeed:3.5,windDirection:180,clouds:40,precipitation:0,weatherDesc:"Partly cloudy",weatherIcon:"02d",timezone:0,location:"Default City",country:"US",timestamp:Math.floor(Date.now()/1e3)}}},Kf="d870e253241b4df98dd3fe3356554376",Xf="https://api.trade.gov/v1",Uw=async(t={})=>{try{const e=new URLSearchParams({api_key:Kf,...t}),i=await fetch(`${Xf}/trade_events/search?${e}`);if(!i.ok)throw new Error(`Trade API error: ${i.status}`);return await i.json()}catch(e){throw console.error("Failed to fetch trade events:",e),e}},Vw=async(t,e)=>{try{const i=new URLSearchParams({api_key:Kf,country:t,hs_code:e}),s=await fetch(`${Xf}/tariff_rates/search?${i}`);if(!s.ok)throw new Error(`Tariff API error: ${s.status}`);return await s.json()}catch(i){throw console.error("Failed to fetch tariff rates:",i),i}},Zw=t=>!t||!t.results?null:{type:"FeatureCollection",features:t.results.filter(i=>i.venues&&i.venues[0]&&i.venues[0].latitude&&i.venues[0].longitude).map(i=>{const s=i.venues[0];return{type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(s.longitude),parseFloat(s.latitude)]},properties:{id:i.id,name:i.name,description:i.description||"",startDate:i.start_date,endDate:i.end_date,cost:i.cost,registrationLink:i.registration_link,website:i.website_link,industry:i.industries?i.industries.map(r=>r.name).join(", "):"",venue:s.name,city:s.city,country:s.country,state:s.state,eventType:i.event_type}}})};var Jf={};const qw=Jf.REACT_APP_SUPABASE_URL||"https://agriweatherpro.supabase.co",Yw=Jf.REACT_APP_SUPABASE_KEY||"your_anon_key_here",Gw=vm(qw,Yw),Fh=t=>{const e="https://tile.openweathermap.org/map",i="deeaa95f4b7b2543dc8c3d9cb96396c6",s=Date.now();return`${e}/${t}/{z}/{x}/{y}.png?appid=${i}&_t=${s}`},Kw=new Bt.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),la=t=>t*9/5+32,Oh=(t,e)=>{let i={width:"48px",height:"48px",border:"2px solid #fff"};if(e)return{...i,backgroundColor:"#3B82F6"};switch(t){case"temp_new":return{...i,backgroundColor:"#FFEBEE"};case"precipitation_new":return{...i,backgroundColor:"#E3F2FD"};case"wind_new":return{...i,backgroundColor:"#F5F5F5"};case"clouds_new":return{...i,backgroundColor:"#ECEFF1"};case"pressure_new":return{...i,backgroundColor:"#EDE7F6"};case"soil_moisture":return{...i,backgroundColor:"#E1F5FE"};case"irrigation_needs":return{...i,backgroundColor:"#E1F5FE"};case"crop_growth":return{...i,backgroundColor:"#E8F5E9"};default:return i}},Xw=({location:t={lat:51.505,lng:-.09,name:"London"},mode:e="weather"})=>{const[i,s]=D.useState("temp_new"),[r]=D.useState(()=>`map-${Math.random().toString(36).substring(2,9)}`),[o,l]=D.useState(!1),[h,u]=D.useState(""),[f,m]=D.useState([]),[x,_]=D.useState(!1),[v,w]=D.useState({weatherDesc:"Partly cloudy",tempC:22,tempF:72}),[b,k]=D.useState(!0),[C,T]=D.useState(!0),[M,z]=D.useState(!1),[F,B]=D.useState(null),[W,H]=D.useState([]),[J,ue]=D.useState([]),[Y,te]=D.useState([]),[Ie,Ee]=D.useState([]),[ke,me]=D.useState(null),[Re,G]=D.useState(!1),[We,q]=D.useState(t);We!=null&&We.name||t!=null&&t.name,We!=null&&We.lat||t!=null&&t.lat,We!=null&&We.lng||t!=null&&t.lng,D.useEffect(()=>{q(t)},[t]),ai(v.tempC);const V=D.useRef(null),xe=D.useRef({});D.useEffect(()=>{const N=()=>{window.L?(console.log("Leaflet library loaded"),z(!0),Yt()):(console.log("Waiting for Leaflet..."),setTimeout(N,500))};N()},[]),D.useEffect(()=>{(async()=>{T(!0);try{console.log("Fetching weather for:",currentLocation.lat,currentLocation.lng);const A=await Ww(currentLocation.lat,currentLocation.lng);console.log("Weather data received:",A),w(A),window.__weatherwidget_init&&window.__weatherwidget_init()}catch(A){console.error("Failed to fetch current weather:",A)}finally{T(!1)}})()},[currentLocation.lat,currentLocation.lng]);const ge=(()=>{const N=[{name:"Temperature",id:"temp_new",icon:c.jsx(Dh,{color:"#FF5722"}),premium:!1,tooltip:"View temperature data across your region"},{name:"Precipitation",id:"precipitation_new",icon:c.jsx(It,{color:"#4FC3F7"}),premium:!1,tooltip:"View precipitation and rainfall patterns"},{name:"Wind speed",id:"wind_new",icon:c.jsx(Ih,{color:"#90A4AE"}),premium:!1,tooltip:"Check wind speed and direction forecasts"},{name:"Clouds",id:"clouds_new",icon:c.jsx(Pt,{color:"#78909C"}),premium:!1,tooltip:"See cloud coverage and patterns"}];return e==="irrigation"?[...N,{name:"Soil Moisture",id:"soil_moisture",icon:c.jsx(Dn,{color:"#2196F3"}),premium:!1,tooltip:"Monitor soil moisture levels for optimal irrigation planning"},{name:"Irrigation Needs",id:"irrigation_needs",icon:c.jsx(bm,{color:"#1976D2"}),premium:!1,tooltip:"See recommended irrigation schedules based on weather conditions"},{name:"Crop Growth",id:"crop_growth",icon:c.jsx(gc,{color:"#43A047"}),premium:!1,tooltip:"Track crop growth stages and development based on weather conditions"}]:e==="trade"?[...N,{name:"Trade Events",id:"trade_events",icon:c.jsx(wm,{color:"#8D6E63"}),premium:!1,tooltip:"View upcoming agricultural trade events and expos"},{name:"Tariffs",id:"tariffs",icon:c.jsx(km,{color:"#FF9800"}),premium:!1,tooltip:"Access current tariff information for agricultural exports and imports"},{name:"Export Markets",id:"export_markets",icon:c.jsx(jm,{color:"#5E35B1"}),premium:!1,tooltip:"Explore potential export markets for your agricultural products"}]:[...N,{name:"Pressure",id:"pressure_new",icon:c.jsx(Nm,{color:"#7E57C2"}),premium:!1,tooltip:"View atmospheric pressure patterns and changes"}]})(),he=N=>{if(N){console.log("Location selected:",N);try{setCurrentLocation({lat:N.lat,lng:N.lon,name:N.name})}catch(A){console.error("Error updating map location:",A)}}},Q=N=>{if(console.log(`Changing to layer: ${N}`),!V.current){console.log("Map not initialized yet, cannot change layers");return}try{const A=V.current;if(!A.hasLayer||!A.removeLayer||!A.addLayer){console.error("Map object is missing critical methods");return}if(!A._loaded){console.log("Map not fully loaded, delaying layer change"),setTimeout(()=>Q(N),500);return}const R=["tilePane","overlayPane","shadowPane","markerPane","tooltipPane","popupPane"];let K=!0;R.forEach(ve=>{A.getPane(ve)||(K=!1,console.log(`Creating missing pane: ${ve}`),A.createPane(ve))}),K||console.log("Created missing panes, reinitializing layer"),s(N);const ee=Fh(N),be=xe.current[i];if(be&&A.hasLayer(be)){console.log(`Removing existing layer: ${i}`);try{be.off&&be.off(),be._removeAllTiles&&be._removeAllTiles(),setTimeout(()=>{try{A.removeLayer(be)}catch(ve){console.warn("Error removing layer (already handled):",ve)}},100)}catch(ve){console.warn("Error preparing layer for removal:",ve)}}setTimeout(()=>{try{console.log(`Creating layer with URL: ${ee}`);const ve=Bt.tileLayer(ee,{attribution:"© OpenWeatherMap",keepBuffer:4,updateWhenIdle:!0,updateWhenZooming:!1,maxNativeZoom:8,crossOrigin:!0,tileSize:256,className:"weather-layer",pane:"tilePane",errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAQAAAD2e2DtAAAAh0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8G8qUAABQTVXwAAAAABJRU5ErkJggg=="});ve.on("tileerror",it=>{console.warn(`Tile error on layer ${N}:`,it),setTimeout(()=>{try{A&&A.hasLayer(ve)&&(console.log(`Retrying tile load for layer ${N}`),ve.redraw())}catch(de){console.error("Error retrying tile load:",de)}},500)}),xe.current[N]=ve,ve.addTo(A),A.invalidateSize(!0),console.log(`Layer ${N} added successfully`)}catch(ve){console.error("Error changing layer:",ve);try{console.log("Attempting recovery..."),A.invalidateSize(!0)}catch(it){console.error("Recovery failed:",it)}}},200)}catch(A){console.error("Critical error in handleLayerChange:",A)}};D.useEffect(()=>{e==="weather"&&!["temp_new","precipitation_new","wind_new","clouds_new","pressure_new"].includes(i)?s("temp_new"):e==="irrigation"&&!["precipitation_new","soil_moisture","irrigation_needs","crop_growth"].includes(i)?s("precipitation_new"):e==="trade"&&!["temp_new","precipitation_new","trade_events","tariffs","export_markets"].includes(i)&&s("trade_events")},[e]);const jt=N=>{if(N.key==="Enter"){const A=searchValue.trim();A.length>2&&gn(A)}},Mt=N=>{he({name:N.name,lat:N.lat,lng:N.lng}),m([]),setSearchValue("")},Ui=(N,A)=>currentLocation&&currentLocation[N]||A,Et=Ui("name","Current Location"),qt=Ui("lat",51.505),Nt=Ui("lng",-.09),gn=async N=>{try{const R=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${N}&limit=5&appid=deeaa95f4b7b2543dc8c3d9cb96396c6`);if(!R.ok)throw new Error("Failed to fetch location suggestions");const ee=(await R.json()).map(be=>({name:be.name+(be.state?`, ${be.state}`:"")+(be.country?`, ${be.country}`:""),lat:be.lat,lng:be.lon}));console.log("Location suggestions:",ee),m(ee)}catch(A){console.error("Error fetching location suggestions:",A),m([])}},xn=()=>{k(!b),window.__weatherwidget_init&&setTimeout(()=>{window.__weatherwidget_init()},100)},ai=N=>{if(!N&&N!==0)return"N/A";const A=b?N:la(N),R=b?"°C":"°F";return`${Math.round(A*10)/10}${R}`},Vi=ai(v.temp);ai(v.feelsLike),D.useEffect(()=>{if(!document.getElementById("weatherwidget-io-js")&&currentLocation){const N=document.createElement("script");N.src="https://weatherwidget.io/js/widget.min.js",N.id="weatherwidget-io-js",N.async=!0,N.onload=()=>{console.log("Weather widget script loaded"),window.__weatherwidget_init&&window.__weatherwidget_init()},document.body.appendChild(N)}else window.__weatherwidget_init&&(console.log("Reinitializing weather widget"),setTimeout(()=>{window.__weatherwidget_init()},500));return()=>{}},[currentLocation]),D.useEffect(()=>{const N=setTimeout(()=>{window.__weatherwidget_init&&(console.log("Forced reinitialization of weather widget"),window.__weatherwidget_init())},2e3);return()=>clearTimeout(N)},[]),D.useEffect(()=>{window.__weatherwidget_init&&setTimeout(()=>{window.__weatherwidget_init()},100)},[b]),D.useEffect(()=>{const N=localStorage.getItem("darkMode")==="true",A=document.documentElement.classList.contains("dark");setIsDarkMode(N||A);const R=()=>{const ee=localStorage.getItem("darkMode")==="true"||document.documentElement.classList.contains("dark");setIsDarkMode(ee),window.__weatherwidget_init&&window.__weatherwidget_init()},K=new MutationObserver(R);return K.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("storage",R),()=>{K.disconnect(),window.removeEventListener("storage",R)}},[]);const Zi={temp_new:{title:"Temperature",content:()=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Temperature Layer"}),c.jsx("p",{className:"text-sm",children:"Displays current temperature distribution. Colors range from blue (cold) to red (hot)."}),c.jsxs("div",{className:"mt-2",children:[c.jsxs("p",{className:"text-xs",children:["Current temperature: ",b?`${v.temp}°C`:`${la(v.temp)}°F`]}),c.jsxs("p",{className:"text-xs",children:["Feels like: ",b?`${v.feelsLike}°C`:`${la(v.feelsLike)}°F`]})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Active Temperature Triggers"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"font-medium",children:"High Temp Alert"}),c.jsxs("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded",children:["> ",b?"30°C":"86°F"]})]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"font-medium",children:"Frost Warning"}),c.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:["< ",b?"0°C":"32°F"]})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-blue-500 hover:bg-blue-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>window.location.href="/dashboard/triggers",children:"Manage Temperature Triggers"})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Temperature Reports"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"Monthly Avg:"}),c.jsx("span",{className:"font-medium",children:b?"24.5°C":"76.1°F"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"Historical High:"}),c.jsx("span",{className:"font-medium",children:b?"38.2°C":"100.8°F"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Compare to last year:"}),c.jsxs("span",{className:"font-medium text-red-500",children:["+2.1",b?"°C":"°F"]})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-green-500 hover:bg-green-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>{console.log("View Temperature Reports button clicked"),window.location.pathname==="/dashboard"?window.location.hash="reports":window.location.href="/dashboard#reports"},children:"View Temperature Reports"})]})]})},precipitation_new:{title:"Precipitation",content:()=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Precipitation Layer"}),c.jsx("p",{className:"text-sm",children:"Shows precipitation levels. Colors range from light blue (light rain) to dark blue (heavy rain)."}),c.jsxs("div",{className:"mt-2",children:[c.jsxs("p",{className:"text-xs",children:["Current precipitation: ",v.precipitation," mm"]}),c.jsxs("div",{className:"mt-1 flex items-center text-xs",children:[c.jsx("span",{className:"mr-1",children:"Forecast:"}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-sm",children:"Today: 5mm"}),c.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-sm",children:"Tomorrow: 12mm"})]})]})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Active Precipitation Triggers"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"font-medium",children:"Heavy Rain Alert"}),c.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:"> 25mm/day"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"font-medium",children:"Flood Warning"}),c.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded",children:"> 50mm/day"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium",children:"Drought Alert"}),c.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded",children:"No rain for 7+ days"})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-blue-500 hover:bg-blue-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>window.location.href="/dashboard/triggers",children:"Manage Precipitation Triggers"})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Precipitation Data"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"7-day Accumulation:"}),c.jsx("span",{className:"font-medium",children:"42mm"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"30-day Accumulation:"}),c.jsx("span",{className:"font-medium",children:"136mm"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"vs. Historical Average:"}),c.jsx("span",{className:"font-medium text-blue-500",children:"+18mm"})]})]}),c.jsxs("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[c.jsx("div",{className:"text-xs font-medium mb-1",children:"Monthly Precipitation"}),c.jsx("div",{className:"h-16 flex items-end space-x-1",children:[20,35,15,40,25,42,30,45,22,28,36,48].map((N,A)=>c.jsx("div",{className:"flex-1 bg-blue-400 dark:bg-blue-600 rounded-t",style:{height:`${N}%`},title:`Month ${A+1}: ${N}mm`},A))}),c.jsxs("div",{className:"mt-1 flex justify-between text-[10px] text-gray-500",children:[c.jsx("span",{children:"Jan"}),c.jsx("span",{children:"Dec"})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-green-500 hover:bg-green-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>{console.log("View Precipitation Reports button clicked"),window.location.pathname==="/dashboard"?window.location.hash="reports":window.location.href="/dashboard#reports"},children:"View Precipitation Reports"})]})]})},wind_new:{title:"Wind",content:()=>c.jsxs("div",{className:"layer-popup",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Wind Information"}),c.jsx("p",{className:"text-sm mb-2",children:"Shows wind speed and direction. Colors range from light blue (calm) to dark blue (strong winds)."}),c.jsxs("div",{className:"mt-2",children:[c.jsxs("p",{className:"text-xs mb-1",children:["Current speed: ",c.jsxs("span",{className:"font-semibold",children:[v.windSpeed," m/s"]})]}),c.jsxs("p",{className:"text-xs mb-1",children:["Direction: ",c.jsxs("span",{className:"font-semibold",children:[v.windDirection,"°"]})]})]}),c.jsx("div",{className:"wind-direction-indicator flex justify-center my-2",children:c.jsx("div",{className:"w-8 h-8 border border-gray-300 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"w-4 h-1 bg-blue-500 origin-center transform",style:{transform:`rotate(${v.windDirection}deg)`}})})}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Active Wind Triggers"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"font-medium",children:"High Wind Alert"}),c.jsx("span",{className:"px-2 py-0.5 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded",children:"> 15 m/s"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium",children:"Storm Warning"}),c.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded",children:"> 25 m/s"})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-blue-500 hover:bg-blue-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>window.location.href="/dashboard/triggers",children:"Manage Wind Triggers"})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Wind Data"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"Average Speed (24h):"}),c.jsx("span",{className:"font-medium",children:"8.3 m/s"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"Max Gust (24h):"}),c.jsx("span",{className:"font-medium",children:"12.7 m/s"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Prevailing Direction:"}),c.jsx("span",{className:"font-medium",children:"NW"})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-green-500 hover:bg-green-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>{console.log("View Wind Reports button clicked"),window.location.pathname==="/dashboard"?window.location.hash="reports":window.location.href="/dashboard#reports"},children:"View Wind Reports"})]})]})},clouds_new:{title:"Clouds",content:()=>c.jsxs("div",{className:"layer-popup",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Cloud Information"}),c.jsx("p",{className:"text-sm mb-2",children:"Shows cloud coverage. Colors range from light gray (few clouds) to dark gray (overcast)."}),c.jsxs("div",{className:"mt-2",children:[c.jsxs("p",{className:"text-xs mb-1",children:["Cloud cover: ",c.jsxs("span",{className:"font-semibold",children:[v.clouds,"%"]})]}),c.jsxs("p",{className:"text-xs mb-1",children:["Weather: ",c.jsx("span",{className:"font-semibold",children:v.weatherDesc})]})]}),c.jsx("div",{className:"weather-icon text-center my-2",children:c.jsx("img",{src:`https://openweathermap.org/img/wn/${v.weatherIcon}@2x.png`,alt:v.weatherDesc,className:"inline-block w-16 h-16"})}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Cloud Coverage Impact"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"font-medium",children:"Solar Energy Production:"}),c.jsx("span",{className:`px-2 py-0.5 ${v.clouds>70?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"} rounded`,children:v.clouds>70?"Reduced":"Optimal"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium",children:"Crop Light Exposure:"}),c.jsx("span",{className:`px-2 py-0.5 ${v.clouds>80?"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"} rounded`,children:v.clouds>80?"Insufficient":"Adequate"})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-blue-500 hover:bg-blue-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>window.location.href="/dashboard/triggers",children:"Manage Cloud Triggers"})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Cloud Data"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"Average Coverage (7d):"}),c.jsx("span",{className:"font-medium",children:"62%"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{children:"Clear Days (30d):"}),c.jsx("span",{className:"font-medium",children:"8 days"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Overcast Days (30d):"}),c.jsx("span",{className:"font-medium",children:"12 days"})]})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-green-500 hover:bg-green-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>{console.log("View Cloud Reports button clicked"),window.location.pathname==="/dashboard"?window.location.hash="reports":window.location.href="/dashboard#reports"},children:"View Cloud Reports"})]})]})},pressure_new:{title:"Pressure",content:()=>c.jsxs("div",{className:"layer-popup",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Pressure Information"}),c.jsxs("p",{className:"mb-2",children:["Current: ",c.jsxs("span",{className:"font-semibold",children:[v.pressure," hPa"]})]}),c.jsxs("div",{className:"pressure-trend mt-3 p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[c.jsx("p",{className:"text-sm font-medium mb-1",children:"Pressure Trend"}),c.jsx("div",{className:"h-16 flex items-end space-x-1",children:[1008,1010,1012,1015,1013,1010,1009,1010,1012,1014,1013,1012].map((N,A)=>c.jsx("div",{className:"flex-1 bg-purple-400 dark:bg-purple-600 rounded-t",style:{height:`${Math.max(0,(N-1e3)/30*100)}%`},title:`${N} hPa`},A))}),c.jsxs("div",{className:"mt-1 flex justify-between text-[10px] text-gray-500",children:[c.jsx("span",{children:"-24h"}),c.jsx("span",{children:"Now"})]})]}),c.jsxs("div",{className:"mt-2 p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[c.jsx("p",{className:"text-sm font-medium",children:"Weather Interpretation"}),c.jsx("p",{className:"text-xs mt-1",children:v.pressure>1013?"High pressure typically indicates fair weather conditions.":"Low pressure can be associated with clouds and precipitation."})]})]})},soil_moisture:{title:"Soil Moisture",content:()=>c.jsxs("div",{className:"layer-popup",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Soil Moisture Information"}),c.jsxs("div",{children:[c.jsxs("p",{className:"mb-2",children:["Current: ",c.jsxs("span",{className:"font-semibold",children:[v.soilMoisture,"%"]})]}),c.jsxs("p",{className:"mb-2",children:["Field Capacity: ",c.jsx("span",{className:"font-semibold",children:"30%"})]}),c.jsxs("p",{className:"mb-2",children:["Wilting Point: ",c.jsx("span",{className:"font-semibold",children:"12%"})]}),c.jsx("div",{className:"soil-moisture-gauge mt-3 relative h-4 bg-gray-200 rounded",children:c.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-500 rounded",style:{width:`${Math.min(100,v.soilMoisture*3)}%`}})}),c.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Soil Type: Loam"})]})]})},irrigation_needs:{title:"Irrigation Needs",content:()=>c.jsxs("div",{className:"layer-popup",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Irrigation Needs"}),c.jsxs("div",{children:[c.jsx("div",{className:"irrigation-status mb-3",children:c.jsx("div",{className:`p-2 rounded ${v.irrigationNeeded?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:c.jsx("p",{className:"font-semibold text-sm",children:v.irrigationNeeded?"Irrigation Needed":"No Irrigation Needed"})})}),c.jsxs("p",{className:"mb-2",children:["Water Deficit: ",c.jsxs("span",{className:"font-semibold",children:[v.waterDeficit||0," mm"]})]}),c.jsxs("p",{className:"mb-2",children:["Evapotranspiration: ",c.jsxs("span",{className:"font-semibold",children:[(v.evapotranspiration||2.5).toFixed(1)," mm/day"]})]}),c.jsxs("p",{className:"mb-2",children:["Recommendation: ",c.jsx("span",{className:"font-semibold",children:v.irrigationNeeded?`Apply ${v.irrigationAmount||15}mm of water`:`Check again in ${v.daysUntilIrrigation||3} days`})]})]})]})},crop_growth:{title:"Crop Growth",content:()=>c.jsxs("div",{className:"layer-popup",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Crop Growth Analysis"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsxs("div",{className:"w-20 mr-4",children:[c.jsx("div",{className:"text-center mb-1",children:c.jsx(gc,{className:"inline-block text-green-500 text-xl"})}),c.jsx("div",{className:"text-center",children:c.jsx("span",{className:"text-sm font-semibold",children:"Corn"})})]}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative pt-1",children:[c.jsxs("p",{className:"text-xs mb-1 flex justify-between",children:[c.jsx("span",{children:"Growth Progress:"}),c.jsx("span",{className:"font-semibold",children:"65%"})]}),c.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-green-200",children:c.jsx("div",{style:{width:"65%"},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"})}),c.jsxs("p",{className:"text-xs mt-1",children:["Stage: ",c.jsx("span",{className:"font-semibold",children:"Flowering"})]})]})})]}),c.jsxs("p",{className:"text-xs mb-1",children:["Health Index: ",c.jsx("span",{className:"font-semibold",children:"78/100"})]}),c.jsxs("p",{className:"text-xs mb-1",children:["Yield Estimate: ",c.jsx("span",{className:"font-semibold",children:"85% of potential"})]}),c.jsxs("p",{className:"text-xs mb-3",children:["Days Since Planting: ",c.jsx("span",{className:"font-semibold",children:"45"})]}),c.jsxs("div",{className:"text-xs p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Notes:"}),c.jsx("p",{children:"Flowering stage beginning. Critical period for water and nutrient management."})]})]})]})},trade_events:{content:()=>{var N;return c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Trade Events"}),c.jsx("p",{className:"text-sm",children:"Displays upcoming trade events relevant to agriculture and exports."}),c.jsx("div",{className:"mt-2",children:tradeEventsLoading?c.jsx("p",{className:"text-xs",children:"Loading trade events..."}):tradeEventsError?c.jsxs("p",{className:"text-xs text-red-500",children:["Error: ",tradeEventsError]}):c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs font-semibold",children:["Events found: ",((N=tradeEvents==null?void 0:tradeEvents.results)==null?void 0:N.length)||0]}),c.jsx("p",{className:"text-xs",children:"Click on markers to view event details"})]})})]})}},tariffs:{content:()=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Agricultural Tariffs"}),c.jsx("p",{className:"text-sm",children:"Shows tariff rates for key agricultural exports based on location."}),c.jsxs("div",{className:"mt-2",children:[c.jsx("h4",{className:"text-xs font-semibold",children:"Current Tariff Rates:"}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded mt-1",children:Re?c.jsx("p",{className:"text-xs text-center py-2",children:"Loading tariff data..."}):Object.keys(Ie).length>0?c.jsx("div",{className:"space-y-1",children:Object.entries(Ie).map(([N,A])=>{var be,ve;const R={1001:"Wheat",1005:"Corn/Maize",1006:"Rice",1201:"Soybeans","0805":"Citrus fruits"},K=A!=null&&A.results&&((be=A.results[0])!=null&&be.tariff_rate)?`${A.results[0].tariff_rate}%`:"N/A";let ee="text-gray-800 dark:text-gray-200";if(A!=null&&A.results&&((ve=A.results[0])!=null&&ve.tariff_rate)){const it=parseFloat(A.results[0].tariff_rate);it>15?ee="text-red-600 dark:text-red-400":it>5?ee="text-yellow-600 dark:text-yellow-400":ee="text-green-600 dark:text-green-400"}return c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsxs("span",{className:"font-medium",children:[R[N]||N,":"]}),c.jsx("span",{className:`font-semibold ${ee}`,children:K})]},N)})}):c.jsx("p",{className:"text-xs text-center py-2",children:"No tariff data available"})})]}),ke&&ke.length>0&&c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-xs font-semibold mb-1",children:"Historical Tariff Changes:"}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs max-h-40 overflow-y-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600",children:[c.jsx("th",{className:"text-left py-1",children:"Date"}),c.jsx("th",{className:"text-left py-1",children:"Product"}),c.jsx("th",{className:"text-right py-1",children:"Change"})]})}),c.jsx("tbody",{children:ke.map((N,A)=>c.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[c.jsx("td",{className:"py-1",children:new Date(N.effective_date).toLocaleDateString()}),c.jsx("td",{className:"py-1",children:N.product_name}),c.jsxs("td",{className:`text-right py-1 ${parseFloat(N.change)>0?"text-red-500":"text-green-500"}`,children:[N.change>0?"+":"",N.change,"%"]})]},A))})]})})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-xs font-semibold mb-1",children:"Trade Reports"}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{children:"Impact on Revenue:"}),c.jsx("span",{className:"font-medium text-red-500",children:"-$1.2M (Est.)"})]}),c.jsx("button",{className:"mt-2 w-full text-xs bg-green-500 hover:bg-green-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>{window.location.href="/dashboard#reports"},children:"View Trade Impact Reports"})]}),c.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"text-xs font-semibold mb-1",children:"Tariff Monitoring"}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-2 rounded text-xs",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Alert on tariff increases"}),c.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[c.jsx("input",{type:"checkbox",id:"tariffAlertToggle",className:"sr-only"}),c.jsx("span",{className:"toggle-bg block overflow-hidden h-4 rounded-full bg-gray-300 cursor-pointer"})]})]})}),c.jsx("button",{className:"mt-2 w-full text-xs bg-blue-500 hover:bg-blue-600 text-white py-1 px-2 rounded transition-colors",onClick:()=>window.location.href="/dashboard/triggers/trade",children:"Manage Tariff Triggers"})]})]})},export_markets:{content:()=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Export Markets"}),c.jsx("p",{className:"text-sm",children:"Highlights potential export markets for agricultural products."}),c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:"text-xs",children:"Click on countries to view market information"}),c.jsxs("p",{className:"text-xs mt-1",children:[c.jsx("b",{children:"Note:"})," This feature uses the Trade.gov API with your API key to provide real-time export market data."]})]})]})}},[_i,xs]=D.useState(null),ys=N=>{_i===N?xs(null):(xs(N),s(N),V.current&&xe.current&&(console.log(`Toggle popup for layer: ${N}`),setTimeout(()=>{if(ge.forEach(A=>{xe.current[A.id]&&V.current.hasLayer(xe.current[A.id])&&(console.log(`Removing layer: ${A.id}`),V.current.removeLayer(xe.current[A.id]))}),xe.current[N])console.log(`Adding layer: ${N}`),xe.current[N].addTo(V.current);else if(["temp_new","precipitation_new","wind_new","clouds_new","pressure_new"].includes(N)){console.log(`Creating new layer for: ${N}`);const R=Fh(N),K=Bt.tileLayer(R,{opacity:.7,tileSize:256,zoomOffset:0,minZoom:0,maxZoom:18,updateWhenIdle:!0,updateWhenZooming:!1}).addTo(V.current);xe.current[N]=K}},100)))};D.useEffect(()=>{const N=window.fetch;return window.fetch=function(R,K={}){let ee=R;if(typeof R=="string"&&(R.includes("openweathermap.org")||R.includes("openstreetmap.org"))){const ve=R.includes("?")?"&":"?";ee=`${R}${ve}_t=${Date.now()}`}const be={...K,credentials:"omit",mode:"cors",cache:"no-cache",headers:{...K.headers,"Access-Control-Allow-Origin":"*"},signal:K.signal||function(){const ve=new AbortController;return setTimeout(()=>ve.abort(),1e4),ve.signal}()};return N(ee,be).catch(ve=>{throw ve.name==="AbortError"&&console.warn("Fetch aborted for URL:",ee),ve})},()=>{window.fetch=N}},[]);const Yt=D.useCallback(()=>{if(window.L)try{delete window.L.Icon.Default.prototype._getIconUrl,window.L.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"}),console.log("Leaflet icon paths fixed")}catch(N){console.error("Error fixing Leaflet icons:",N)}},[]);D.useEffect(()=>{if(window.L||M){console.log("Leaflet already loaded"),z(!0),Yt();return}if(console.log("Loading Leaflet resources..."),!document.getElementById("leaflet-css")){const R=document.createElement("link");R.id="leaflet-css",R.rel="stylesheet",R.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",R.crossOrigin="",document.head.appendChild(R)}if(document.getElementById("leaflet-js"))Yt(),z(!0);else{const R=document.createElement("script");R.id="leaflet-js",R.src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js",R.crossOrigin="",R.onload=()=>{console.log("Leaflet script loaded from CDN"),Yt(),z(!0)},document.head.appendChild(R)}},[Yt]),D.useEffect(()=>{const N=document.createElement("style");return N.textContent=`
      .leaflet-container {
        width: 100%;
        height: 100%;
        min-height: 500px;
        z-index: 1;
      }
      
      /* High contrast, highly readable map text styles */
      .leaflet-container {
        font-family: 'Arial', sans-serif !important;
        font-size: 16px !important;
      }
      
      /* Make ALL map labels extremely readable */
      .leaflet-tooltip,
      .leaflet-popup-content,
      .leaflet-control,
      .leaflet-control-attribution {
        font-size: 16px !important;
        font-weight: 700 !important;
        color: #000000 !important;
        text-shadow: 
          -1px -1px 0 #FFFFFF,
          1px -1px 0 #FFFFFF,
          -1px 1px 0 #FFFFFF,
          1px 1px 0 #FFFFFF,
          0 0 5px #FFFFFF !important;
        background-color: rgba(255, 255, 255, 0.95) !important;
        border: 2px solid rgba(0, 0, 0, 0.5) !important;
        border-radius: 5px !important;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.5) !important;
        letter-spacing: 0.5px !important;
        line-height: 1.5 !important;
      }
      
      /* Dark mode version with reversed contrast */
      .dark-mode .leaflet-tooltip,
      .dark-mode .leaflet-popup-content,
      .dark-mode .leaflet-control,
      .dark-mode .leaflet-control-attribution {
        color: #FFFFFF !important;
        background-color: rgba(0, 0, 0, 0.9) !important;
        text-shadow: 
          -1px -1px 0 #000000,
          1px -1px 0 #000000,
          -1px 1px 0 #000000,
          1px 1px 0 #000000,
          0 0 5px #000000 !important;
        border: 2px solid rgba(255, 255, 255, 0.5) !important;
      }
      
      /* Force Popup content to be extremely readable */
      .leaflet-popup-content-wrapper {
        padding: 10px !important;
        background-color: rgba(255, 255, 255, 0.95) !important;
        color: #000 !important;
      }
      
      .dark-mode .leaflet-popup-content-wrapper {
        background-color: rgba(30, 30, 30, 0.95) !important;
        color: #FFFFFF !important;
      }
      
      /* Make popup content headings stand out */
      .leaflet-popup-content h3 {
        font-size: 18px !important;
        font-weight: 800 !important;
        margin-bottom: 10px !important;
        color: #2D7D46 !important;
        text-shadow: none !important;
      }
      
      .dark-mode .leaflet-popup-content h3 {
        color: #5BDF7B !important;
      }
      
      /* Ensure popup body text is readable */
      .leaflet-popup-content p {
        font-size: 16px !important;
        margin: 8px 0 !important;
        font-weight: 600 !important;
        line-height: 1.5 !important;
      }
      
      /* Extra-large markers and icons */
      .leaflet-div-icon, 
      .leaflet-marker-icon {
        transform: scale(1.5) !important;
        filter: drop-shadow(0 0 3px #FFF) drop-shadow(0 0 5px #FFF) !important;
      }
      
      /* High-contrast map controls */
      .leaflet-control-zoom a {
        font-size: 20px !important;
        font-weight: 800 !important;
        width: 36px !important;
        height: 36px !important;
        font-size: 14px !important;
      }
      
      .map-legend .text-xs {
        font-size: 13px !important;
        font-weight: 500 !important;
      }
      
      /* Toggle switch styles */
      .toggle-bg {
        transition: background-color 0.2s;
      }
      #tariffAlertToggle:checked + .toggle-bg {
        background-color: #3B82F6;
      }
      .toggle-bg::after {
        content: '';
        display: block;
        background-color: white;
        width: 1rem;
        height: 1rem;
        border-radius: 9999px;
        position: relative;
        top: -2px;
        left: 0;
        transition: transform 0.2s;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      }
      #tariffAlertToggle:checked + .toggle-bg::after {
        transform: translateX(1rem);
      }
      
      /* Layer popup styles */
      .leaflet-popup-content {
        margin: 10px 12px;
        max-width: 280px;
      }
      .leaflet-popup-content h3 {
        font-weight: 600;
        margin-bottom: 8px;
      }
      .leaflet-popup-content p {
        margin: 4px 0;
      }
      
      /* Trade event marker styles */
      .trade-event-marker {
        background: transparent !important;
      }
      .event-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 30px;
        height: 30px;
        background-color: #8D6E63;
        color: white;
        border-radius: 50%;
        border: 2px solid white;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        font-size: 14px;
      }
      .trade-event-popup {
        font-family: Arial, sans-serif;
        max-width: 280px;
      }
      .trade-event-popup h3 {
        margin-top: 0;
        color: #5D4037;
        font-size: 16px;
        font-weight: bold;
      }
      .trade-event-popup p {
        margin: 8px 0;
        font-size: 12px;
      }
      .event-links {
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        gap: 5px;
      }
      .event-links a {
        display: inline-block;
        padding: 4px 8px;
        background-color: #8D6E63;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        font-size: 12px;
        text-align: center;
      }
      .event-links a:hover {
        background-color: #6D4C41;
      }
    `,document.head.appendChild(N),()=>{document.head.removeChild(N)}},[]);const[ro,_s]=D.useState(!1);D.useEffect(()=>{const N=document.createElement("iframe");return N.style.width="0",N.style.height="0",N.style.border="none",N.style.position="absolute",N.onload=()=>{_s(!0),setTimeout(()=>{document.body.contains(N)&&document.body.removeChild(N)},100)},document.body.appendChild(N),()=>{document.body.contains(N)&&document.body.removeChild(N)}},[]),D.useEffect(()=>()=>{if(V.current){console.log("Cleaning up map and layers");const N=V.current;if(typeof N.hasLayer!="function"||typeof N.removeLayer!="function"||typeof N.remove!="function"){console.warn("Map missing required methods during cleanup"),V.current=null;return}try{Object.values(xe.current||{}).forEach(A=>{A&&N.hasLayer(A)&&N.removeLayer(A)}),window.marker&&N.hasLayer(window.marker)&&(N.removeLayer(window.marker),window.marker=null),N.remove(),V.current=null}catch(A){console.error("Error during map cleanup:",A),V.current=null}}},[]),D.useEffect(()=>{if(!(!V.current||C))try{console.log(`Updating map location to: ${Et} [${qt},${Nt}]`);const N=V.current;if(!N||typeof N.setView!="function"){console.error("Map not properly initialized or missing methods",N);return}N.setView([qt,Nt],8),window.marker?window.marker.setLatLng([qt,Nt]).bindPopup(`${Et}<br>Temperature: ${Vi}<br>Weather: ${v.weatherDesc}`).openPopup():window.marker=Bt.marker([qt,Nt],{icon:Kw}).addTo(N).bindPopup(`${Et}<br>Temperature: ${Vi}<br>Weather: ${v.weatherDesc}`).openPopup(),N.invalidateSize(!0)}catch(N){console.error("Error updating map location:",N)}},[qt,Nt,C,Et,Vi,v.weatherDesc]),D.useEffect(()=>{if(!(!V.current||C))try{console.log(`Active layer changed to: ${i}`),Q(i)}catch(N){console.error("Error updating active layer:",N)}},[i,C]),D.useEffect(()=>{e==="trade"&&i==="trade_events"&&(async()=>{setTradeEventsLoading(!0);try{const A=await Uw({industries:"Agricultural Equipment,Food Processing and Packaging,Agribusiness"});setTradeEvents(A);const R=Zw(A);oo(R)}catch(A){console.error("Error fetching trade events:",A),setTradeEventsError(A.message)}finally{setTradeEventsLoading(!1)}})()},[e,i]),D.useEffect(()=>{e==="trade"&&i==="tariffs"&&(async()=>{try{const A="BR",R=["1001","1005","1006","1201","0805"],K={};for(const ee of R){const be=await Vw(A,ee);K[ee]=be}Ee(K),await yn(A)}catch(A){console.error("Error fetching tariff data:",A)}})()},[e,i]);const oo=N=>{if(!V.current||!N)return;tradeEventsLayer&&V.current.removeLayer(tradeEventsLayer);const A=Bt.geoJSON(N,{pointToLayer:(R,K)=>Bt.marker(K,{icon:Bt.divIcon({className:"trade-event-marker",html:'<div class="event-icon"><i class="fa fa-calendar"></i></div>',iconSize:[30,30]})}),onEachFeature:(R,K)=>{const ee=R.properties;K.bindPopup(`
          <div class="trade-event-popup">
            <h3>${ee.name}</h3>
            <p><strong>Date:</strong> ${new Date(ee.startDate).toLocaleDateString()} - ${new Date(ee.endDate).toLocaleDateString()}</p>
            <p><strong>Location:</strong> ${ee.city}, ${ee.country}</p>
            ${ee.industry?`<p><strong>Industry:</strong> ${ee.industry}</p>`:""}
            <div class="event-links">
              ${ee.website?`<a href="${ee.website}" target="_blank" rel="noopener noreferrer">Visit Event Website</a>`:""}
              ${ee.registrationLink?`<a href="${ee.registrationLink}" target="_blank" rel="noopener noreferrer">Register</a>`:""}
            </div>
          </div>
        `)}});A.addTo(V.current),setTradeEventsLayer(A)};D.useEffect(()=>{(e==="irrigation"||i==="soil_moisture"||i==="irrigation_needs"||i==="crop_growth")&&(async()=>{try{const A=v.temp===0?await Ow(currentLocation.lat,currentLocation.lng):v,R=await zw(currentLocation.lat,currentLocation.lng,A),K=await Rw(currentLocation.lat,currentLocation.lng,A);w(ee=>({...ee,soilMoisture:R.soilMoisture,fieldCapacity:R.fieldCapacity,wiltingPoint:R.wiltingPoint,waterDeficit:R.waterDeficit,evapotranspiration:R.evapotranspiration,irrigationNeeded:R.irrigationNeeded,irrigationAmount:R.irrigationAmount,daysUntilIrrigation:R.daysUntilIrrigation,wateringRecommendation:R.wateringRecommendation,soilType:R.soilType,cropType:K.cropType,growthPercentage:K.growthPercentage,growthStage:K.growthStage,healthIndex:K.healthIndex,yieldEstimate:K.yieldEstimate,cropNotes:K.details.notes,daysSincePlanting:K.details.daysSincePlanting,harvestDate:K.details.estimatedHarvestDate})),ao(R,K)}catch(A){console.error("Error fetching irrigation/crop data:",A)}})()},[currentLocation,e,i]);const ao=(N,A)=>{if(V.current){if(window.irrigationLayer&&V.current.removeLayer(window.irrigationLayer),window.cropLayer&&V.current.removeLayer(window.cropLayer),i==="soil_moisture"||i==="irrigation_needs"){const K=Bt.circle([currentLocation.lat,currentLocation.lng],{radius:2e3,color:N.irrigationNeeded?"#FFA726":"#4CAF50",fillColor:N.irrigationNeeded?"#FFE0B2":"#C8E6C9",fillOpacity:.5,weight:2});K.bindPopup(`
        <div class="irrigation-popup">
          <h3 class="text-lg font-semibold mb-2">${currentLocation.name} Field</h3>
          <p class="mb-1"><b>Soil Moisture:</b> ${N.soilMoisture}%</p>
          <p class="mb-1"><b>Water Deficit:</b> ${N.waterDeficit} mm</p>
          <p class="mb-1"><b>Status:</b> ${N.irrigationNeeded?"Irrigation Needed":"Adequate Moisture"}</p>
          <p class="mb-1"><b>Recommendation:</b> ${N.wateringRecommendation}</p>
        </div>
      `),K.addTo(V.current),window.irrigationLayer=K}if(i==="crop_growth"){const R=Bt.divIcon({className:"crop-marker",html:`<div class="crop-icon" style="
          width: 40px; 
          height: 40px; 
          background-color: #43A047; 
          color: white; 
          border-radius: 50%; 
          display: flex; 
          align-items: center; 
          justify-content: center; 
          font-size: 20px;
          border: 2px solid white;
          box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        ">
          <i class="fas fa-seedling"></i>
        </div>`,iconSize:[40,40]}),K=Bt.marker([currentLocation.lat,currentLocation.lng],{icon:R});K.bindPopup(`
        <div class="crop-popup">
          <h3 class="text-lg font-semibold mb-2">${A.cropType.charAt(0).toUpperCase()+A.cropType.slice(1)}</h3>
          <p class="mb-1"><b>Growth Stage:</b> ${A.growthStage}</p>
          <p class="mb-1"><b>Progress:</b> ${A.growthPercentage}%</p>
          <p class="mb-1"><b>Health:</b> ${A.healthIndex}/100</p>
          <p class="mb-1"><b>Est. Yield:</b> ${A.yieldEstimate}% of potential</p>
          <p class="mb-1"><b>Notes:</b> ${A.details.notes}</p>
        </div>
      `),K.addTo(V.current),window.cropLayer=K}}},yn=async N=>{G(!0);try{const{data:A,error:R}=await Gw.from("tariff_data").select("*").eq("country_code",N).order("effective_date",{ascending:!1}).limit(10);if(R)throw R;return me(A||[]),A}catch(A){return console.error("Error fetching tariff data from Supabase:",A),[]}finally{G(!1)}},vs=({selectedLayer:N})=>{const R={temp_new:{title:"Temperature (°C)",gradient:!0,items:[{color:"#0000FF",label:"-20°C"},{color:"#00FFFF",label:"0°C"},{color:"#FFFF00",label:"20°C"},{color:"#FF0000",label:"40°C"}]},precipitation_new:{title:"Precipitation (mm)",gradient:!0,items:[{color:"#FFFFFF",label:"0 mm"},{color:"#A4D3EE",label:"1 mm"},{color:"#1E90FF",label:"5 mm"},{color:"#0000CD",label:"10+ mm"}]},wind_new:{title:"Wind Speed (m/s)",gradient:!0,items:[{color:"#E6F5FF",label:"0 m/s"},{color:"#99D6FF",label:"5 m/s"},{color:"#4DA6FF",label:"10 m/s"},{color:"#0066CC",label:"15+ m/s"}]},clouds_new:{title:"Cloud Coverage (%)",gradient:!0,items:[{color:"#FFFFFF",label:"0%"},{color:"#D3D3D3",label:"25%"},{color:"#A9A9A9",label:"50%"},{color:"#696969",label:"75%"},{color:"#2F4F4F",label:"100%"}]},pressure_new:{title:"Pressure (hPa)",gradient:!0,items:[{color:"#8C0000",label:"970 hPa"},{color:"#FF5349",label:"990 hPa"},{color:"#FFFFFF",label:"1013 hPa"},{color:"#ADD8E6",label:"1030 hPa"},{color:"#0000FF",label:"1050 hPa"}]},soil_moisture:{title:"Soil Moisture (%)",gradient:!0,items:[{color:"#FEECB9",label:"0%"},{color:"#D8B365",label:"25%"},{color:"#8C510A",label:"50%"},{color:"#35978F",label:"75%"},{color:"#01665E",label:"100%"}]},irrigation_needs:{title:"Irrigation Needs",gradient:!0,items:[{color:"#C8E6C9",label:"None"},{color:"#81C784",label:"Low"},{color:"#FFE0B2",label:"Medium"},{color:"#FFA726",label:"High"}]},crop_growth:{title:"Crop Growth",gradient:!0,items:[{color:"#E8F5E9",label:"Early"},{color:"#A5D6A7",label:"Growing"},{color:"#66BB6A",label:"Mature"},{color:"#43A047",label:"Harvest"}]},trade_events:{title:"Trade Events",gradient:!1,items:[{color:"#8D6E63",label:"Events"}]},tariffs:{title:"Tariff Rates",gradient:!0,items:[{color:"#C8E6C9",label:"0-5%"},{color:"#FFECB3",label:"6-15%"},{color:"#FFCCBC",label:"16-25%"},{color:"#FFAB91",label:">25%"}]},export_markets:{title:"Export Potential",gradient:!0,items:[{color:"#E8EAF6",label:"Low"},{color:"#9FA8DA",label:"Medium"},{color:"#5C6BC0",label:"High"},{color:"#3D5AFE",label:"Excellent"}]}}[N]||null;return R?c.jsxs("div",{className:"absolute bottom-24 right-4 bg-white dark:bg-gray-800 p-4 rounded-md shadow-md z-10 w-64 map-legend",children:[c.jsx("h4",{className:"text-base font-extrabold mb-3 text-center",children:R.title}),R.gradient?c.jsx("div",{className:"w-full h-8 relative mb-3 rounded overflow-hidden",children:c.jsx("div",{className:"w-full h-full",style:{background:`linear-gradient(to right, ${R.items.map(K=>K.color).join(", ")})`,boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)"}})}):c.jsx("div",{className:"w-full flex flex-col space-y-2",children:R.items.map((K,ee)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-6 h-6 mr-3 rounded-sm",style:{backgroundColor:K.color,boxShadow:"0 0 3px rgba(0, 0, 0, 0.5)"}}),c.jsx("span",{className:"text-base font-semibold",children:K.label})]},ee))}),c.jsx("div",{className:"flex justify-between text-sm mt-2 font-bold",children:R.gradient&&R.items.map((K,ee)=>c.jsx("div",{className:"text-center",children:ee===0||ee===R.items.length-1?K.label:""},ee))})]}):null},bs=N=>{console.log(`Safe layer switch requested to: ${N}`),window.layerChangeTimeout&&clearTimeout(window.layerChangeTimeout),window.isChangingLayer=!0;try{s(N),window.layerChangeTimeout=setTimeout(()=>{try{Q(N)}catch(A){if(console.error("Error in delayed layer change:",A),V.current)try{V.current.invalidateSize(!0),setTimeout(()=>{try{Q(N)}catch(R){console.error("Final recovery attempt failed:",R)}},1e3)}catch(R){console.error("Error during map recovery:",R)}}finally{window.isChangingLayer=!1}},500)}catch(A){console.error("Error in safe layer switch:",A),window.isChangingLayer=!1}},lo=({layerId:N})=>{const A=ge.find(R=>R.id===N);return c.jsxs("div",{className:"relative group",children:[c.jsx("button",{className:`p-3 rounded-lg ${i===N?"active":""} weather-layer-button flex items-center justify-center`,onClick:()=>{bs(N),ys(N)},title:A==null?void 0:A.name,style:Oh(N,i===N),children:c.jsx("span",{className:"weather-layer-icon text-2xl",children:A==null?void 0:A.icon})}),c.jsxs("div",{className:"absolute left-full ml-2 bg-black text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 w-48 z-50 pointer-events-none",style:{top:"50%",transform:"translateY(-50%)"},children:[c.jsx("div",{className:"font-bold mb-1",children:A==null?void 0:A.name}),c.jsx("div",{children:(A==null?void 0:A.tooltip)||`View ${A==null?void 0:A.name.toLowerCase()} data`}),c.jsx("div",{className:"text-xs mt-1 text-green-400",children:"Click to activate this layer"})]})]})};return D.useEffect(()=>{if(!(V.current||C||!window.L)){console.log("Initializing map with simplified approach to avoid pane errors...");try{const N=window.L,A=document.getElementById(r.current);if(A)A.innerHTML="",A.style.width="100%",A.style.height="500px",A.style.position="relative";else{console.error(`Map container with ID ${r.current} not found`);return}console.log("Creating map with explicit pane creation");const R=new N.Map(r.current,{center:[currentLocation.lat,currentLocation.lng],zoom:6,zoomControl:!1,attributionControl:!1});V.current=R,console.log("Creating panes explicitly"),R.getPane("tilePane")||R.createPane("tilePane"),R.getPane("overlayPane")||R.createPane("overlayPane"),R.getPane("shadowPane")||R.createPane("shadowPane"),R.getPane("markerPane")||R.createPane("markerPane"),R.getPane("tooltipPane")||R.createPane("tooltipPane"),R.getPane("popupPane")||R.createPane("popupPane"),console.log("Adding controls"),N.control.attribution({prefix:"<strong>AgriWeather Pro</strong> | Map data",position:"bottomright"}).addTo(R),N.control.zoom({position:"topright"}).addTo(R),console.log("Adding base layer");const K=N.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",subdomains:["a","b","c"],pane:"tilePane"}).addTo(R);console.log("Adding location marker");const ee=N.marker([currentLocation.lat,currentLocation.lng],{pane:"markerPane"}).addTo(R),be=ai(v.tempC);ee.bindPopup(`
        <div style="color: #000; background: #fff; padding: 8px; border-radius: 4px; min-width: 200px;">
          <h3 style="font-size: 16px; font-weight: bold; margin: 0 0 8px 0;">${currentLocation.name}</h3>
          <p style="font-size: 14px; margin: 4px 0;"><strong>Temperature:</strong> ${be}</p>
          <p style="font-size: 14px; margin: 4px 0;"><strong>Weather:</strong> ${v.weatherDesc}</p>
        </div>
      `);const ve=N.Control.extend({options:{position:"topright"},onAdd:function(){const de=N.DomUtil.create("div","leaflet-bar leaflet-control temp-unit-control");return de.style.backgroundColor="white",de.style.padding="6px 8px",de.style.borderRadius="4px",de.style.boxShadow="0 1px 5px rgba(0,0,0,0.4)",de.style.cursor="pointer",de.style.margin="10px 10px 0 0",de.style.color="#000",de.style.fontWeight="bold",de.style.fontSize="14px",de.style.display="flex",de.style.alignItems="center",de.style.justifyContent="center",de.innerHTML=b?'°C | <span style="color: #888;">°F</span>':'<span style="color: #888;">°C</span> | °F',N.DomEvent.on(de,"click",function(Gt){N.DomEvent.stopPropagation(Gt),xn(),de.innerHTML=b?'°C | <span style="color: #888;">°F</span>':'<span style="color: #888;">°C</span> | °F'}),de}});new ve().addTo(R);const it=N.Control.extend({options:{position:"topleft"},onAdd:function(){const de=N.DomUtil.create("div","leaflet-bar leaflet-control location-display");return de.style.backgroundColor="rgba(255, 255, 255, 0.9)",de.style.padding="8px 12px",de.style.borderRadius="4px",de.style.boxShadow="0 1px 5px rgba(0,0,0,0.4)",de.style.margin="10px",de.style.color="#000",de.style.fontWeight="bold",de.style.fontSize="14px",de.style.maxWidth="300px",de.style.whiteSpace="nowrap",de.style.overflow="hidden",de.style.textOverflow="ellipsis",de.innerHTML=`<strong>${currentLocation.name}</strong>: ${be}`,de}});new it().addTo(R),setTimeout(()=>{console.log("Initializing weather layer"),Q(i)},500),R.on("click",async de=>{try{const{lat:Gt,lng:qi}=de.latlng,Xe=N.DomUtil.create("div","loading-location");Xe.innerHTML="Getting location...",Xe.style.position="absolute",Xe.style.top="10px",Xe.style.left="50%",Xe.style.transform="translateX(-50%)",Xe.style.backgroundColor="rgba(0,0,0,0.7)",Xe.style.color="white",Xe.style.padding="8px 16px",Xe.style.borderRadius="4px",Xe.style.zIndex="1000",document.body.appendChild(Xe);const _n=await(await fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${Gt}&lon=${qi}&limit=1&appid=deeaa95f4b7b2543dc8c3d9cb96396c6`)).json();if(document.body.removeChild(Xe),_n&&_n.length>0){const ws=_n[0].name||"Unknown Location";setCurrentLocation({lat:Gt,lng:qi,name:ws}),ee.setLatLng([Gt,qi]),ee.bindPopup(`
              <div style="color: #000; background: #fff; padding: 8px; border-radius: 4px; min-width: 200px;">
                <h3 style="font-size: 16px; font-weight: bold; margin: 0 0 8px 0;">${ws}</h3>
                <p style="font-size: 14px; margin: 4px 0;"><strong>Temperature:</strong> ${be}</p>
                <p style="font-size: 14px; margin: 4px 0;"><strong>Weather:</strong> ${v.weatherDesc}</p>
              </div>
            `).openPopup(),fetchWeather()}}catch(Gt){console.error("Error updating location:",Gt)}})}catch(N){console.error("Error initializing map:",N)}}},[C,i,currentLocation,v,b,ai,xn,fetchWeather]),c.jsxs("div",{className:"relative w-full h-full",style:{minHeight:"500px"},children:[c.jsxs("div",{id:r.current,className:"absolute inset-0 w-full h-full bg-gray-100",style:{zIndex:1},children:[!M&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:c.jsx("p",{children:"Loading map resources..."})}),M&&!V.current&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:c.jsx("p",{children:"Initializing map..."})})]}),c.jsx("div",{className:"absolute top-4 left-4 z-10 w-80",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search for a location...",value:searchValue,onChange:N=>setSearchValue(N.target.value),className:"w-full p-2 pl-10 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:jt}),c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:c.jsx(zh,{className:"text-gray-400"})}),f.length>0&&c.jsx("div",{className:"absolute w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20",children:f.map((N,A)=>c.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>Mt(N),children:N.name},A))})]})}),c.jsx("div",{className:"absolute top-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2 max-w-xs",children:c.jsxs("a",{className:"weatherwidget-io",href:"https://forecast7.com/en/51d51n0d13/london/","data-label_1":Et,"data-label_2":b?"°C":"°F","data-theme":"original","data-accent":isDarkMode?"#4786C6":"#0D2E5C","data-textcolor":isDarkMode?"#FFFFFF":"#000000","data-highcolor":"#FF5722","data-lowcolor":"#03A9F4","data-suncolor":"#FFB300","data-mooncolor":"#9FA8DA","data-cloudcolor":"#BDBDBD","data-cloudfill":"#BDBDBD","data-raincolor":"#4FC3F7","data-snowcolor":"#B0E0E6","data-icons":"Climacons Animated","data-days":"3",children:[Et," Weather"]})}),c.jsx("div",{className:"absolute bottom-24 left-4 z-10",children:c.jsxs("div",{className:"flex flex-col space-y-3 relative",children:[ge.map(N=>c.jsxs("div",{className:"relative",children:[c.jsx(lo,{layerId:N.id}),_i===N.id&&Zi[N.id]&&c.jsxs("div",{className:"absolute bottom-0 left-14 w-64 bg-white dark:bg-gray-800 shadow-lg rounded-lg p-4 z-30 transform -translate-y-1/2",children:[c.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-2 -translate-y-1/2",children:c.jsx("div",{className:"w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-white dark:border-r-gray-800"})}),Zi[N.id].content()]})]},N.id)),c.jsxs("div",{className:"relative",children:[c.jsx("button",{className:`p-3 rounded-lg ${showRioForecast?"active":""} weather-layer-button flex items-center justify-center`,onClick:()=>setShowRioForecast(!showRioForecast),title:"Rio Weather Forecast",style:{width:"48px",height:"48px",border:"2px solid #fff",backgroundColor:showRioForecast?"#3B82F6":"#E1F5FE"},children:c.jsx("span",{className:"weather-layer-icon text-2xl",children:c.jsx(Pt,{color:"#1565C0"})})}),showRioForecast&&c.jsxs("div",{className:"absolute bottom-0 left-12 w-[800px] max-w-screen-md bg-white dark:bg-gray-800 shadow-lg rounded-lg p-4 z-30 transform -translate-y-1/2",children:[c.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-2 -translate-y-1/2",children:c.jsx("div",{className:"w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-white dark:border-r-gray-800"})}),c.jsxs("div",{className:"rio-forecast",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Rio de Janeiro Weather Forecast"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"detailed-forecast min-w-max",children:c.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"font-bold",children:"Tue"}),c.jsx("div",{className:"text-xs",children:"1-16"}),c.jsx("div",{className:"bg-blue-300 p-2 flex justify-center items-center",children:c.jsx("span",{className:"inline-block h-8 w-8 bg-yellow-300 rounded-full"})}),c.jsx("div",{className:"bg-red-500 p-1 text-white font-bold",children:"34 °C"}),c.jsx("div",{className:"bg-yellow-400 p-1 font-bold",children:"27 °C"}),c.jsx("div",{className:"py-1",children:"16 km/h"}),c.jsx("div",{className:"py-1",children:"26 km/h"}),c.jsx("div",{className:"py-1",children:"↙"}),c.jsx("div",{className:"bg-purple-300 p-1 font-bold",children:"11+"}),c.jsx("div",{className:"py-1",children:"74% rh"}),c.jsx("div",{className:"py-1 text-blue-500",children:"-"}),c.jsx("div",{className:"py-1 text-blue-500",children:"1%"}),c.jsx("div",{className:"p-1 border",children:c.jsx("div",{className:"w-full h-14 rounded-full border-2 border-gray-400 flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-300"})})}),c.jsx("div",{className:"py-1",children:"1012 hPa"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"font-bold",children:"Wed"}),c.jsx("div",{className:"text-xs",children:"1-17"}),c.jsx("div",{className:"bg-blue-300 p-2 flex justify-center items-center",children:c.jsx("span",{className:"inline-block h-8 w-8 bg-yellow-300 rounded-full"})}),c.jsx("div",{className:"bg-red-500 p-1 text-white font-bold",children:"35 °C"}),c.jsx("div",{className:"bg-yellow-400 p-1 font-bold",children:"27 °C"}),c.jsx("div",{className:"py-1",children:"15 km/h"}),c.jsx("div",{className:"py-1",children:"24 km/h"}),c.jsx("div",{className:"py-1",children:"↓"}),c.jsx("div",{className:"bg-purple-300 p-1 font-bold",children:"11+"}),c.jsx("div",{className:"py-1",children:"69% rh"}),c.jsx("div",{className:"py-1 text-blue-500",children:"-"}),c.jsx("div",{className:"py-1 text-blue-500",children:"8%"}),c.jsx("div",{className:"p-1 border",children:c.jsx("div",{className:"w-full h-14 rounded-full border-2 border-gray-400 flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-300"})})}),c.jsx("div",{className:"py-1",children:"1012 hPa"})]})]})})})]})]})]})]})}),c.jsx("div",{className:"absolute bottom-4 left-4 z-10",children:c.jsx("button",{className:"bg-white dark:bg-gray-800 p-2 rounded-md shadow-lg",onClick:xn,children:b?"°C":"°F"})}),c.jsxs("div",{className:"absolute top-32 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 max-w-xs",children:[c.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"Map Legend"}),c.jsx("div",{className:"space-y-2",children:ge.map(N=>c.jsxs("div",{className:"flex items-center text-xs",children:[c.jsx("div",{className:"w-4 h-4 mr-2 rounded",style:Oh(N.id,i===N.id)}),c.jsx("span",{children:N.name})]},N.id))}),c.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Click on layer buttons to toggle visibility"})})]}),c.jsx(vs,{selectedLayer:i})]})},Jw=({activeView:t,setActiveView:e})=>{const[i,s]=D.useState(!0),{user:r,userProfile:o,loading:l,signOut:h}=Bh(),u=$h(),f=async()=>{try{const{error:v}=await h();v?console.error("Error signing out:",v):(console.log("User signed out successfully"),u("/signin",{replace:!0}))}catch(v){console.error("Exception during logout:",v)}},m=()=>{s(!i),document.body.classList.toggle("dark-mode")},x=()=>{var v;return r&&((o==null?void 0:o.full_name)||((v=r.email)==null?void 0:v.split("@")[0]))||"User"},_=()=>o!=null&&o.avatar_url?c.jsx("img",{alt:x(),className:"rounded-full w-8 h-8",src:o.avatar_url}):c.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-1 text-black-1 flex items-center justify-center font-bold",children:x().charAt(0).toUpperCase()});return c.jsxs("div",{className:"flex-1 bg-black-2 text-white rounded-xl flex flex-col justify-between gap-4",children:[c.jsxs("div",{className:"border-b-black-3 border-b px-5 py-6 flex items-center justify-between gap-2",children:[c.jsx("span",{className:"shrink-0 w-8 h-8 flex items-center justify-center rounded-full",children:l?c.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 animate-pulse"}):_()}),c.jsx("span",{className:"overflow-hidden",children:l?c.jsx("div",{className:"w-24 h-4 bg-gray-600 rounded animate-pulse"}):x()}),c.jsx("span",{className:"flex-1"}),c.jsx("button",{type:"button",title:"Sign out",onClick:f,children:c.jsx(Sm,{className:"w-5 h-5 hover:text-orange-2"})})]}),c.jsxs("ul",{className:"flex flex-col justify-start space-y-1 px-1 mt-4",children:[c.jsx("li",{className:"relative",children:c.jsxs("button",{type:"button",className:`relative flex items-center hover:text-orange-1 hover:bg-orange-1/30 rounded-full px-4 py-1 ${t==="home"?"text-orange-1 bg-orange-1/30":"text-white"}`,onClick:()=>e("home"),children:[c.jsx(Cm,{className:"w-6 h-6"}),c.jsx("span",{className:"relative pl-3",children:"Home"})]})}),c.jsx("li",{className:"relative",children:c.jsxs("button",{type:"button",className:`relative flex items-center hover:text-orange-1 hover:bg-orange-1/30 rounded-full px-4 py-1 ${t==="reports"?"text-orange-1 bg-orange-1/30":"text-white"}`,onClick:()=>{console.log("Sidebar: Setting view to reports"),e("reports")},children:[c.jsx(Pm,{className:"w-6 h-6"}),c.jsx("span",{className:"relative pl-3",children:"Reports"})]})}),c.jsx("li",{className:"relative",children:c.jsxs("button",{type:"button",className:`relative flex items-center hover:text-orange-1 hover:bg-orange-1/30 rounded-full px-4 py-1 ${t==="triggers"?"text-orange-1 bg-orange-1/30":"text-white"}`,onClick:()=>e("triggers"),children:[c.jsx(Tm,{className:"w-6 h-6"}),c.jsx("span",{className:"relative pl-3",children:"Triggers"})]})}),c.jsx("li",{className:"relative",children:c.jsxs("button",{type:"button",className:`relative flex items-center hover:text-orange-1 hover:bg-orange-1/30 rounded-full px-4 py-1 ${t==="tariff"?"text-orange-1 bg-orange-1/30":"text-white"}`,onClick:()=>e("tariff"),children:[c.jsx(Lm,{className:"w-6 h-6"}),c.jsx("span",{className:"relative pl-3",children:"Tariff"})]})}),c.jsx("li",{className:"relative",children:c.jsxs("button",{type:"button",className:`relative flex items-center hover:text-orange-1 hover:bg-orange-1/30 rounded-full px-4 py-1 ${t==="support"?"text-orange-1 bg-orange-1/30":"text-white"}`,onClick:()=>e("support"),children:[c.jsx(xc,{className:"w-6 h-6"}),c.jsx("span",{className:"relative pl-3",children:"Support centre"})]})}),c.jsx("li",{className:"relative",children:c.jsxs("button",{type:"button",className:`relative flex items-center hover:text-orange-1 hover:bg-orange-1/30 rounded-full px-4 py-1 ${t==="about"?"text-orange-1 bg-orange-1/30":"text-white"}`,onClick:()=>e("about"),children:[c.jsx(rn,{className:"w-6 h-6"}),c.jsx("span",{className:"relative pl-3",children:"About us"})]})}),c.jsx("li",{className:"relative",children:c.jsxs("button",{type:"button",className:`relative flex items-center hover:text-orange-1 hover:bg-orange-1/30 rounded-full px-4 py-1 ${t==="settings"?"text-orange-1 bg-orange-1/30":"text-white"}`,onClick:()=>e("settings"),children:[c.jsx(Mm,{className:"w-6 h-6"}),c.jsx("span",{className:"relative pl-3",children:"Settings"})]})})]}),c.jsx("div",{className:"border-t border-black-3"}),c.jsx("div",{className:"px-1",children:c.jsxs("button",{type:"button",className:"flex gap-2 rounded-full justify-center whitespace-nowrap items-center py-3 px-6 bg-orange-1 text-black-1 hover:enabled:bg-black-2 hover:enabled:text-white w-full",children:[c.jsx(xc,{className:"w-6 h-6"}),c.jsx("span",{className:"pl-3",children:"Ask a question"})]})}),c.jsx("div",{className:"flex-1"}),c.jsx("div",{className:"px-5 py-6 text-white border-t border-black-3",children:c.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[c.jsx(Em,{className:"w-6 h-6"}),c.jsx("span",{children:"Dark mode"}),c.jsx("div",{className:"relative w-11 h-6 bg-gray-200 rounded-full peer dark:bg-orange-2 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-orange-1",children:c.jsx("input",{className:"sr-only peer",type:"checkbox",checked:i,onChange:m})})]})})]})},Qw=async()=>{const{data:{session:t}}=await Yn.auth.getSession();return(t==null?void 0:t.user)||null},Rh=async t=>{try{if(!t){const r=await Qw();if(!r)return null;t=r.id}console.log("Fetching profile for user ID:",t);const{data:e,error:i}=await Yn.from("profiles").select("*").eq("id",t).single();if(i){if(console.warn("Error fetching profile with standard query:",i),i.code&&(i.code.startsWith("PGRST")||i.message.includes("schema cache"))){console.log("Attempting simpler profile query...");const{data:r,error:o}=await Yn.from("profiles").select("id").eq("id",t).single();return o?(console.error("Error with basic profile query:",o),null):{id:t,profile:r||{id:t}}}return null}const{data:s}=await Yn.auth.getUser(t);return{...s==null?void 0:s.user,profile:e}}catch(e){return console.error("Unexpected error fetching user profile:",e),null}},e1=()=>{const[t,e]=D.useState(null),[i,s]=D.useState(!0),[r,o]=D.useState(!1),[l,h]=D.useState({display_name:"",full_name:"",bio:"",organization:"",farming_type:""}),[u,f]=D.useState({text:"",type:""});D.useEffect(()=>{(async()=>{s(!0);const v=await Rh();e(v),v!=null&&v.profile&&h({display_name:v.profile.display_name||"",full_name:v.profile.full_name||"",bio:v.profile.bio||"",organization:v.profile.organization||"",farming_type:v.profile.farming_type||""}),s(!1)})()},[]);const m=_=>{const{name:v,value:w}=_.target;h(b=>({...b,[v]:w}))},x=async _=>{_.preventDefault(),o(!0),f({text:"",type:""});try{const{error:v}=await Yn.from("profiles").upsert({id:t.id,...l,updated_at:new Date().toISOString()});if(v)throw v;f({text:"Profile updated successfully!",type:"success"});const w=await Rh();e(w)}catch(v){console.error("Error updating profile:",v),f({text:"Error updating profile. Please try again.",type:"error"})}finally{o(!1),setTimeout(()=>{f({text:"",type:""})},3e3)}};return i?c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Settings"}),c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-20 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"})]})]}):t?c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Settings"}),u.text&&c.jsx("div",{className:`p-3 rounded mb-4 ${u.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.text}),c.jsxs("form",{onSubmit:x,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:t.email||"",className:"w-full p-2 border border-gray-300 rounded bg-gray-100",disabled:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"display_name",children:"Display Name"}),c.jsx("input",{type:"text",id:"display_name",name:"display_name",value:l.display_name,onChange:m,className:"w-full p-2 border border-gray-300 rounded",placeholder:"How you want to be addressed"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"full_name",children:"Full Name"}),c.jsx("input",{type:"text",id:"full_name",name:"full_name",value:l.full_name,onChange:m,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Your full name"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"bio",children:"Bio"}),c.jsx("textarea",{id:"bio",name:"bio",value:l.bio,onChange:m,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Tell us a bit about yourself",rows:"3"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"organization",children:"Organization"}),c.jsx("input",{type:"text",id:"organization",name:"organization",value:l.organization,onChange:m,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Your organization or farm name"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"farming_type",children:"Farming Type"}),c.jsxs("select",{id:"farming_type",name:"farming_type",value:l.farming_type,onChange:m,className:"w-full p-2 border border-gray-300 rounded",children:[c.jsx("option",{value:"",children:"Select farming type"}),c.jsx("option",{value:"crop",children:"Crop Farming"}),c.jsx("option",{value:"livestock",children:"Livestock Farming"}),c.jsx("option",{value:"dairy",children:"Dairy Farming"}),c.jsx("option",{value:"poultry",children:"Poultry Farming"}),c.jsx("option",{value:"horticulture",children:"Horticulture"}),c.jsx("option",{value:"mixed",children:"Mixed Farming"}),c.jsx("option",{value:"organic",children:"Organic Farming"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"bg-orange-1 text-black-1 px-4 py-2 rounded hover:bg-orange-2 disabled:opacity-50",disabled:r,children:r?"Saving...":"Save Changes"})})]})]}):c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profile Settings"}),c.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded",children:"You need to be logged in to view this page."})]})},t1=()=>{const[t,e]=D.useState("maps"),[i,s]=D.useState("weather"),{loading:r,user:o}=Bh();$h();const[l,h]=D.useState({lat:51.505,lng:-.09,name:"London"});if(D.useEffect(()=>(window.setDashboardView=e,()=>{delete window.setDashboardView}),[]),D.useEffect(()=>(document.body.classList.add("dark-mode"),()=>{document.body.classList.remove("dark-mode")}),[]),D.useEffect(()=>{console.log("Dashboard mounted, user:",(o==null?void 0:o.id)||"No user ID available"),setTimeout(()=>{console.log("Forcing dashboard refresh");const f=window.location.pathname,m=window.location.hash;console.log("URL path:",f,"URL hash:",m),f.includes("/reports")||m==="#reports"?(console.log("Setting view to reports based on URL"),e("reports")):e("home")},1e3)},[o]),D.useEffect(()=>{const f=()=>{const m=window.location.hash;console.log("Hash changed to:",m),m==="#reports"&&(console.log("Setting view to reports based on hash change"),e("reports"))};return window.addEventListener("hashchange",f),f(),()=>{window.removeEventListener("hashchange",f)}},[]),D.useEffect(()=>{console.log("Requesting user location..."),(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async m=>{console.log("Geolocation successful:",m.coords);try{const _=await(await fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${m.coords.latitude}&lon=${m.coords.longitude}&limit=1&appid=deeaa95f4b7b2543dc8c3d9cb96396c6`)).json();_&&_.length>0?(console.log("Location data:",_[0]),h({lat:m.coords.latitude,lng:m.coords.longitude,name:_[0].name||"Your Location"})):h({lat:m.coords.latitude,lng:m.coords.longitude,name:"Your Location"})}catch(x){console.error("Error getting location name:",x),h({lat:m.coords.latitude,lng:m.coords.longitude,name:"Your Location"})}},m=>{console.error("Error getting user location:",m),m.code===1&&alert("Location access was denied. Please enable location access in your browser settings for better weather information.")},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0}):console.error("Geolocation is not supported by this browser")})()},[]),D.useEffect(()=>{if(!o)return;console.log("Dashboard mounted, user:",o==null?void 0:o.id);const f=setTimeout(()=>{console.log("Forcing dashboard refresh"),e(m=>m==="maps"?"home":"maps")},500);return()=>clearTimeout(f)},[o]),r)return c.jsx(Sv,{});if(!o)return c.jsx(zm,{to:"/signin",replace:!0});const u=()=>{switch(t){case"forecast":return c.jsx(kv,{});case"crops":return c.jsx(Nv,{});case"maps":case"home":return c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx(Xw,{location:l,mode:i}),c.jsx("div",{className:"absolute top-4 right-4 z-20 bg-white dark:bg-gray-800 rounded-lg shadow-md p-2",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("div",{className:"relative group",children:[c.jsxs("button",{className:`px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center justify-center min-w-[100px] ${i==="weather"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>{console.log("Setting map mode to weather"),s("weather")},children:[c.jsx(Am,{className:"inline mr-2",size:16}),c.jsx("span",{className:"whitespace-nowrap",children:"Weather"})]}),c.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-black text-white text-xs rounded py-1 px-2 w-60 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 pointer-events-none",children:[c.jsx("p",{className:"font-bold mb-1",children:"Weather Mode"}),c.jsx("p",{children:"Displays temperature, precipitation, wind speed, and other weather data layers on the map."})]})]}),c.jsxs("div",{className:"relative group",children:[c.jsxs("button",{className:`px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center justify-center min-w-[100px] ${i==="irrigation"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>{console.log("Setting map mode to irrigation"),s("irrigation")},children:[c.jsx(Dn,{className:"inline mr-2",size:16}),c.jsx("span",{className:"whitespace-nowrap",children:"Irrigation"})]}),c.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-black text-white text-xs rounded py-1 px-2 w-60 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 pointer-events-none",children:[c.jsx("p",{className:"font-bold mb-1",children:"Irrigation Mode"}),c.jsx("p",{children:"Shows soil moisture, irrigation needs, and crop growth projections based on weather patterns."})]})]}),c.jsxs("div",{className:"relative group",children:[c.jsxs("button",{className:`px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center justify-center min-w-[100px] ${i==="trade"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>{console.log("Setting map mode to trade"),s("trade")},children:[c.jsx(Fm,{className:"inline mr-2",size:16}),c.jsx("span",{className:"whitespace-nowrap",children:"Trade"})]}),c.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-black text-white text-xs rounded py-1 px-2 w-60 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 pointer-events-none",children:[c.jsx("p",{className:"font-bold mb-1",children:"Trade Mode"}),c.jsx("p",{children:"Displays agricultural trade events, tariff information, and potential export market data."})]})]})]})})]});case"reports":return c.jsxs("div",{className:"reports-panel p-5",children:[c.jsxs("div",{className:"page-header mb-6 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Weather Data Hub"}),c.jsx("p",{className:"text-gray-800 dark:text-white font-medium",children:"Powered by OpenWeather API"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:"px-3 py-1 bg-green-500 hover:bg-green-600 text-white rounded text-sm font-medium transition-colors",children:"Refresh Data"}),c.jsxs("select",{className:"px-3 py-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm",children:[c.jsx("option",{children:"Metric Units"}),c.jsx("option",{children:"Imperial Units"})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:c.jsx("nav",{className:"-mb-px flex space-x-4","aria-label":"Tabs",children:["Temperature","Precipitation","Wind","Clouds","Crop Growth","Trade"].map(f=>c.jsx("button",{className:`py-2 px-4 text-sm font-medium border-b-2 ${f==="Temperature"?"border-orange-1 text-orange-1 dark:text-orange-1":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>{console.log(`Switching to ${f} report`)},children:f},f))})})}),c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden col-span-2",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Temperature Trends"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"30-day historical temperature data"})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"h-80 bg-gray-100 dark:bg-gray-700 flex items-center justify-center rounded-md",children:c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Temperature chart visualization will be displayed here"})}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Temp"}),c.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"24.5°C"})]}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Max Temp"}),c.jsx("p",{className:"text-xl font-semibold text-red-500",children:"38.2°C"})]}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Min Temp"}),c.jsx("p",{className:"text-xl font-semibold text-blue-500",children:"12.7°C"})]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Temperature Summary"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current month vs historical data"})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vs. Last Month"}),c.jsx("span",{className:"text-sm font-medium text-red-500",children:"+2.3°C"})]}),c.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:c.jsx("div",{className:"h-2 bg-red-500 rounded-full",style:{width:"68%"}})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vs. Last Year"}),c.jsx("span",{className:"text-sm font-medium text-red-500",children:"+1.8°C"})]}),c.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:c.jsx("div",{className:"h-2 bg-red-500 rounded-full",style:{width:"55%"}})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vs. 5-Year Avg"}),c.jsx("span",{className:"text-sm font-medium text-red-500",children:"+2.1°C"})]}),c.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:c.jsx("div",{className:"h-2 bg-red-500 rounded-full",style:{width:"62%"}})})]}),c.jsx("div",{className:"mt-6 p-3 bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-500 dark:border-yellow-600 rounded-r-md",children:c.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[c.jsx("span",{className:"font-medium",children:"Note:"})," Current month shows significantly higher temperatures than historical averages."]})})]})]})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Agricultural Impacts"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-2 rounded-md mr-3",children:c.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),c.jsx("h4",{className:"text-md font-semibold text-gray-800 dark:text-white",children:"Growing Degree Days"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"1,245 GDD"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Accumulated since planting"}),c.jsx("div",{className:"mt-3 flex items-center",children:c.jsx("span",{className:"text-green-500 text-sm font-medium",children:"+12% from average"})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-md mr-3",children:c.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsx("h4",{className:"text-md font-semibold text-gray-800 dark:text-white",children:"Heat Stress Days"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"6 days"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Above optimal temperature"}),c.jsx("div",{className:"mt-3 flex items-center",children:c.jsx("span",{className:"text-red-500 text-sm font-medium",children:"+4 days from last year"})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-2 rounded-md mr-3",children:c.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),c.jsx("h4",{className:"text-md font-semibold text-gray-800 dark:text-white",children:"Projected Harvest"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"Oct 15-22"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Based on current GDD"}),c.jsx("div",{className:"mt-3 flex items-center",children:c.jsx("span",{className:"text-green-500 text-sm font-medium",children:"7 days earlier than avg"})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-2 rounded-md mr-3",children:c.jsx("svg",{className:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h4",{className:"text-md font-semibold text-gray-800 dark:text-white",children:"Risk Assessment"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"Moderate"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drought potential"}),c.jsx("div",{className:"mt-3 flex items-center",children:c.jsx("span",{className:"text-orange-500 text-sm font-medium",children:"Increased risk level"})})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[c.jsx("button",{className:"px-4 py-2 bg-white dark:bg-gray-700 text-gray-700 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:c.jsxs("span",{className:"flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Export PDF"]})}),c.jsx("button",{className:"px-4 py-2 bg-white dark:bg-gray-700 text-gray-700 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:c.jsxs("span",{className:"flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share Report"]})}),c.jsx("button",{className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md text-sm font-medium transition-colors",children:c.jsxs("span",{className:"flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18v-6m0 0V6m0 6h6m-6 0H6"})}),"Create Custom Report"]})})]}),c.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 rounded-md",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Enhanced Reports Coming Soon"}),c.jsx("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:c.jsx("p",{children:"We're working on adding more detailed reports with interactive visualizations and export options. Stay tuned for updates!"})})]})]})})]});case"alerts":return c.jsxs("div",{className:"alerts-panel-full p-5",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Weather Alerts"}),c.jsx("p",{children:"Comprehensive weather alerts and warnings will be displayed here."})]});case"settings":return c.jsx(e1,{});case"support":return c.jsxs("div",{className:"support-panel p-5",children:[c.jsxs("div",{className:"page-header mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Support Center"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Get help with your AgriWeather Pro account and services"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Frequently Asked Questions"})}),c.jsx("div",{className:"p-5",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[c.jsx("button",{className:"w-full px-4 py-3 text-left bg-gray-100 dark:bg-gray-700 font-medium text-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"How accurate are the weather forecasts?"}),c.jsx("div",{className:"px-4 py-3",children:c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Our weather forecasts are sourced from multiple meteorological services and have an accuracy rate of over 90% for 48-hour forecasts. The longer the forecast period, the more the accuracy may decrease. We use advanced algorithms to provide the most accurate predictions possible."})})]}),c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[c.jsx("button",{className:"w-full px-4 py-3 text-left bg-gray-100 dark:bg-gray-700 font-medium text-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"How do I set up weather alerts for my farm?"}),c.jsx("div",{className:"px-4 py-3",children:c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:'You can set up weather alerts in the "Triggers" section of your dashboard. Select the weather conditions you want to be notified about, set thresholds, and choose how you want to receive notifications (SMS, email, or app notifications).'})})]}),c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[c.jsx("button",{className:"w-full px-4 py-3 text-left bg-gray-100 dark:bg-gray-700 font-medium text-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Can I upgrade or downgrade my subscription plan?"}),c.jsx("div",{className:"px-4 py-3",children:c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:`Yes, you can change your subscription plan at any time from the "Tariff" section. When upgrading, you'll have immediate access to the new features. When downgrading, your current plan will remain active until the end of your billing cycle.`})})]}),c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[c.jsx("button",{className:"w-full px-4 py-3 text-left bg-gray-100 dark:bg-gray-700 font-medium text-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"How are crop yield predictions calculated?"}),c.jsx("div",{className:"px-4 py-3",children:c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Our crop yield predictions use a combination of historical weather data, current forecasts, soil conditions, crop type information, and machine learning algorithms trained on millions of data points from similar farms and conditions."})})]})]})})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Contact Support"})}),c.jsxs("div",{className:"p-5",children:[c.jsxs("form",{className:"space-y-4",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),c.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{children:"Technical Issue"}),c.jsx("option",{children:"Billing Question"}),c.jsx("option",{children:"Feature Request"}),c.jsx("option",{children:"Account Help"}),c.jsx("option",{children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message"}),c.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",rows:"5",placeholder:"Describe your issue or question..."})]}),c.jsx("div",{className:"form-group",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Include system diagnostic information"})]})}),c.jsx("button",{type:"button",className:"px-4 py-2 bg-orange-1 text-black-1 rounded hover:bg-orange-2 text-sm font-medium w-full",children:"Submit Request"})]}),c.jsxs("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4 text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Other ways to get help:"}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsxs("button",{className:"text-orange-1 hover:text-orange-2",children:[c.jsx("span",{className:"sr-only",children:"Email"}),c.jsxs("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),c.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})]}),c.jsxs("button",{className:"text-orange-1 hover:text-orange-2",children:[c.jsx("span",{className:"sr-only",children:"Phone"}),c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})]}),c.jsxs("button",{className:"text-orange-1 hover:text-orange-2",children:[c.jsx("span",{className:"sr-only",children:"Chat"}),c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})]})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md text-center",children:[c.jsx("svg",{className:"w-12 h-12 mx-auto text-orange-1 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Knowledge Base"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Explore our comprehensive guides, tutorials, and articles"}),c.jsx("button",{className:"px-4 py-2 bg-orange-1 text-black-1 rounded hover:bg-orange-2 text-sm font-medium",children:"Browse Articles"})]}),c.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md text-center",children:[c.jsx("svg",{className:"w-12 h-12 mx-auto text-orange-1 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Video Tutorials"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Watch step-by-step videos to learn how to use our platform"}),c.jsx("button",{className:"px-4 py-2 bg-orange-1 text-black-1 rounded hover:bg-orange-2 text-sm font-medium",children:"Watch Videos"})]}),c.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md text-center",children:[c.jsxs("svg",{className:"w-12 h-12 mx-auto text-orange-1 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),c.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),c.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Community Forum"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Connect with other users to share tips and get help"}),c.jsx("button",{className:"px-4 py-2 bg-orange-1 text-black-1 rounded hover:bg-orange-2 text-sm font-medium",children:"Join Community"})]})]})]});case"triggers":return c.jsxs("div",{className:"triggers-panel p-5",children:[c.jsxs("div",{className:"page-header mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Weather Triggers & Alerts"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Set up custom notifications for specific weather conditions relevant to your farm"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Active Triggers"})}),c.jsx("div",{className:"p-5",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"trigger-item border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full mr-2"}),c.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Frost Alert"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:c.jsx(Dn,{className:"w-4 h-4"})}),c.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:c.jsx(Do,{className:"w-4 h-4"})})]})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Alert when temperature drops below 0°C"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[c.jsx("span",{children:"Location: North Field"}),c.jsx("span",{children:"SMS & Email"})]})]}),c.jsxs("div",{className:"trigger-item border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full mr-2"}),c.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Heavy Rain Alert"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:c.jsx(Dn,{className:"w-4 h-4"})}),c.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:c.jsx(Do,{className:"w-4 h-4"})})]})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Alert when precipitation exceeds 25mm in 24 hours"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[c.jsx("span",{children:"Location: All Fields"}),c.jsx("span",{children:"SMS"})]})]}),c.jsxs("div",{className:"trigger-item border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full mr-2"}),c.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Heat Stress Warning"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:c.jsx(Dn,{className:"w-4 h-4"})}),c.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:c.jsx(Do,{className:"w-4 h-4"})})]})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Alert when temperature exceeds 32°C for more than 3 hours"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[c.jsx("span",{children:"Location: Greenhouse"}),c.jsx("span",{children:"Email & App"})]})]})]})})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Create New Trigger"})}),c.jsx("div",{className:"p-5",children:c.jsxs("form",{className:"space-y-4",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Trigger Name"}),c.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",placeholder:"Enter trigger name"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weather Condition"}),c.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{children:"Temperature"}),c.jsx("option",{children:"Precipitation"}),c.jsx("option",{children:"Wind Speed"}),c.jsx("option",{children:"Humidity"}),c.jsx("option",{children:"UV Index"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Threshold"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",placeholder:"Value"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Condition"}),c.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{children:"Below"}),c.jsx("option",{children:"Above"}),c.jsx("option",{children:"Equal to"})]})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),c.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{children:"All Fields"}),c.jsx("option",{children:"North Field"}),c.jsx("option",{children:"South Field"}),c.jsx("option",{children:"Greenhouse"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notification Method"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"SMS"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Email"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"App Notification"})]})]})]}),c.jsx("button",{type:"button",className:"px-4 py-2 bg-orange-1 text-black-1 rounded hover:bg-orange-2 text-sm font-medium w-full",children:"Create Trigger"})]})})]})]})]});case"tariff":return c.jsxs("div",{className:"tariff-panel p-5",children:[c.jsxs("div",{className:"page-header mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Agricultural Tariffs Impact Tracker"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Monitor US and global trade tariffs affecting agricultural goods and services"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md p-5 border-l-4 border-red-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current US-China"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"25%"})]}),c.jsx("span",{className:"text-red-500 text-2xl",children:c.jsxs("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{fillRule:"evenodd",d:"M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 110 4h-5V9a1 1 0 10-2 0v1H4a2 2 0 110-4h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-1 1h1zm3 0a1 1 0 10-1-1v1h1z",clipRule:"evenodd"}),c.jsx("path",{d:"M9 11H3v5a2 2 0 002 2h4v-7zM11 18h4a2 2 0 002-2v-5h-6v7z"})]})})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"On soybeans, corn, and wheat"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md p-5 border-l-4 border-orange-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"US-EU"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"15%"})]}),c.jsx("span",{className:"text-orange-500 text-2xl",children:c.jsx("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})})})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"On farm equipment and machinery"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md p-5 border-l-4 border-yellow-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Fertilizer Tariff"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"10%"})]}),c.jsx("span",{className:"text-yellow-500 text-2xl",children:c.jsx("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"})})})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"On imported fertilizers and nutrients"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md p-5 border-l-4 border-green-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Price Impact"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"+18%"})]}),c.jsx("span",{className:"text-green-500 text-2xl",children:c.jsx("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Average cost increase on affected goods"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Current US Tariffs on Agricultural Goods"})}),c.jsx("div",{className:"p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Country"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tariff Rate"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Impact"})]})}),c.jsxs("tbody",{className:"bg-gray-50 dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Soybeans"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"China"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"25%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-500",children:"High"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Fertilizers"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Russia"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"15%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-500",children:"Medium"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Dairy Products"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"EU"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"12%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-500",children:"Medium"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Farm Equipment"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Multiple"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"10%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-yellow-500",children:"Moderate"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Pesticides"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"China"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"18%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-500",children:"Medium"})]})]})]})})})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Tariffs on US Agricultural Exports"})}),c.jsx("div",{className:"p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Target Country"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tariff Rate"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Impact"})]})}),c.jsxs("tbody",{className:"bg-gray-50 dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Corn"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"China"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"25%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-500",children:"High"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Pork"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Mexico"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"20%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-500",children:"High"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Wheat"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"EU"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"8%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-yellow-500",children:"Moderate"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Cotton"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"India"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"15%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-500",children:"Medium"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Beef"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"Japan"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:"12%"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-500",children:"Medium"})]})]})]})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Projected Price Impact"})}),c.jsx("div",{className:"p-5",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-3",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fertilizers"}),c.jsx("span",{className:"text-sm font-medium text-red-500",children:"+23%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:c.jsx("div",{className:"bg-red-500 h-2.5 rounded-full",style:{width:"85%"}})})]}),c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-3",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Farm Equipment"}),c.jsx("span",{className:"text-sm font-medium text-orange-500",children:"+15%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:c.jsx("div",{className:"bg-orange-500 h-2.5 rounded-full",style:{width:"65%"}})})]}),c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-3",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Seeds"}),c.jsx("span",{className:"text-sm font-medium text-yellow-500",children:"+10%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:c.jsx("div",{className:"bg-yellow-500 h-2.5 rounded-full",style:{width:"45%"}})})]}),c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-3",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pesticides"}),c.jsx("span",{className:"text-sm font-medium text-orange-500",children:"+18%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:c.jsx("div",{className:"bg-orange-500 h-2.5 rounded-full",style:{width:"70%"}})})]}),c.jsxs("div",{className:"pb-3",children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Irrigation Systems"}),c.jsx("span",{className:"text-sm font-medium text-green-500",children:"+8%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:c.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"35%"}})})]})]})})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Tariff Impact Calculator"})}),c.jsxs("div",{className:"p-5",children:[c.jsxs("form",{className:"space-y-4",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Agricultural Product"}),c.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{children:"Soybeans"}),c.jsx("option",{children:"Corn"}),c.jsx("option",{children:"Wheat"}),c.jsx("option",{children:"Dairy"}),c.jsx("option",{children:"Beef"}),c.jsx("option",{children:"Pork"}),c.jsx("option",{children:"Fertilizers"}),c.jsx("option",{children:"Farm Equipment"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity/Value"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",placeholder:"Enter amount in USD"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Market"}),c.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{children:"China"}),c.jsx("option",{children:"European Union"}),c.jsx("option",{children:"Mexico"}),c.jsx("option",{children:"Canada"}),c.jsx("option",{children:"Japan"}),c.jsx("option",{children:"South Korea"}),c.jsx("option",{children:"Brazil"})]})]}),c.jsx("button",{type:"button",className:"px-4 py-2 bg-orange-1 text-black-1 rounded hover:bg-orange-2 text-sm font-medium w-full",children:"Calculate Impact"})]}),c.jsx("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Estimated Tariff Cost"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"$0.00"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Select products and calculate to see impact"})]})})]})]})]}),c.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-5 py-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Latest Tariff News & Updates"})}),c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[c.jsx("h3",{className:"text-md font-medium text-gray-800 dark:text-white mb-1",children:"US-China Phase One Deal Review Expected Next Month"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Officials will meet to review agricultural commitments under the Phase One trade deal, potentially affecting current tariff rates on soybeans and corn."}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"March 10, 2025"})]}),c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[c.jsx("h3",{className:"text-md font-medium text-gray-800 dark:text-white mb-1",children:"EU Considers New Tariffs on US Agricultural Machinery"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"European Commission proposes 15% tariff on imported US farm equipment in response to ongoing steel and aluminum disputes."}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"March 5, 2025"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-md font-medium text-gray-800 dark:text-white mb-1",children:"Fertilizer Tariffs May Increase Due to Supply Chain Issues"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Global fertilizer markets facing pressure as countries consider new protective measures amid ongoing supply chain disruptions."}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"February 28, 2025"})]})]}),c.jsx("button",{className:"mt-6 px-4 py-2 bg-orange-1 text-black-1 rounded hover:bg-orange-2 text-sm font-medium",children:"View All Tariff News"})]})]})]});case"about":return c.jsxs("div",{className:"about-panel p-5",children:[c.jsxs("div",{className:"page-header mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"About AgriWeather Pro"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Learn about our mission and the team behind AgriWeather Pro"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Our Mission"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"At AgriWeather Pro, we are dedicated to empowering farmers with precise weather information and agricultural insights. Our mission is to help optimize farming operations, increase crop yields, and promote sustainable agricultural practices through advanced weather technology."}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"We believe that accurate, timely weather data is crucial for modern farming success. By combining meteorological expertise with cutting-edge technology, we provide tools that help farmers make informed decisions, reduce risks, and maximize productivity."}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Our platform is designed by farmers, for farmers, with a deep understanding of the challenges and opportunities in agriculture. We are committed to continuous improvement and innovation to address the evolving needs of the farming community."})]})}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Our Technology"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"AgriWeather Pro leverages multiple data sources and advanced algorithms to provide highly accurate weather forecasts tailored specifically for agricultural applications."}),c.jsxs("div",{className:"space-y-4 mt-6",children:[c.jsxs("div",{className:"border-l-4 border-orange-1 pl-4",children:[c.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-1",children:"Advanced Weather Modeling"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"We combine data from multiple meteorological sources and use proprietary algorithms to generate hyperlocal forecasts with exceptional accuracy."})]}),c.jsxs("div",{className:"border-l-4 border-orange-1 pl-4",children:[c.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-1",children:"Machine Learning"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Our AI systems continuously learn from historical data, improving prediction accuracy for crop yields, pest management, and irrigation needs."})]}),c.jsxs("div",{className:"border-l-4 border-orange-1 pl-4",children:[c.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-1",children:"Satellite Integration"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"We incorporate satellite imagery and remote sensing data to provide real-time field conditions and early detection of potential issues."})]}),c.jsxs("div",{className:"border-l-4 border-orange-1 pl-4",children:[c.jsx("h3",{className:"font-medium text-gray-800 dark:text-white mb-1",children:"Mobile-First Design"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Our platform is designed to be accessible anywhere, ensuring farmers can access critical information whether in the office or in the field."})]})]})]})})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Company Facts"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 bg-orange-1 rounded-full p-1 w-8 h-8 flex items-center justify-center text-black-1",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-800 dark:text-white",children:"Founded"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"2024"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 bg-orange-1 rounded-full p-1 w-8 h-8 flex items-center justify-center text-black-1",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-800 dark:text-white",children:"Headquarters"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Phoenix, AZ, USA with data gathered globally"})]})]})]})]})}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Connect With Us"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("a",{href:"#",className:"flex items-center text-gray-800 dark:text-white hover:text-orange-1 dark:hover:text-orange-1",children:[c.jsxs("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:[c.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),c.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),c.jsx("span",{children:"Sales@synthed.xyz"})]}),c.jsxs("a",{href:"#",className:"flex items-center text-gray-800 dark:text-white hover:text-orange-1 dark:hover:text-orange-1",children:[c.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),c.jsx("span",{children:"480-382-0287"})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-800 dark:text-white mb-3",children:"Follow Us"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("a",{href:"#",className:"text-gray-600 hover:text-orange-1 dark:text-gray-400 dark:hover:text-orange-1",children:[c.jsx("span",{className:"sr-only",children:"Twitter"}),c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),c.jsxs("a",{href:"#",className:"text-gray-600 hover:text-orange-1 dark:text-gray-400 dark:hover:text-orange-1",children:[c.jsx("span",{className:"sr-only",children:"LinkedIn"}),c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]}),c.jsxs("a",{href:"#",className:"text-gray-600 hover:text-orange-1 dark:text-gray-400 dark:hover:text-orange-1",children:[c.jsx("span",{className:"sr-only",children:"Facebook"}),c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),c.jsxs("a",{href:"#",className:"text-gray-600 hover:text-orange-1 dark:text-gray-400 dark:hover:text-orange-1",children:[c.jsx("span",{className:"sr-only",children:"Instagram"}),c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})]})]})]})]})})]})]})]});default:return c.jsxs("div",{className:"dashboard-welcome p-5",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Welcome to AgriWeather Pro Dashboard"}),c.jsx("p",{children:"Select an option from the sidebar to view detailed weather information."})]})}};return console.log("Rendering dashboard with activeView:",t),c.jsxs("div",{className:"dashboard-layout",children:[c.jsx(Jw,{activeView:t,setActiveView:e}),c.jsx("div",{className:"dashboard-main",children:c.jsx("div",{className:"dashboard-content",children:u()})})]})},S1=Object.freeze(Object.defineProperty({__proto__:null,default:t1},Symbol.toStringTag,{value:"Module"}));export{Vr as C,S1 as D,va as L,cr as P,kv as W,_a as a,$n as b,Py as c,yy as d,Bt as e,$y as f,N1 as g,Nv as h,Le as i,Xw as j,Sv as k,Dm as l,vy as p};
//# sourceMappingURL=dashboard-CCUIGD2c.js.map
