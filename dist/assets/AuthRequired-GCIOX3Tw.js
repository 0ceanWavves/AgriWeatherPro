import{v as u,j as e,a1 as p,m as y,a2 as b,a3 as j,a4 as N}from"./auth-uUeJCO__.js";import{r as l,d as v,L as g}from"./vendor-DrPEMai6.js";const S=()=>{var x;const{user:s,resendVerification:h}=u(),[n,c]=l.useState(!1),[t,o]=l.useState(!1),[d,m]=l.useState(null),r=((x=v().state)==null?void 0:x.message)||"Authentication required to access this content.",i=s&&r.toLowerCase().includes("verify")&&r.toLowerCase().includes("email"),f=async()=>{if(s!=null&&s.email){c(!0),o(!1),m(null);try{const{error:a}=await h(s.email);if(a)throw a;o(!0)}catch(a){console.error("Error resending verification email:",a),m(a.message||"Failed to resend verification email. Please try again later.")}finally{c(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-lg w-full p-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"inline-block p-4 bg-yellow-100 dark:bg-yellow-900 rounded-full",children:e.jsx(p,{className:"text-4xl text-yellow-500"})})}),e.jsxs("div",{className:"mb-6",children:[e.jsx(y,{className:"text-6xl text-primary mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:i?"Email Verification Required":"Authentication Required"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:r}),i&&e.jsxs("div",{className:"mt-6 mb-6",children:[t?e.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900 rounded-lg text-green-800 dark:text-green-200 mb-4",children:"Verification email sent! Please check your inbox and spam folder."}):d?e.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900 rounded-lg text-red-800 dark:text-red-200 mb-4",children:d}):null,e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["We've sent a verification link to ",e.jsx("strong",{children:s==null?void 0:s.email}),". If you didn't receive it, click below to resend the email."]}),e.jsxs("button",{onClick:f,disabled:n||t,className:"flex items-center justify-center gap-2 mx-auto bg-primary hover:bg-primary/90 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(b,{}),n?"Sending...":t?"Email Sent":"Resend Verification Email"]})]})]}),!s&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[e.jsxs(g,{to:"/signin",className:"flex items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:[e.jsx(j,{}),"Sign In"]}),e.jsxs(g,{to:"/signup",className:"flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-primary border-2 border-primary font-bold py-3 px-6 rounded-lg transition-colors dark:bg-transparent dark:hover:bg-gray-700",children:[e.jsx(N,{}),"Create Account"]})]}),!i&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Why Create an Account?"}),e.jsxs("ul",{className:"text-left space-y-2 text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Access personalized weather forecasts for your specific locations"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Save and track crop yield predictions for different crops"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Receive customized alerts and notifications for weather events"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Track historical weather data and view agricultural insights"]})]})]})]})})};export{S as default};
//# sourceMappingURL=AuthRequired-GCIOX3Tw.js.map
